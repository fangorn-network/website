{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/capabilities/node_modules/uint8arrays/dist/src/equals.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/uint8arrays/src/equals.ts"],"sourcesContent":["/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals (a: Uint8Array, b: Uint8Array): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (a.byteLength !== b.byteLength) {\n    return false\n  }\n\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACG,SAAU,MAAM,CAAE,CAAa,EAAE,CAAa;IAClD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QACZ,OAAO,IAAI,CAAA;IACb,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,EAAE,CAAC;QAClC,OAAO,KAAK,CAAA;IACd,CAAC;IAED,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE,CAAE,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAClB,OAAO,KAAK,CAAA;QACd,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAA;AACb,CAAC"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/equals.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/equals.ts"],"sourcesContent":["/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals (a: Uint8Array, b: Uint8Array): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (a.byteLength !== b.byteLength) {\n    return false\n  }\n\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACG,SAAU,MAAM,CAAE,CAAa,EAAE,CAAa;IAClD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QACZ,OAAO,IAAI,CAAA;IACb,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,EAAE,CAAC;QAClC,OAAO,KAAK,CAAA;IACd,CAAC;IAED,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE,CAAE,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAClB,OAAO,KAAK,CAAA;QACd,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAA;AACb,CAAC"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/alloc.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/alloc.ts"],"sourcesContent":["/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n"],"names":[],"mappings":"AAAA;;;GAGG;;;;;;AACG,SAAU,KAAK,CAAE,OAAe,CAAC;IACrC,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAA;AAC7B,CAAC;AAOK,SAAU,WAAW,CAAE,OAAe,CAAC;IAC3C,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/util/as-uint8array.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/util/as-uint8array.ts"],"sourcesContent":["/**\n * To guarantee Uint8Array semantics, convert nodejs Buffers\n * into vanilla Uint8Arrays\n */\nexport function asUint8Array (buf: Uint8Array): Uint8Array {\n  return buf\n}\n"],"names":[],"mappings":"AAAA;;;GAGG;;;;AACG,SAAU,YAAY,CAAE,GAAe;IAC3C,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/xor.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/xor.ts"],"sourcesContent":["import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns the xor distance between two Uint8Arrays\n */\nexport function xor (a: Uint8Array, b: Uint8Array): Uint8Array {\n  if (a.length !== b.length) {\n    throw new Error('Inputs should have the same length')\n  }\n\n  const result = allocUnsafe(a.length)\n\n  for (let i = 0; i < a.length; i++) {\n    result[i] = a[i] ^ b[i]\n  }\n\n  return asUint8Array(result)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AACpC,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAA;;;AAK5C,SAAU,GAAG,CAAE,CAAa,EAAE,CAAa;IAC/C,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;QAC1B,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAA;IACvD,CAAC;IAED,MAAM,MAAM,OAAG,oNAAW,EAAC,CAAC,CAAC,MAAM,CAAC,CAAA;IAEpC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QAClC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;IACzB,CAAC;IAED,WAAO,wOAAY,EAAC,MAAM,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/compare.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/compare.ts"],"sourcesContent":["/**\n * Can be used with Array.sort to sort and array with Uint8Array entries\n */\nexport function compare (a: Uint8Array, b: Uint8Array): number {\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] < b[i]) {\n      return -1\n    }\n\n    if (a[i] > b[i]) {\n      return 1\n    }\n  }\n\n  if (a.byteLength > b.byteLength) {\n    return 1\n  }\n\n  if (a.byteLength < b.byteLength) {\n    return -1\n  }\n\n  return 0\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACG,SAAU,OAAO,CAAE,CAAa,EAAE,CAAa;IACnD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE,CAAE,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAC,CAAA;QACX,CAAC;QAED,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAA;QACV,CAAC;IACH,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,CAAC,CAAA;IACV,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,CAAC,CAAC,CAAA;IACX,CAAC;IAED,OAAO,CAAC,CAAA;AACV,CAAC"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/concat.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/concat.ts"],"sourcesContent":["import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns a new Uint8Array created by concatenating the passed Uint8Arrays\n */\nexport function concat (arrays: Uint8Array[], length?: number): Uint8Array {\n  if (length == null) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0)\n  }\n\n  const output = allocUnsafe(length)\n  let offset = 0\n\n  for (const arr of arrays) {\n    output.set(arr, offset)\n    offset += arr.length\n  }\n\n  return asUint8Array(output)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AACpC,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAA;;;AAK5C,SAAU,MAAM,CAAE,MAAoB,EAAE,MAAe;IAC3D,IAAI,MAAM,IAAI,IAAI,EAAE,CAAC;QACnB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAG,CAAD,EAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;IAC7D,CAAC;IAED,MAAM,MAAM,OAAG,oNAAW,EAAC,MAAM,CAAC,CAAA;IAClC,IAAI,MAAM,GAAG,CAAC,CAAA;IAEd,KAAK,MAAM,GAAG,IAAI,MAAM,CAAE,CAAC;QACzB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;QACvB,MAAM,IAAI,GAAG,CAAC,MAAM,CAAA;IACtB,CAAC;IAED,WAAO,wOAAY,EAAC,MAAM,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/util/bases.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/util/bases.ts"],"sourcesContent":["import { bases } from 'multiformats/basics'\nimport type { MultibaseCodec } from 'multiformats'\nimport { allocUnsafe } from '#alloc'\n\nfunction createCodec (name: string, prefix: string, encode: (buf: Uint8Array) => string, decode: (str: string) => Uint8Array): MultibaseCodec<any> {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: {\n      decode\n    }\n  }\n}\n\nconst string = createCodec('utf8', 'u', (buf) => {\n  const decoder = new TextDecoder('utf8')\n  return 'u' + decoder.decode(buf)\n}, (str) => {\n  const encoder = new TextEncoder()\n  return encoder.encode(str.substring(1))\n})\n\nconst ascii = createCodec('ascii', 'a', (buf) => {\n  let string = 'a'\n\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i])\n  }\n  return string\n}, (str) => {\n  str = str.substring(1)\n  const buf = allocUnsafe(str.length)\n\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i)\n  }\n\n  return buf\n})\n\nexport type SupportedEncodings = 'utf8' | 'utf-8' | 'hex' | 'latin1' | 'ascii' | 'binary' | keyof typeof bases\n\nconst BASES: Record<SupportedEncodings, MultibaseCodec<any>> = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii,\n  binary: ascii,\n\n  ...bases\n}\n\nexport default BASES\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAA;AAE3C,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;;;AAEpC,SAAS,WAAW,CAAE,IAAY,EAAE,MAAc,EAAE,MAAmC,EAAE,MAAmC;IAC1H,OAAO;QACL,IAAI;QACJ,MAAM;QACN,OAAO,EAAE;YACP,IAAI;YACJ,MAAM;YACN,MAAM;SACP;QACD,OAAO,EAAE;YACP,MAAM;SACP;KACF,CAAA;AACH,CAAC;AAED,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;IAC9C,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,MAAM,CAAC,CAAA;IACvC,OAAO,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AAClC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;IACT,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAA;IACjC,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;AACzC,CAAC,CAAC,CAAA;AAEF,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;IAC9C,IAAI,MAAM,GAAG,GAAG,CAAA;IAEhB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QACpC,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;IACvC,CAAC;IACD,OAAO,MAAM,CAAA;AACf,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;IACT,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;IACtB,MAAM,GAAG,OAAG,oNAAW,EAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IAEnC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QACpC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;IAC5B,CAAC;IAED,OAAO,GAAG,CAAA;AACZ,CAAC,CAAC,CAAA;AAIF,MAAM,KAAK,GAAoD;IAC7D,IAAI,EAAE,MAAM;IACZ,OAAO,EAAE,MAAM;IACf,GAAG,EAAE,gOAAK,CAAC,MAAM;IACjB,MAAM,EAAE,KAAK;IACb,KAAK;IACL,MAAM,EAAE,KAAK;IAEb,GAAG,gOAAK;CACT,CAAA;uCAEc,KAAK,CAAA"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/from-string.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/from-string.ts"],"sourcesContent":["import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString (string: string, encoding: SupportedEncodings = 'utf8'): Uint8Array {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // add multibase prefix\n  return base.decoder.decode(`${base.prefix}${string}`) // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,EAA2B,MAAM,iBAAiB,CAAA;;AAW1D,SAAU,UAAU,CAAE,MAAc,EAAE,WAA+B,MAAM;IAC/E,MAAM,IAAI,GAAG,wNAAK,CAAC,QAAQ,CAAC,CAAA;IAE5B,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,CAAA,sBAAA,EAAyB,QAAQ,CAAA,CAAA,CAAG,CAAC,CAAA;IACvD,CAAC;IAED,uBAAuB;IACvB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC,CAAA,CAAC,uEAAuE;AAC/H,CAAC"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/to-string.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/to-string.ts"],"sourcesContent":["import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString (array: Uint8Array, encoding: SupportedEncodings = 'utf8'): string {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // strip multibase prefix\n  return base.encoder.encode(array).substring(1)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,EAA2B,MAAM,iBAAiB,CAAA;;AAW1D,SAAU,QAAQ,CAAE,KAAiB,EAAE,WAA+B,MAAM;IAChF,MAAM,IAAI,GAAG,wNAAK,CAAC,QAAQ,CAAC,CAAA;IAE5B,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,CAAA,sBAAA,EAAyB,QAAQ,CAAA,CAAA,CAAG,CAAC,CAAA;IACvD,CAAC;IAED,yBAAyB;IACzB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/node_modules/uint8arrays/dist/src/index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/node_modules/uint8arrays/src/index.ts"],"sourcesContent":["/**\n * @packageDocumentation\n *\n * `Uint8Array`s bring memory-efficient(ish) byte handling to browsers - they are similar to Node.js `Buffer`s but lack a lot of the utility methods present on that class.\n *\n * This module exports a number of function that let you do common operations - joining Uint8Arrays together, seeing if they have the same contents etc.\n *\n * Since Node.js `Buffer`s are also `Uint8Array`s, it falls back to `Buffer` internally where it makes sense for performance reasons.\n *\n * ## alloc(size)\n *\n * Create a new `Uint8Array`. When running under Node.js, `Buffer` will be used in preference to `Uint8Array`.\n *\n * ### Example\n *\n * ```js\n * import { alloc } from 'uint8arrays/alloc'\n *\n * const buf = alloc(100)\n * ```\n *\n * ## allocUnsafe(size)\n *\n * Create a new `Uint8Array`. When running under Node.js, `Buffer` will be used in preference to `Uint8Array`.\n *\n * On platforms that support it, memory referenced by the returned `Uint8Array` will not be initialized.\n *\n * ### Example\n *\n * ```js\n * import { allocUnsafe } from 'uint8arrays/alloc'\n *\n * const buf = allocUnsafe(100)\n * ```\n *\n * ## compare(a, b)\n *\n * Compare two `Uint8Arrays`\n *\n * ### Example\n *\n * ```js\n * import { compare } from 'uint8arrays/compare'\n *\n * const arrays = [\n *   Uint8Array.from([3, 4, 5]),\n *   Uint8Array.from([0, 1, 2])\n * ]\n *\n * const sorted = arrays.sort(compare)\n *\n * console.info(sorted)\n * // [\n * //    Uint8Array[0, 1, 2]\n * //    Uint8Array[3, 4, 5]\n * // ]\n * ```\n *\n * ## concat(arrays, \\[length])\n *\n * Concatenate one or more `Uint8Array`s and return a `Uint8Array` with their contents.\n *\n * If you know the length of the arrays, pass it as a second parameter, otherwise it will be calculated by traversing the list of arrays.\n *\n * ### Example\n *\n * ```js\n * import { concat } from 'uint8arrays/concat'\n *\n * const arrays = [\n *   Uint8Array.from([0, 1, 2]),\n *   Uint8Array.from([3, 4, 5])\n * ]\n *\n * const all = concat(arrays, 6)\n *\n * console.info(all)\n * // Uint8Array[0, 1, 2, 3, 4, 5]\n * ```\n *\n * ## equals(a, b)\n *\n * Returns true if the two arrays are the same array or if they have the same length and contents.\n *\n * ### Example\n *\n * ```js\n * import { equals } from 'uint8arrays/equals'\n *\n * const a = Uint8Array.from([0, 1, 2])\n * const b = Uint8Array.from([3, 4, 5])\n * const c = Uint8Array.from([0, 1, 2])\n *\n * console.info(equals(a, b)) // false\n * console.info(equals(a, c)) // true\n * console.info(equals(a, a)) // true\n * ```\n *\n * ## fromString(string, encoding = 'utf8')\n *\n * Returns a new `Uint8Array` created from the passed string and interpreted as the passed encoding.\n *\n * Supports `utf8` and any of the [multibase encodings](https://github.com/multiformats/multibase/blob/master/multibase.csv) as implemented by the [multiformats module](https://www.npmjs.com/package/multiformats).\n *\n * ### Example\n *\n * ```js\n * import { fromString } from 'uint8arrays/from-string'\n *\n * console.info(fromString('hello world')) // Uint8Array[104, 101 ...\n * console.info(fromString('00010203aabbcc', 'base16')) // Uint8Array[0, 1 ...\n * console.info(fromString('AAECA6q7zA', 'base64')) // Uint8Array[0, 1 ...\n * console.info(fromString('01234', 'ascii')) // Uint8Array[48, 49 ...\n * ```\n *\n * ## toString(array, encoding = 'utf8')\n *\n * Returns a string created from the passed `Uint8Array` in the passed encoding.\n *\n * Supports `utf8` and any of the [multibase encodings](https://github.com/multiformats/multibase/blob/master/multibase.csv) as implemented by the [multiformats module](https://www.npmjs.com/package/multiformats).\n *\n * ### Example\n *\n * ```js\n * import { toString } from 'uint8arrays/to-string'\n *\n * console.info(toString(Uint8Array.from([104, 101...]))) // 'hello world'\n * console.info(toString(Uint8Array.from([0, 1, 2...]), 'base16')) // '00010203aabbcc'\n * console.info(toString(Uint8Array.from([0, 1, 2...]), 'base64')) // 'AAECA6q7zA'\n * console.info(toString(Uint8Array.from([48, 49, 50...]), 'ascii')) // '01234'\n * ```\n *\n * ## xor(a, b)\n *\n * Returns a `Uint8Array` containing `a` and `b` xored together.\n *\n * ### Example\n *\n * ```js\n * import { xor } from 'uint8arrays/xor'\n *\n * console.info(xor(Uint8Array.from([1, 0]), Uint8Array.from([0, 1]))) // Uint8Array[1, 1]\n * ```\n *\n * ## xorCompare(a, b)\n *\n * Compares the distances between two xor `Uint8Array`s.\n *\n * ### Example\n *\n * ```ts\n * import { xor } from 'uint8arrays/xor'\n * import { xorCompare } from 'uint8arrays/xor-compare'\n *\n * const target = Uint8Array.from([1, 1])\n * const val1 = Uint8Array.from([1, 0])\n * const xor1 = xor(target, val1)\n *\n * const val2 = Uint8Array.from([0, 1])\n * const xor2 = xor(target, val2)\n *\n * console.info(xorCompare(xor1, xor2)) // -1 or 0 or 1\n * ```\n */\n\nimport { equals } from './equals.js'\nimport { xor } from './xor.js'\nimport { compare } from '#compare'\nimport { concat } from '#concat'\nimport { fromString } from '#from-string'\nimport { toString } from '#to-string'\n\nexport {\n  compare,\n  concat,\n  equals,\n  fromString,\n  toString,\n  xor\n}\n\nexport type { SupportedEncodings } from './util/bases.js'\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmKG;AAEH,OAAO,EAAE,MAAM,EAAE,MAAM,aAAa,CAAA;AACpC,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAA;AAC9B,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAA;AAClC,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAA;AAChC,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAA;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/equals.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/equals.ts"],"sourcesContent":["/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals (a: Uint8Array, b: Uint8Array): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (a.byteLength !== b.byteLength) {\n    return false\n  }\n\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACG,SAAU,MAAM,CAAE,CAAa,EAAE,CAAa;IAClD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QACZ,OAAO,IAAI,CAAA;IACb,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,EAAE,CAAC;QAClC,OAAO,KAAK,CAAA;IACd,CAAC;IAED,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE,CAAE,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAClB,OAAO,KAAK,CAAA;QACd,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAA;AACb,CAAC"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/alloc.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/alloc.ts"],"sourcesContent":["/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe (size: number = 0): Uint8Array {\n  return new Uint8Array(size)\n}\n"],"names":[],"mappings":"AAAA;;;GAGG;;;;;;AACG,SAAU,KAAK,CAAE,OAAe,CAAC;IACrC,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAA;AAC7B,CAAC;AAOK,SAAU,WAAW,CAAE,OAAe,CAAC;IAC3C,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/util/as-uint8array.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/util/as-uint8array.ts"],"sourcesContent":["/**\n * To guarantee Uint8Array semantics, convert nodejs Buffers\n * into vanilla Uint8Arrays\n */\nexport function asUint8Array (buf: Uint8Array): Uint8Array {\n  return buf\n}\n"],"names":[],"mappings":"AAAA;;;GAGG;;;;AACG,SAAU,YAAY,CAAE,GAAe;IAC3C,OAAO,GAAG,CAAA;AACZ,CAAC"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/xor.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/xor.ts"],"sourcesContent":["import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns the xor distance between two Uint8Arrays\n */\nexport function xor (a: Uint8Array, b: Uint8Array): Uint8Array {\n  if (a.length !== b.length) {\n    throw new Error('Inputs should have the same length')\n  }\n\n  const result = allocUnsafe(a.length)\n\n  for (let i = 0; i < a.length; i++) {\n    result[i] = a[i] ^ b[i]\n  }\n\n  return asUint8Array(result)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AACpC,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAA;;;AAK5C,SAAU,GAAG,CAAE,CAAa,EAAE,CAAa;IAC/C,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;QAC1B,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAA;IACvD,CAAC;IAED,MAAM,MAAM,OAAG,2NAAW,EAAC,CAAC,CAAC,MAAM,CAAC,CAAA;IAEpC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QAClC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;IACzB,CAAC;IAED,WAAO,+OAAY,EAAC,MAAM,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/compare.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/compare.ts"],"sourcesContent":["/**\n * Can be used with Array.sort to sort and array with Uint8Array entries\n */\nexport function compare (a: Uint8Array, b: Uint8Array): number {\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] < b[i]) {\n      return -1\n    }\n\n    if (a[i] > b[i]) {\n      return 1\n    }\n  }\n\n  if (a.byteLength > b.byteLength) {\n    return 1\n  }\n\n  if (a.byteLength < b.byteLength) {\n    return -1\n  }\n\n  return 0\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACG,SAAU,OAAO,CAAE,CAAa,EAAE,CAAa;IACnD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE,CAAE,CAAC;QACtC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAC,CAAA;QACX,CAAC;QAED,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAA;QACV,CAAC;IACH,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,CAAC,CAAA;IACV,CAAC;IAED,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,CAAC,CAAC,CAAA;IACX,CAAC;IAED,OAAO,CAAC,CAAA;AACV,CAAC"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/concat.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/concat.ts"],"sourcesContent":["import { allocUnsafe } from '#alloc'\nimport { asUint8Array } from '#util/as-uint8array'\n\n/**\n * Returns a new Uint8Array created by concatenating the passed Uint8Arrays\n */\nexport function concat (arrays: Uint8Array[], length?: number): Uint8Array {\n  if (length == null) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0)\n  }\n\n  const output = allocUnsafe(length)\n  let offset = 0\n\n  for (const arr of arrays) {\n    output.set(arr, offset)\n    offset += arr.length\n  }\n\n  return asUint8Array(output)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AACpC,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAA;;;AAK5C,SAAU,MAAM,CAAE,MAAoB,EAAE,MAAe;IAC3D,IAAI,MAAM,IAAI,IAAI,EAAE,CAAC;QACnB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAG,CAAD,EAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;IAC7D,CAAC;IAED,MAAM,MAAM,OAAG,2NAAW,EAAC,MAAM,CAAC,CAAA;IAClC,IAAI,MAAM,GAAG,CAAC,CAAA;IAEd,KAAK,MAAM,GAAG,IAAI,MAAM,CAAE,CAAC;QACzB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;QACvB,MAAM,IAAI,GAAG,CAAC,MAAM,CAAA;IACtB,CAAC;IAED,WAAO,+OAAY,EAAC,MAAM,CAAC,CAAA;AAC7B,CAAC"}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/util/bases.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/util/bases.ts"],"sourcesContent":["import { bases } from 'multiformats/basics'\nimport type { MultibaseCodec } from 'multiformats'\nimport { allocUnsafe } from '#alloc'\n\nfunction createCodec (name: string, prefix: string, encode: (buf: Uint8Array) => string, decode: (str: string) => Uint8Array): MultibaseCodec<any> {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: {\n      decode\n    }\n  }\n}\n\nconst string = createCodec('utf8', 'u', (buf) => {\n  const decoder = new TextDecoder('utf8')\n  return 'u' + decoder.decode(buf)\n}, (str) => {\n  const encoder = new TextEncoder()\n  return encoder.encode(str.substring(1))\n})\n\nconst ascii = createCodec('ascii', 'a', (buf) => {\n  let string = 'a'\n\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i])\n  }\n  return string\n}, (str) => {\n  str = str.substring(1)\n  const buf = allocUnsafe(str.length)\n\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i)\n  }\n\n  return buf\n})\n\nexport type SupportedEncodings = 'utf8' | 'utf-8' | 'hex' | 'latin1' | 'ascii' | 'binary' | keyof typeof bases\n\nconst BASES: Record<SupportedEncodings, MultibaseCodec<any>> = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii,\n  binary: ascii,\n\n  ...bases\n}\n\nexport default BASES\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAA;AAE3C,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;;;AAEpC,SAAS,WAAW,CAAE,IAAY,EAAE,MAAc,EAAE,MAAmC,EAAE,MAAmC;IAC1H,OAAO;QACL,IAAI;QACJ,MAAM;QACN,OAAO,EAAE;YACP,IAAI;YACJ,MAAM;YACN,MAAM;SACP;QACD,OAAO,EAAE;YACP,MAAM;SACP;KACF,CAAA;AACH,CAAC;AAED,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;IAC9C,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,MAAM,CAAC,CAAA;IACvC,OAAO,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AAClC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;IACT,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAA;IACjC,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;AACzC,CAAC,CAAC,CAAA;AAEF,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;IAC9C,IAAI,MAAM,GAAG,GAAG,CAAA;IAEhB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QACpC,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;IACvC,CAAC;IACD,OAAO,MAAM,CAAA;AACf,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;IACT,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;IACtB,MAAM,GAAG,OAAG,2NAAW,EAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IAEnC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;QACpC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;IAC5B,CAAC;IAED,OAAO,GAAG,CAAA;AACZ,CAAC,CAAC,CAAA;AAIF,MAAM,KAAK,GAAoD;IAC7D,IAAI,EAAE,MAAM;IACZ,OAAO,EAAE,MAAM;IACf,GAAG,EAAE,uOAAK,CAAC,MAAM;IACjB,MAAM,EAAE,KAAK;IACb,KAAK;IACL,MAAM,EAAE,KAAK;IAEb,GAAG,uOAAK;CACT,CAAA;uCAEc,KAAK,CAAA"}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/from-string.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/from-string.ts"],"sourcesContent":["import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString (string: string, encoding: SupportedEncodings = 'utf8'): Uint8Array {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // add multibase prefix\n  return base.decoder.decode(`${base.prefix}${string}`) // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,EAA2B,MAAM,iBAAiB,CAAA;;AAW1D,SAAU,UAAU,CAAE,MAAc,EAAE,WAA+B,MAAM;IAC/E,MAAM,IAAI,GAAG,+NAAK,CAAC,QAAQ,CAAC,CAAA;IAE5B,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,CAAA,sBAAA,EAAyB,QAAQ,CAAA,CAAA,CAAG,CAAC,CAAA;IACvD,CAAC;IAED,uBAAuB;IACvB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC,CAAA,CAAC,uEAAuE;AAC/H,CAAC"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/to-string.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/to-string.ts"],"sourcesContent":["import bases, { type SupportedEncodings } from './util/bases.js'\n\nexport type { SupportedEncodings }\n\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString (array: Uint8Array, encoding: SupportedEncodings = 'utf8'): string {\n  const base = bases[encoding]\n\n  if (base == null) {\n    throw new Error(`Unsupported encoding \"${encoding}\"`)\n  }\n\n  // strip multibase prefix\n  return base.encoder.encode(array).substring(1)\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,EAAE,EAA2B,MAAM,iBAAiB,CAAA;;AAW1D,SAAU,QAAQ,CAAE,KAAiB,EAAE,WAA+B,MAAM;IAChF,MAAM,IAAI,GAAG,+NAAK,CAAC,QAAQ,CAAC,CAAA;IAE5B,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,CAAA,sBAAA,EAAyB,QAAQ,CAAA,CAAA,CAAG,CAAC,CAAA;IACvD,CAAC;IAED,yBAAyB;IACzB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;AAChD,CAAC"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/node_modules/uint8arrays/dist/src/index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/node_modules/uint8arrays/src/index.ts"],"sourcesContent":["/**\n * @packageDocumentation\n *\n * `Uint8Array`s bring memory-efficient(ish) byte handling to browsers - they are similar to Node.js `Buffer`s but lack a lot of the utility methods present on that class.\n *\n * This module exports a number of function that let you do common operations - joining Uint8Arrays together, seeing if they have the same contents etc.\n *\n * Since Node.js `Buffer`s are also `Uint8Array`s, it falls back to `Buffer` internally where it makes sense for performance reasons.\n *\n * ## alloc(size)\n *\n * Create a new `Uint8Array`. When running under Node.js, `Buffer` will be used in preference to `Uint8Array`.\n *\n * ### Example\n *\n * ```js\n * import { alloc } from 'uint8arrays/alloc'\n *\n * const buf = alloc(100)\n * ```\n *\n * ## allocUnsafe(size)\n *\n * Create a new `Uint8Array`. When running under Node.js, `Buffer` will be used in preference to `Uint8Array`.\n *\n * On platforms that support it, memory referenced by the returned `Uint8Array` will not be initialized.\n *\n * ### Example\n *\n * ```js\n * import { allocUnsafe } from 'uint8arrays/alloc'\n *\n * const buf = allocUnsafe(100)\n * ```\n *\n * ## compare(a, b)\n *\n * Compare two `Uint8Arrays`\n *\n * ### Example\n *\n * ```js\n * import { compare } from 'uint8arrays/compare'\n *\n * const arrays = [\n *   Uint8Array.from([3, 4, 5]),\n *   Uint8Array.from([0, 1, 2])\n * ]\n *\n * const sorted = arrays.sort(compare)\n *\n * console.info(sorted)\n * // [\n * //    Uint8Array[0, 1, 2]\n * //    Uint8Array[3, 4, 5]\n * // ]\n * ```\n *\n * ## concat(arrays, \\[length])\n *\n * Concatenate one or more `Uint8Array`s and return a `Uint8Array` with their contents.\n *\n * If you know the length of the arrays, pass it as a second parameter, otherwise it will be calculated by traversing the list of arrays.\n *\n * ### Example\n *\n * ```js\n * import { concat } from 'uint8arrays/concat'\n *\n * const arrays = [\n *   Uint8Array.from([0, 1, 2]),\n *   Uint8Array.from([3, 4, 5])\n * ]\n *\n * const all = concat(arrays, 6)\n *\n * console.info(all)\n * // Uint8Array[0, 1, 2, 3, 4, 5]\n * ```\n *\n * ## equals(a, b)\n *\n * Returns true if the two arrays are the same array or if they have the same length and contents.\n *\n * ### Example\n *\n * ```js\n * import { equals } from 'uint8arrays/equals'\n *\n * const a = Uint8Array.from([0, 1, 2])\n * const b = Uint8Array.from([3, 4, 5])\n * const c = Uint8Array.from([0, 1, 2])\n *\n * console.info(equals(a, b)) // false\n * console.info(equals(a, c)) // true\n * console.info(equals(a, a)) // true\n * ```\n *\n * ## fromString(string, encoding = 'utf8')\n *\n * Returns a new `Uint8Array` created from the passed string and interpreted as the passed encoding.\n *\n * Supports `utf8` and any of the [multibase encodings](https://github.com/multiformats/multibase/blob/master/multibase.csv) as implemented by the [multiformats module](https://www.npmjs.com/package/multiformats).\n *\n * ### Example\n *\n * ```js\n * import { fromString } from 'uint8arrays/from-string'\n *\n * console.info(fromString('hello world')) // Uint8Array[104, 101 ...\n * console.info(fromString('00010203aabbcc', 'base16')) // Uint8Array[0, 1 ...\n * console.info(fromString('AAECA6q7zA', 'base64')) // Uint8Array[0, 1 ...\n * console.info(fromString('01234', 'ascii')) // Uint8Array[48, 49 ...\n * ```\n *\n * ## toString(array, encoding = 'utf8')\n *\n * Returns a string created from the passed `Uint8Array` in the passed encoding.\n *\n * Supports `utf8` and any of the [multibase encodings](https://github.com/multiformats/multibase/blob/master/multibase.csv) as implemented by the [multiformats module](https://www.npmjs.com/package/multiformats).\n *\n * ### Example\n *\n * ```js\n * import { toString } from 'uint8arrays/to-string'\n *\n * console.info(toString(Uint8Array.from([104, 101...]))) // 'hello world'\n * console.info(toString(Uint8Array.from([0, 1, 2...]), 'base16')) // '00010203aabbcc'\n * console.info(toString(Uint8Array.from([0, 1, 2...]), 'base64')) // 'AAECA6q7zA'\n * console.info(toString(Uint8Array.from([48, 49, 50...]), 'ascii')) // '01234'\n * ```\n *\n * ## xor(a, b)\n *\n * Returns a `Uint8Array` containing `a` and `b` xored together.\n *\n * ### Example\n *\n * ```js\n * import { xor } from 'uint8arrays/xor'\n *\n * console.info(xor(Uint8Array.from([1, 0]), Uint8Array.from([0, 1]))) // Uint8Array[1, 1]\n * ```\n *\n * ## xorCompare(a, b)\n *\n * Compares the distances between two xor `Uint8Array`s.\n *\n * ### Example\n *\n * ```ts\n * import { xor } from 'uint8arrays/xor'\n * import { xorCompare } from 'uint8arrays/xor-compare'\n *\n * const target = Uint8Array.from([1, 1])\n * const val1 = Uint8Array.from([1, 0])\n * const xor1 = xor(target, val1)\n *\n * const val2 = Uint8Array.from([0, 1])\n * const xor2 = xor(target, val2)\n *\n * console.info(xorCompare(xor1, xor2)) // -1 or 0 or 1\n * ```\n */\n\nimport { equals } from './equals.js'\nimport { xor } from './xor.js'\nimport { compare } from '#compare'\nimport { concat } from '#concat'\nimport { fromString } from '#from-string'\nimport { toString } from '#to-string'\n\nexport {\n  compare,\n  concat,\n  equals,\n  fromString,\n  toString,\n  xor\n}\n\nexport type { SupportedEncodings } from './util/bases.js'\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmKG;AAEH,OAAO,EAAE,MAAM,EAAE,MAAM,aAAa,CAAA;AACpC,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAA;AAC9B,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAA;AAClC,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAA;AAChC,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAA;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA"}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/%40ucanto/validator/src/util.js"],"sourcesContent":["/**\n * @template {string|boolean|number|[unknown, ...unknown[]]} T\n * @param {T} value\n * @returns {T}\n */\nexport const the = value => value\n\n/**\n * @template {{}} O\n * @param {O} object\n * @returns {({ [K in keyof O]: [K, O[K]][] }[keyof O])|[[never, never]]}\n */\n\nexport const entries = object => /** @type {any} */ (Object.entries(object))\n\n/**\n * @template T\n * @param {T[][]} dataset\n * @returns {T[][]}\n */\nexport const combine = ([first, ...rest]) => {\n  const results = first.map(value => [value])\n  for (const values of rest) {\n    const tuples = results.splice(0)\n    for (const value of values) {\n      for (const tuple of tuples) {\n        results.push([...tuple, value])\n      }\n    }\n  }\n  return results\n}\n\n/**\n * @template T\n * @param {T[]} left\n * @param {T[]} right\n * @returns {T[]}\n */\nexport const intersection = (left, right) => {\n  const [result, other] =\n    left.length < right.length\n      ? [new Set(left), new Set(right)]\n      : [new Set(right), new Set(left)]\n\n  for (const item of result) {\n    if (!other.has(item)) {\n      result.delete(item)\n    }\n  }\n\n  return [...result]\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;AACM,MAAM,MAAM,CAAA,QAAS;AAQrB,MAAM,UAAU,CAAA,SAA8B,OAAO,OAAO,CAAC;AAO7D,MAAM,UAAU,CAAC,CAAC,OAAO,GAAG,KAAK;IACtC,MAAM,UAAU,MAAM,GAAG,CAAC,CAAA,QAAS;YAAC;SAAM;IAC1C,KAAK,MAAM,UAAU,KAAM;QACzB,MAAM,SAAS,QAAQ,MAAM,CAAC;QAC9B,KAAK,MAAM,SAAS,OAAQ;YAC1B,KAAK,MAAM,SAAS,OAAQ;gBAC1B,QAAQ,IAAI,CAAC;uBAAI;oBAAO;iBAAM;YAChC;QACF;IACF;IACA,OAAO;AACT;AAQO,MAAM,eAAe,CAAC,MAAM;IACjC,MAAM,CAAC,QAAQ,MAAM,GACnB,KAAK,MAAM,GAAG,MAAM,MAAM,GACtB;QAAC,IAAI,IAAI;QAAO,IAAI,IAAI;KAAO,GAC/B;QAAC,IAAI,IAAI;QAAQ,IAAI,IAAI;KAAM;IAErC,KAAK,MAAM,QAAQ,OAAQ;QACzB,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO;YACpB,OAAO,MAAM,CAAC;QAChB;IACF;IAEA,OAAO;WAAI;KAAO;AACpB","ignoreList":[0]}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/%40ucanto/validator/src/error.js"],"sourcesContent":["import * as API from '@ucanto/interface'\nimport { the } from './util.js'\nimport { isLink } from '@ucanto/core/link'\nimport { fail, Failure } from '@ucanto/core/result'\n\nexport { Failure, fail }\n\nexport class EscalatedCapability extends Failure {\n  /**\n   * @param {API.ParsedCapability} claimed\n   * @param {object} delegated\n   * @param {API.Failure} cause\n   */\n  constructor(claimed, delegated, cause) {\n    super()\n    this.claimed = claimed\n    this.delegated = delegated\n    this.cause = cause\n    this.name = the('EscalatedCapability')\n  }\n  describe() {\n    return `Constraint violation: ${this.cause.message}`\n  }\n}\n\n/**\n * @implements {API.DelegationError}\n */\nexport class DelegationError extends Failure {\n  /**\n   * @param {(API.InvalidCapability | API.EscalatedDelegation | API.DelegationError)[]} causes\n   * @param {object} context\n   */\n  constructor(causes, context) {\n    super()\n    this.name = the('InvalidClaim')\n    this.causes = causes\n    this.context = context\n  }\n  describe() {\n    return [\n      `Can not derive ${this.context} from delegated capabilities:`,\n      ...this.causes.map(cause => li(cause.message)),\n    ].join('\\n')\n  }\n\n  /**\n   * @type {API.InvalidCapability | API.EscalatedDelegation | API.DelegationError}\n   */\n  get cause() {\n    /* c8 ignore next 9 */\n    if (this.causes.length !== 1) {\n      return this\n    } else {\n      const [cause] = this.causes\n      const value = cause.name === 'InvalidClaim' ? cause.cause : cause\n      Object.defineProperties(this, { cause: { value } })\n      return value\n    }\n  }\n}\n\n/**\n * @implements {API.SessionEscalation}\n */\nexport class SessionEscalation extends Failure {\n  /**\n   * @param {object} source\n   * @param {API.Delegation} source.delegation\n   * @param {API.Failure} source.cause\n   */\n  constructor({ delegation, cause }) {\n    super()\n    this.name = the('SessionEscalation')\n    this.delegation = delegation\n    this.cause = cause\n  }\n  describe() {\n    const issuer = this.delegation.issuer.did()\n    return [\n      `Delegation ${this.delegation.cid} issued by ${issuer} has an invalid session`,\n      li(this.cause.message),\n    ].join('\\n')\n  }\n}\n\n/**\n * @implements {API.InvalidSignature}\n */\nexport class InvalidSignature extends Failure {\n  /**\n   * @param {API.Delegation} delegation\n   * @param {API.Verifier} verifier\n   */\n  constructor(delegation, verifier) {\n    super()\n    this.name = the('InvalidSignature')\n    this.delegation = delegation\n    this.verifier = verifier\n  }\n  get issuer() {\n    return this.delegation.issuer\n  }\n  get audience() {\n    return this.delegation.audience\n  }\n  get key() {\n    return this.verifier.toDIDKey()\n  }\n  describe() {\n    const issuer = this.issuer.did()\n    const key = this.key\n    return (\n      issuer.startsWith('did:key')\n        ? [\n            `Proof ${this.delegation.cid} does not has a valid signature from ${key}`,\n          ]\n        : [\n            `Proof ${this.delegation.cid} issued by ${issuer} does not has a valid signature from ${key}`,\n            `  ℹ️ Probably issuer signed with a different key, which got rotated, invalidating delegations that were issued with prior keys`,\n          ]\n    ).join('\\n')\n  }\n}\n\n/**\n * @implements {API.UnavailableProof}\n */\nexport class UnavailableProof extends Failure {\n  /**\n   * @param {API.UCAN.Link} link\n   * @param {Error} [cause]\n   */\n  constructor(link, cause) {\n    super()\n    this.name = the('UnavailableProof')\n    this.link = link\n    this.cause = cause\n  }\n  describe() {\n    return [\n      `Linked proof '${this.link}' is not included and could not be resolved`,\n      ...(this.cause\n        ? [li(`Proof resolution failed with: ${this.cause.message}`)]\n        : []),\n    ].join('\\n')\n  }\n}\n\nexport class DIDKeyResolutionError extends Failure {\n  /**\n   * @param {API.UCAN.DID} did\n   * @param {API.Failure} [cause]\n   */\n  constructor(did, cause) {\n    super()\n    this.name = the('DIDKeyResolutionError')\n    this.did = did\n    this.cause = cause\n  }\n  describe() {\n    return `Unable to resolve '${this.did}' key`\n  }\n}\n\n/**\n * @implements {API.InvalidAudience}\n */\nexport class PrincipalAlignmentError extends Failure {\n  /**\n   * @param {API.UCAN.Principal} audience\n   * @param {API.Delegation} delegation\n   */\n  constructor(audience, delegation) {\n    super()\n    this.name = the('InvalidAudience')\n    this.audience = audience\n    this.delegation = delegation\n  }\n  describe() {\n    return `Delegation audience is '${this.delegation.audience.did()}' instead of '${this.audience.did()}'`\n  }\n  toJSON() {\n    const { name, audience, message, stack } = this\n    return {\n      name,\n      audience: audience.did(),\n      delegation: { audience: this.delegation.audience.did() },\n      message,\n      stack,\n    }\n  }\n}\n\n/**\n * @implements {API.MalformedCapability}\n */\nexport class MalformedCapability extends Failure {\n  /**\n   * @param {API.Capability} capability\n   * @param {API.Failure} cause\n   */\n  constructor(capability, cause) {\n    super()\n    this.name = the('MalformedCapability')\n    this.capability = capability\n    this.cause = cause\n  }\n  describe() {\n    return [\n      `Encountered malformed '${this.capability.can}' capability: ${format(\n        this.capability\n      )}`,\n      li(this.cause.message),\n    ].join('\\n')\n  }\n}\n\nexport class UnknownCapability extends Failure {\n  /**\n   * @param {API.Capability} capability\n   */\n  constructor(capability) {\n    super()\n    this.name = the('UnknownCapability')\n    this.capability = capability\n  }\n  /* c8 ignore next 3 */\n  describe() {\n    return `Encountered unknown capability: ${format(this.capability)}`\n  }\n}\n\nexport class Expired extends Failure {\n  /**\n   * @param {API.Delegation & { expiration: number }} delegation\n   */\n  constructor(delegation) {\n    super()\n    this.name = the('Expired')\n    this.delegation = delegation\n  }\n  describe() {\n    return `Proof ${this.delegation.cid} has expired on ${new Date(\n      this.delegation.expiration * 1000\n    )}`\n  }\n  get expiredAt() {\n    return this.delegation.expiration\n  }\n  toJSON() {\n    const { name, expiredAt, message, stack } = this\n    return {\n      name,\n      message,\n      expiredAt,\n      stack,\n    }\n  }\n}\n\n/**\n * @implements {API.Revoked}\n */\nexport class Revoked extends Failure {\n  /**\n   * @param {API.Delegation} delegation\n   */\n  constructor(delegation) {\n    super()\n    this.name = the('Revoked')\n    this.delegation = delegation\n  }\n  describe() {\n    return `Proof ${this.delegation.cid} has been revoked`\n  }\n  toJSON() {\n    const { name, message, stack } = this\n    return {\n      name,\n      message,\n      stack,\n    }\n  }\n}\n\nexport class NotValidBefore extends Failure {\n  /**\n   * @param {API.Delegation & { notBefore: number }} delegation\n   */\n  constructor(delegation) {\n    super()\n    this.name = the('NotValidBefore')\n    this.delegation = delegation\n  }\n  describe() {\n    return `Proof ${this.delegation.cid} is not valid before ${new Date(\n      this.delegation.notBefore * 1000\n    )}`\n  }\n  get validAt() {\n    return this.delegation.notBefore\n  }\n  toJSON() {\n    const { name, validAt, message, stack } = this\n    return {\n      name,\n      message,\n      validAt,\n      stack,\n    }\n  }\n}\n\n/**\n * @implements {API.Unauthorized}\n */\n\nexport class Unauthorized extends Failure {\n  /**\n   * @param {{\n   * capability: API.CapabilityParser\n   * delegationErrors: API.DelegationError[]\n   * unknownCapabilities: API.Capability[]\n   * invalidProofs: API.InvalidProof[]\n   * failedProofs: API.InvalidClaim[]\n   * }} cause\n   */\n  constructor({\n    capability,\n    delegationErrors,\n    unknownCapabilities,\n    invalidProofs,\n    failedProofs,\n  }) {\n    super()\n    this.name = /** @type {const} */  ('Unauthorized')\n    this.capability = capability\n    this.delegationErrors = delegationErrors\n    this.unknownCapabilities = unknownCapabilities\n    this.invalidProofs = invalidProofs\n    this.failedProofs = failedProofs\n  }\n\n  describe() {\n    const errors = [\n      ...this.failedProofs.map(error => li(error.message)),\n      ...this.delegationErrors.map(error => li(error.message)),\n      ...this.invalidProofs.map(error => li(error.message)),\n    ]\n\n    const unknown = this.unknownCapabilities.map(c => li(JSON.stringify(c)))\n\n    return [\n      `Claim ${this.capability} is not authorized`,\n      ...(errors.length > 0\n        ? errors\n        : [li(`No matching delegated capability found`)]),\n      ...(unknown.length > 0\n        ? [li(`Encountered unknown capabilities\\n${unknown.join('\\n')}`)]\n        : []),\n    ].join('\\n')\n  }\n}\n\n/**\n * @param {unknown} capability\n * @param {string|number} [space]\n */\n\nconst format = (capability, space) =>\n  JSON.stringify(\n    capability,\n    (_key, value) => {\n      /* c8 ignore next 2 */\n      if (isLink(value)) {\n        return value.toString()\n      } else {\n        return value\n      }\n    },\n    space\n  )\n\n/**\n * @param {string} message\n */\nexport const indent = (message, indent = '  ') =>\n  `${indent}${message.split('\\n').join(`\\n${indent}`)}`\n\n/**\n * @param {string} message\n */\nexport const li = message => indent(`- ${message}`)\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/%40ucanto/validator/src/capability.js"],"sourcesContent":["import * as API from '@ucanto/interface'\nimport { entries, combine, intersection } from './util.js'\nimport {\n  EscalatedCapability,\n  MalformedCapability,\n  UnknownCapability,\n  DelegationError as MatchError,\n} from './error.js'\nimport { invoke, delegate, Schema } from '@ucanto/core'\n\n/**\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @typedef {{\n * can: A\n * with: API.Reader<R, API.Resource, API.Failure>\n * nb?: Schema.MapRepresentation<C, unknown>\n * derives?: (claim: {can:A, with: R, nb: C}, proof:{can:A, with:R, nb:C}) => API.Result<{}, API.Failure>\n * }} Descriptor\n */\n\n/**\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} [C={}]\n * @param {Descriptor<A, R, C>} descriptor\n \n * @returns {API.TheCapabilityParser<API.CapabilityMatch<A, R, C>>}\n */\nexport const capability = ({\n  derives = defaultDerives,\n  nb = defaultNBSchema,\n  ...etc\n}) => new Capability({ derives, nb, ...etc })\n\nconst defaultNBSchema =\n  /** @type {Schema.MapRepresentation<any>} */\n  (Schema.struct({}))\n\n/**\n * @template {API.Match} M\n * @template {API.Match} W\n * @param {API.Matcher<M>} left\n * @param {API.Matcher<W>} right\n * @returns {API.CapabilityParser<M|W>}\n */\nexport const or = (left, right) => new Or(left, right)\n\n/**\n * @template {API.MatchSelector<API.Match>[]} Selectors\n * @param {Selectors} selectors\n * @returns {API.CapabilitiesParser<API.InferMembers<Selectors>>}\n */\nexport const and = (...selectors) => new And(selectors)\n\n/**\n * @template {API.Match} M\n * @template {API.ParsedCapability} T\n * @param {object} source\n * @param {API.MatchSelector<M>} source.from\n * @param {API.TheCapabilityParser<API.DirectMatch<T>>} source.to\n * @param {API.Derives<T, API.InferDeriveProof<M['value']>>} source.derives\n \n * @returns {API.TheCapabilityParser<API.DerivedMatch<T, M>>}\n */\nexport const derive = ({ from, to, derives }) => new Derive(from, to, derives)\n\n/**\n * @template {API.Match} M\n * @implements {API.View<M>}\n */\nclass View {\n  /**\n   * @param {API.Source} source\n   * @returns {API.MatchResult<M>}\n   */\n  /* c8 ignore next 3 */\n  match(source) {\n    return { error: new UnknownCapability(source.capability) }\n  }\n\n  /**\n   * @param {API.Source[]} capabilities\n   * @returns {API.Select<M>}\n   */\n  select(capabilities) {\n    return select(this, capabilities)\n  }\n\n  /**\n   * @template {API.ParsedCapability} U\n   * @param {object} source\n   * @param {API.TheCapabilityParser<API.DirectMatch<U>>} source.to\n   * @param {API.Derives<U, API.InferDeriveProof<M['value']>>} source.derives\n   * @returns {API.TheCapabilityParser<API.DerivedMatch<U, M>>}\n   */\n  derive({ derives, to }) {\n    return derive({ derives, to, from: this })\n  }\n}\n\n/**\n * @template {API.Match} M\n * @implements {API.CapabilityParser<M>}\n * @extends {View<M>}\n */\nclass Unit extends View {\n  /**\n   * @template {API.Match} W\n   * @param {API.MatchSelector<W>} other\n   * @returns {API.CapabilityParser<M | W>}\n   */\n  or(other) {\n    return or(this, other)\n  }\n\n  /**\n   * @template {API.Match} W\n   * @param {API.CapabilityParser<W>} other\n   * @returns {API.CapabilitiesParser<[M, W]>}\n   */\n  and(other) {\n    return and(/** @type {API.CapabilityParser<M>} */ (this), other)\n  }\n}\n\n/**\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @implements {API.TheCapabilityParser<API.DirectMatch<API.ParsedCapability<A, R, C>>>}\n * @extends {Unit<API.DirectMatch<API.ParsedCapability<A, R, C>>>}\n */\nclass Capability extends Unit {\n  /**\n   * @param {Required<Descriptor<A, R, C>>} descriptor\n   */\n  constructor(descriptor) {\n    super()\n    this.descriptor = descriptor\n    this.schema = Schema.struct({\n      can: Schema.literal(descriptor.can),\n      with: descriptor.with,\n      nb: descriptor.nb,\n    })\n  }\n\n  /**\n   * @param {API.InferCreateOptions<R, C>} options\n   */\n  create(options) {\n    const { descriptor, can } = this\n    const decoders = descriptor.nb\n    const data = /** @type {C} */ (options.nb || {})\n\n    const resource = descriptor.with.read(options.with)\n    if (resource.error) {\n      throw Object.assign(\n        new Error(`Invalid 'with' - ${resource.error.message}`),\n        {\n          cause: resource,\n        }\n      )\n    }\n\n    const nb = descriptor.nb.read(data)\n    if (nb.error) {\n      throw Object.assign(new Error(`Invalid 'nb' - ${nb.error.message}`), {\n        cause: nb,\n      })\n    }\n\n    return createCapability({ can, with: resource.ok, nb: nb.ok })\n  }\n\n  /**\n   * @param {API.InferInvokeOptions<R, C>} options\n   */\n  invoke({ with: with_, nb, ...options }) {\n    return invoke({\n      ...options,\n      capability: this.create(\n        /** @type {API.InferCreateOptions<R, C>} */\n        ({ with: with_, nb })\n      ),\n    })\n  }\n\n  /**\n   * @param {API.InferDelegationOptions<R, C>} options\n   * @returns {Promise<API.Delegation<[API.InferDelegatedCapability<API.ParsedCapability<A, R, C>>]>>}\n   */\n  async delegate({ nb: input = {}, with: with_, ...options }) {\n    const { descriptor, can } = this\n    const readers = descriptor.nb\n\n    const resource = descriptor.with.read(with_)\n    if (resource.error) {\n      throw Object.assign(\n        new Error(`Invalid 'with' - ${resource.error.message}`),\n        {\n          cause: resource,\n        }\n      )\n    }\n\n    const nb = descriptor.nb.partial().read(input)\n    if (nb.error) {\n      throw Object.assign(new Error(`Invalid 'nb' - ${nb.error.message}`), {\n        cause: nb,\n      })\n    }\n\n    return delegate({\n      capabilities: [createCapability({ can, with: resource.ok, nb: nb.ok })],\n      ...options,\n    })\n  }\n\n  get can() {\n    return this.descriptor.can\n  }\n\n  /**\n   * @param {API.Source} source\n   * @returns {API.MatchResult<API.DirectMatch<API.ParsedCapability<A, R, C>>>}\n   */\n  match(source) {\n    const result = parseCapability(this.descriptor, source)\n    return result.error\n      ? result\n      : { ok: new Match(source, result.ok, this.descriptor) }\n  }\n  toString() {\n    return JSON.stringify({ can: this.descriptor.can })\n  }\n}\n\n/**\n * Normalizes capability by removing empty nb field.\n *\n * @template {API.ParsedCapability} T\n * @param {T} source\n */\n\nconst createCapability = ({ can, with: with_, nb }) =>\n  /** @type {API.InferCapability<T>} */ ({\n    can,\n    with: with_,\n    ...(isEmpty(nb) ? {} : { nb }),\n  })\n\n/**\n * @param {object} object\n * @returns {object is {}}\n */\nconst isEmpty = object => {\n  for (const _ in object) {\n    return false\n  }\n  return true\n}\n\n/**\n * @template {API.Match} M\n * @template {API.Match} W\n * @implements {API.CapabilityParser<M|W>}\n * @extends {Unit<M|W>}\n */\nclass Or extends Unit {\n  /**\n   * @param {API.Matcher<M>} left\n   * @param {API.Matcher<W>} right\n   */\n  constructor(left, right) {\n    super()\n    this.left = left\n    this.right = right\n  }\n\n  /**\n   * @param {API.Source} capability\n   * @return {API.MatchResult<M|W>}\n   */\n  match(capability) {\n    const left = this.left.match(capability)\n    if (left.error) {\n      const right = this.right.match(capability)\n      if (right.error) {\n        return right.error.name === 'MalformedCapability'\n          ? //\n            right\n          : //\n            left\n      } else {\n        return right\n      }\n    } else {\n      return left\n    }\n  }\n\n  toString() {\n    return `${this.left.toString()}|${this.right.toString()}`\n  }\n}\n\n/**\n * @template {API.MatchSelector<API.Match>[]} Selectors\n * @implements {API.CapabilitiesParser<API.InferMembers<Selectors>>}\n * @extends {View<API.Amplify<API.InferMembers<Selectors>>>}\n */\nclass And extends View {\n  /**\n   * @param {Selectors} selectors\n   */\n  constructor(selectors) {\n    super()\n    this.selectors = selectors\n  }\n  /**\n   * @param {API.Source} capability\n   * @returns {API.MatchResult<API.Amplify<API.InferMembers<Selectors>>>}\n   */\n  match(capability) {\n    const group = []\n    for (const selector of this.selectors) {\n      const result = selector.match(capability)\n      if (result.error) {\n        return result\n      } else {\n        group.push(result.ok)\n      }\n    }\n\n    return {\n      ok: new AndMatch(/** @type {API.InferMembers<Selectors>} */ (group)),\n    }\n  }\n\n  /**\n   * @param {API.Source[]} capabilities\n   */\n  select(capabilities) {\n    return selectGroup(this, capabilities)\n  }\n  /**\n   * @template E\n   * @template {API.Match} X\n   * @param {API.MatchSelector<API.Match<E, X>>} other\n   * @returns {API.CapabilitiesParser<[...API.InferMembers<Selectors>, API.Match<E, X>]>}\n   */\n  and(other) {\n    return new And([...this.selectors, other])\n  }\n  toString() {\n    return `[${this.selectors.map(String).join(', ')}]`\n  }\n}\n\n/**\n * @template {API.ParsedCapability} T\n * @template {API.Match} M\n * @implements {API.TheCapabilityParser<API.DerivedMatch<T, M>>}\n * @extends {Unit<API.DerivedMatch<T, M>>}\n */\n\nclass Derive extends Unit {\n  /**\n   * @param {API.MatchSelector<M>} from\n   * @param {API.TheCapabilityParser<API.DirectMatch<T>>} to\n   * @param {API.Derives<T, API.InferDeriveProof<M['value']>>} derives\n   */\n  constructor(from, to, derives) {\n    super()\n    this.from = from\n    this.to = to\n    this.derives = derives\n  }\n\n  /**\n   * @type {typeof this.to['create']}\n   */\n  create(options) {\n    return this.to.create(options)\n  }\n  /**\n   * @type {typeof this.to['invoke']}\n   */\n  invoke(options) {\n    return this.to.invoke(options)\n  }\n  /**\n   * @type {typeof this.to['delegate']}\n   */\n  delegate(options) {\n    return this.to.delegate(options)\n  }\n  get can() {\n    return this.to.can\n  }\n  /**\n   * @param {API.Source} capability\n   * @returns {API.MatchResult<API.DerivedMatch<T, M>>}\n   */\n  match(capability) {\n    const match = this.to.match(capability)\n    if (match.error) {\n      return match\n    } else {\n      return { ok: new DerivedMatch(match.ok, this.from, this.derives) }\n    }\n  }\n  toString() {\n    return this.to.toString()\n  }\n}\n\n/**\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @implements {API.DirectMatch<API.ParsedCapability<A, R, C>>}\n */\nclass Match {\n  /**\n   * @param {API.Source} source\n   * @param {API.ParsedCapability<A, R, C>} value\n   * @param {Required<Descriptor<A, R, C>>} descriptor\n   */\n  constructor(source, value, descriptor) {\n    this.source = [source]\n    this.value = value\n    this.descriptor = descriptor\n  }\n  get can() {\n    return this.value.can\n  }\n\n  get proofs() {\n    const proofs = [this.source[0].delegation]\n    Object.defineProperties(this, {\n      proofs: { value: proofs },\n    })\n    return proofs\n  }\n\n  /**\n   * @param {API.CanIssue} context\n   * @returns {API.DirectMatch<API.ParsedCapability<A, R, C>>|null}\n   */\n  prune(context) {\n    if (context.canIssue(this.value, this.source[0].delegation.issuer.did())) {\n      return null\n    } else {\n      return this\n    }\n  }\n\n  /**\n   * @param {API.Source[]} capabilities\n   * @returns {API.Select<API.DirectMatch<API.ParsedCapability<A, R, C>>>}\n   */\n  select(capabilities) {\n    const unknown = []\n    const errors = []\n    const matches = []\n    for (const capability of capabilities) {\n      const result = resolveCapability(this.descriptor, this.value, capability)\n      if (result.ok) {\n        const claim = this.descriptor.derives(this.value, result.ok)\n        if (claim.error) {\n          errors.push(\n            new MatchError(\n              [new EscalatedCapability(this.value, result.ok, claim.error)],\n              this\n            )\n          )\n        } else {\n          matches.push(new Match(capability, result.ok, this.descriptor))\n        }\n      } else {\n        switch (result.error.name) {\n          case 'UnknownCapability':\n            unknown.push(result.error.capability)\n            break\n          case 'MalformedCapability':\n          default:\n            errors.push(new MatchError([result.error], this))\n        }\n      }\n    }\n\n    return { matches, unknown, errors }\n  }\n  toString() {\n    const { nb } = this.value\n    return JSON.stringify({\n      can: this.descriptor.can,\n      with: this.value.with,\n      nb: nb && Object.keys(nb).length > 0 ? nb : undefined,\n    })\n  }\n}\n\n/**\n * @template {API.ParsedCapability} T\n * @template {API.Match} M\n * @implements {API.DerivedMatch<T, M>}\n */\n\nclass DerivedMatch {\n  /**\n   * @param {API.DirectMatch<T>} selected\n   * @param {API.MatchSelector<M>} from\n   * @param {API.Derives<T, API.InferDeriveProof<M['value']>>} derives\n   */\n  constructor(selected, from, derives) {\n    this.selected = selected\n    this.from = from\n    this.derives = derives\n  }\n  get can() {\n    return this.value.can\n  }\n  get source() {\n    return this.selected.source\n  }\n  get proofs() {\n    const proofs = []\n    for (const { delegation } of this.selected.source) {\n      proofs.push(delegation)\n    }\n    Object.defineProperties(this, { proofs: { value: proofs } })\n    return proofs\n  }\n  get value() {\n    return this.selected.value\n  }\n\n  /**\n   * @param {API.CanIssue} context\n   */\n  prune(context) {\n    const selected =\n      /** @type {API.DirectMatch<T>|null} */\n      (this.selected.prune(context))\n    return selected ? new DerivedMatch(selected, this.from, this.derives) : null\n  }\n\n  /**\n   * @param {API.Source[]} capabilities\n   */\n  select(capabilities) {\n    const { derives, selected, from } = this\n    const { value } = selected\n\n    const direct = selected.select(capabilities)\n\n    const derived = from.select(capabilities)\n    const matches = []\n    const errors = []\n    for (const match of derived.matches) {\n      // If capability can not be derived it escalates\n      const result = derives(value, match.value)\n      if (result.error) {\n        errors.push(\n          new MatchError(\n            [new EscalatedCapability(value, match.value, result.error)],\n            this\n          )\n        )\n      } else {\n        matches.push(match)\n      }\n    }\n\n    return {\n      unknown: intersection(direct.unknown, derived.unknown),\n      errors: [\n        ...errors,\n        ...direct.errors,\n        ...derived.errors.map(error => new MatchError([error], this)),\n      ],\n      matches: [\n        ...direct.matches.map(match => new DerivedMatch(match, from, derives)),\n        ...matches,\n      ],\n    }\n  }\n\n  toString() {\n    return this.selected.toString()\n  }\n}\n\n/**\n * @template {API.MatchSelector<API.Match>[]} Selectors\n * @implements {API.Amplify<API.InferMembers<Selectors>>}\n */\nclass AndMatch {\n  /**\n   * @param {API.Match[]} matches\n   */\n  constructor(matches) {\n    this.matches = matches\n  }\n  get selectors() {\n    return this.matches\n  }\n  /**\n   * @returns {API.Source[]}\n   */\n  get source() {\n    const source = []\n\n    for (const match of this.matches) {\n      source.push(...match.source)\n    }\n    Object.defineProperties(this, { source: { value: source } })\n    return source\n  }\n\n  /**\n   * @param {API.CanIssue} context\n   */\n  prune(context) {\n    const matches = []\n    for (const match of this.matches) {\n      const pruned = match.prune(context)\n      if (pruned) {\n        matches.push(pruned)\n      }\n    }\n    return matches.length === 0 ? null : new AndMatch(matches)\n  }\n\n  get proofs() {\n    const proofs = []\n\n    for (const { delegation } of this.source) {\n      proofs.push(delegation)\n    }\n\n    Object.defineProperties(this, { proofs: { value: proofs } })\n    return proofs\n  }\n  /**\n   * @type {API.InferValue<API.InferMembers<Selectors>>}\n   */\n  get value() {\n    const value = []\n\n    for (const match of this.matches) {\n      value.push(match.value)\n    }\n    Object.defineProperties(this, { value: { value } })\n    return /** @type {any} */ (value)\n  }\n  /**\n   * @param {API.Source[]} capabilities\n   */\n  select(capabilities) {\n    return selectGroup(this, capabilities)\n  }\n  toString() {\n    return `[${this.matches.map(match => match.toString()).join(', ')}]`\n  }\n}\n\n/**\n * Resolves ability `pattern` of the delegated capability from the ability\n * of the claimed capability. If pattern matches returns claimed ability\n * otherwise returns given `fallback`.\n *\n * @example\n * ```js\n * resolveAbility('*', 'store/add', null) // => 'store/add'\n * resolveAbility('store/*', 'store/add', null) // => 'store/add'\n * resolveAbility('store/add', 'store/add', null) // => 'store/add'\n * resolveAbility('store/', 'store/add', null) // => null\n * resolveAbility('store/a*', 'store/add', null) // => null\n * resolveAbility('store/list', 'store/add', null) // => null\n * ```\n *\n * @template {API.Ability} T\n * @template U\n * @param {string} pattern\n * @param {T} can\n * @param {U} fallback\n * @returns {T|U}\n */\nconst resolveAbility = (pattern, can, fallback) => {\n  switch (pattern) {\n    case can:\n    case '*':\n      return can\n    default:\n      return pattern.endsWith('/*') && can.startsWith(pattern.slice(0, -1))\n        ? can\n        : fallback\n  }\n}\n\n/**\n * Resolves `source` resource of the delegated capability from the resource\n * `uri` of the claimed capability. If `source` is `\"ucan:*\"\"` or matches `uri`\n * then it returns `uri` back otherwise it returns `fallback`.\n *\n * @example\n * ```js\n * resolveResource('ucan:*', 'did:key:zAlice', null) // => 'did:key:zAlice'\n * resolveAbility('ucan:*', 'https://example.com', null) // => 'https://example.com'\n * resolveAbility('did:*', 'did:key:zAlice', null) // => null\n * resolveAbility('did:key:zAlice', 'did:key:zAlice', null) // => did:key:zAlice\n * ```\n * @template {string} T\n * @template U\n * @param {T} uri\n * @param {string} source\n * @param {U} fallback\n * @returns {T|U}\n */\nconst resolveResource = (source, uri, fallback) => {\n  switch (source) {\n    case uri:\n    case 'ucan:*':\n      return uri\n    default:\n      return fallback\n  }\n}\n\n/**\n * Parses capability from the `source` using a provided `parser`.\n *\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @param {Required<Descriptor<A, R, C>>} descriptor\n * @param {API.Source} source\n * @returns {API.Result<API.ParsedCapability<A, R, C>, API.InvalidCapability>}\n */\nconst parseCapability = (descriptor, source) => {\n  const { delegation } = source\n  const capability = /** @type {API.Capability<A, R, C>} */ (source.capability)\n\n  if (descriptor.can !== capability.can) {\n    return { error: new UnknownCapability(capability) }\n  }\n\n  const uri = descriptor.with.read(capability.with)\n  if (uri.error) {\n    return { error: new MalformedCapability(capability, uri.error) }\n  }\n\n  const nb = descriptor.nb.read(capability.nb || {})\n  if (nb.error) {\n    return { error: new MalformedCapability(capability, nb.error) }\n  }\n\n  return { ok: new CapabilityView(descriptor.can, uri.ok, nb.ok, delegation) }\n}\n\n/**\n * Resolves delegated capability `source` from the `claimed` capability using\n * provided capability `parser`. It is similar to `parseCapability` except\n * `source` here is treated as capability pattern which is matched against the\n * `claimed` capability. This means we resolve `can` and `with` fields from the\n * `claimed` capability and inherit all missing `nb` fields from the claimed\n * capability.\n *\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @param {Required<Descriptor<A, R, C>>} descriptor\n * @param {API.ParsedCapability<A, R, C>} claimed\n * @param {API.Source} source\n * @returns {API.Result<API.ParsedCapability<A, R, C>, API.InvalidCapability>}\n */\n\nconst resolveCapability = (descriptor, claimed, { capability, delegation }) => {\n  const can = resolveAbility(capability.can, claimed.can, null)\n  if (can == null) {\n    return { error: new UnknownCapability(capability) }\n  }\n\n  const resource = resolveResource(\n    capability.with,\n    claimed.with,\n    capability.with\n  )\n  const uri = descriptor.with.read(resource)\n  if (uri.error) {\n    return { error: new MalformedCapability(capability, uri.error) }\n  }\n\n  const nb = descriptor.nb.read({\n    ...claimed.nb,\n    ...capability.nb,\n  })\n\n  if (nb.error) {\n    return { error: new MalformedCapability(capability, nb.error) }\n  }\n\n  return { ok: new CapabilityView(can, uri.ok, nb.ok, delegation) }\n}\n\n/**\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template C\n */\nclass CapabilityView {\n  /**\n   * @param {A} can\n   * @param {R} with_\n   * @param {C} nb\n   * @param {API.Delegation} delegation\n   */\n  constructor(can, with_, nb, delegation) {\n    this.can = can\n    this.with = with_\n    this.delegation = delegation\n    this.nb = nb\n  }\n}\n\n/**\n * @template {API.Match} M\n * @param {API.Matcher<M>} matcher\n * @param {API.Source[]} capabilities\n * @returns {API.Select<M>}\n */\n\nconst select = (matcher, capabilities) => {\n  const unknown = []\n  const matches = []\n  const errors = []\n  for (const capability of capabilities) {\n    const result = matcher.match(capability)\n    if (result.error) {\n      switch (result.error.name) {\n        case 'UnknownCapability':\n          unknown.push(result.error.capability)\n          break\n        case 'MalformedCapability':\n        default:\n          errors.push(new MatchError([result.error], result.error.capability))\n      }\n    } else {\n      matches.push(result.ok)\n    }\n  }\n\n  return { matches, errors, unknown }\n}\n\n/**\n * @template {API.Selector<API.Match>[]} S\n * @param {{selectors:S}} self\n * @param {API.Source[]} capabilities\n */\n\nconst selectGroup = (self, capabilities) => {\n  let unknown\n  const data = []\n  const errors = []\n  for (const selector of self.selectors) {\n    const selected = selector.select(capabilities)\n    unknown = unknown\n      ? intersection(unknown, selected.unknown)\n      : selected.unknown\n\n    for (const error of selected.errors) {\n      errors.push(new MatchError([error], self))\n    }\n\n    data.push(selected.matches)\n  }\n\n  const matches = combine(data).map(group => new AndMatch(group))\n\n  return {\n    unknown:\n      /* c8 ignore next */\n      unknown || [],\n    errors,\n    matches,\n  }\n}\n\n/**\n * @template {API.ParsedCapability} T\n * @template {API.ParsedCapability} U\n * @param {T} claimed\n * @param {U} delegated\n * @return {API.Result<true, API.Failure>}\n */\nconst defaultDerives = (claimed, delegated) => {\n  if (delegated.with.endsWith('*')) {\n    if (!claimed.with.startsWith(delegated.with.slice(0, -1))) {\n      return Schema.error(\n        `Resource ${claimed.with} does not match delegated ${delegated.with} `\n      )\n    }\n  } else if (delegated.with !== claimed.with) {\n    return Schema.error(\n      `Resource ${claimed.with} is not contained by ${delegated.with}`\n    )\n  }\n\n  /* c8 ignore next 2 */\n  const caveats = delegated.nb || {}\n  const nb = claimed.nb || {}\n  const kv = entries(caveats)\n\n  for (const [name, value] of kv) {\n    if (nb[name] != value) {\n      return Schema.error(`${String(name)}: ${nb[name]} violates ${value}`)\n    }\n  }\n\n  return { ok: true }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2069, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/%40ucanto/validator/src/authorization.js"],"sourcesContent":["import * as API from '@ucanto/interface'\n\n/**\n * @template {API.ParsedCapability} C\n * @implements {API.Authorization<C>}\n */\nclass Authorization {\n  /**\n   * @param {API.Match<C>} match\n   * @param {API.Authorization<API.ParsedCapability>[]} proofs\n   */\n  constructor(match, proofs) {\n    this.match = match\n    this.proofs = proofs\n  }\n  get capability() {\n    return this.match.value\n  }\n  get delegation() {\n    return this.match.source[0].delegation\n  }\n  get issuer() {\n    return this.delegation.issuer\n  }\n  get audience() {\n    return this.delegation.audience\n  }\n}\n\n/**\n * @template {API.ParsedCapability} C\n * @param {API.Match<C>} match\n * @param {API.Authorization<API.ParsedCapability>[]} proofs\n * @returns {API.Authorization<C>}\n */\nexport const create = (match, proofs = []) => new Authorization(match, proofs)\n\n/**\n *\n * @param {API.Authorization} authorization\n * @returns {Iterable<API.UCANLink>}\n */\nexport const iterate = function* ({ delegation, proofs }) {\n  yield delegation.cid\n  for (const proof of proofs) {\n    yield* iterate(proof)\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA;;;CAGC,GACD,MAAM;IACJ;;;GAGC,GACD,YAAY,KAAK,EAAE,MAAM,CAAE;QACzB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG;IAChB;IACA,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK;IACzB;IACA,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU;IACxC;IACA,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM;IAC/B;IACA,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ;IACjC;AACF;AAQO,MAAM,SAAS,CAAC,OAAO,SAAS,EAAE,GAAK,IAAI,cAAc,OAAO;AAOhE,MAAM,UAAU,UAAW,EAAE,UAAU,EAAE,MAAM,EAAE;IACtD,MAAM,WAAW,GAAG;IACpB,KAAK,MAAM,SAAS,OAAQ;QAC1B,OAAO,QAAQ;IACjB;AACF","ignoreList":[0]}},
    {"offset": {"line": 2112, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/capabilities/node_modules/%40ucanto/validator/src/lib.js"],"sourcesContent":["import * as API from '@ucanto/interface'\nimport { isDelegation, UCAN, ok, fail } from '@ucanto/core'\nimport { capability } from './capability.js'\nimport * as Schema from '@ucanto/core/schema'\nimport * as Authorization from './authorization.js'\nimport {\n  UnavailableProof,\n  Unauthorized,\n  PrincipalAlignmentError,\n  Expired,\n  Revoked,\n  NotValidBefore,\n  InvalidSignature,\n  SessionEscalation,\n  DelegationError,\n  Failure,\n  MalformedCapability,\n  DIDKeyResolutionError,\n  li,\n} from './error.js'\n\nexport { capability } from './capability.js'\nexport * from '@ucanto/core/schema'\n\nexport {\n  Schema,\n  Authorization,\n  Failure,\n  fail,\n  ok,\n  Revoked,\n  UnavailableProof,\n  Unauthorized,\n  MalformedCapability,\n  DIDKeyResolutionError as DIDResolutionError,\n}\n\n/**\n * @param {UCAN.Link} proof\n * @returns {{error:API.UnavailableProof}}\n */\nconst unavailable = proof => ({ error: new UnavailableProof(proof) })\n\n/**\n *\n * @param {UCAN.DID} did\n * @returns {{error:API.DIDKeyResolutionError}}\n */\nconst failDIDKeyResolution = did => ({ error: new DIDKeyResolutionError(did) })\n\n/**\n * @param {Required<API.ClaimOptions>} config\n * @param {API.Match<unknown, API.Match>} match\n */\n\nconst resolveMatch = async (match, config) => {\n  const promises = []\n  const includes = new Set()\n  for (const source of match.source) {\n    const id = source.delegation.cid.toString()\n    if (!includes.has(id)) {\n      promises.push(await resolveSources(source, config))\n    }\n  }\n  const groups = await Promise.all(promises)\n  const sources = []\n  const errors = []\n  for (const group of groups) {\n    sources.push(...group.sources)\n    errors.push(...group.errors)\n  }\n\n  return { sources, errors }\n}\n\n/**\n * Takes `proofs` from the delegation which may contain `Delegation` or a link\n * to one and attempts to resolve links by side loading them. Returns set of\n * resolved `Delegation`s and errors for the proofs that could not be resolved.\n *\n * @param {API.Proof[]} proofs\n * @param {Required<API.ProofResolver>} config\n */\nconst resolveProofs = async (proofs, config) => {\n  /** @type {API.Delegation[]} */\n  const delegations = []\n  /** @type {API.UnavailableProof[]} */\n  const errors = []\n  const promises = []\n  for (const proof of proofs) {\n    // If it is a delegation we can just add it to the resolved set.\n    if (isDelegation(proof)) {\n      delegations.push(proof)\n    }\n    // otherwise we attempt to resolve the link asynchronously. To avoid doing\n    // sequential requests we create promise for each link and then wait for\n    // all of them at the end.\n    else {\n      promises.push(\n        new Promise(async resolve => {\n          // config.resolve is not supposed to throw, but we catch it just in\n          // case it does and consider proof resolution failed.\n          try {\n            const result = await config.resolve(proof)\n            if (result.error) {\n              errors.push(result.error)\n            } else {\n              delegations.push(result.ok)\n            }\n          } catch (error) {\n            errors.push(\n              new UnavailableProof(proof, /** @type {Error} */ (error))\n            )\n          }\n\n          // we don't care about the result, we just need to signal that we are\n          // done with this promise.\n          resolve(null)\n        })\n      )\n    }\n  }\n\n  // Wait for all the promises to resolve. At this point we have collected all\n  // the resolved delegations and errors.\n  await Promise.all(promises)\n  return { delegations, errors }\n}\n\n/**\n * Takes a delegation source and attempts to resolve all the linked proofs.\n *\n * @param {API.Source} from\n * @param {Required<API.ClaimOptions>} config\n * @return {Promise<{sources:API.Source[], errors:ProofError[]}>}\n */\nconst resolveSources = async ({ delegation }, config) => {\n  const errors = []\n  const sources = []\n  const proofs = []\n  // First we attempt to resolve all the linked proofs.\n  const { delegations, errors: failedProofs } = await resolveProofs(\n    delegation.proofs,\n    config\n  )\n\n  // All the proofs that failed to resolve are saved as proof errors.\n  for (const error of failedProofs) {\n    errors.push(new ProofError(error.link, error))\n  }\n\n  // All the proofs that resolved are checked for principal alignment. Ones that\n  // do not align are saved as proof errors.\n  for (const proof of delegations) {\n    // If proof does not delegate to a matching audience save an proof error.\n    if (delegation.issuer.did() !== proof.audience.did()) {\n      errors.push(\n        new ProofError(\n          proof.cid,\n          new PrincipalAlignmentError(delegation.issuer, proof)\n        )\n      )\n    } else {\n      proofs.push(proof)\n    }\n  }\n  // In the second pass we attempt to proofs that were resolved and are aligned.\n  for (const proof of proofs) {\n    // If proof is not valid (expired, not active yet or has incorrect\n    // signature) save a corresponding proof error.\n    const validation = await validate(proof, proofs, config)\n    if (validation.error) {\n      errors.push(new ProofError(proof.cid, validation.error))\n    } else {\n      // otherwise create source objects for it's capabilities, so we could\n      // track which proof in which capability the are from.\n      for (const capability of proof.capabilities) {\n        sources.push(\n          /** @type {API.Source} */ ({\n            capability,\n            delegation: proof,\n          })\n        )\n      }\n    }\n  }\n\n  return { sources, errors }\n}\n\n/**\n * @param {API.ParsedCapability} capability\n * @param {API.DID} issuer\n */\nconst isSelfIssued = (capability, issuer) => capability.with === issuer\n\n/**\n * Finds a valid path in a proof chain of the given `invocation` by exploring\n * every possible option. On success an `Authorization` object is returned that\n * illustrates the valid path. If no valid path is found `Unauthorized` error\n * is returned detailing all explored paths and where they proved to fail.\n *\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {R} URI\n * @template {API.Caveats} C\n * @param {API.Invocation<API.Capability<A, URI, C>>} invocation\n * @param {API.ValidationOptions<API.ParsedCapability<A, R, C>>} options\n * @returns {Promise<API.Result<API.Authorization<API.ParsedCapability<A, R, C>>, API.Unauthorized>>}\n */\nexport const access = async (invocation, { capability, ...config }) =>\n  claim(capability, [invocation], config)\n\n/**\n * Attempts to find a valid proof chain for the claimed `capability` given set\n * of `proofs`. On success an `Authorization` object with detailed proof chain\n * is returned and on failure `Unauthorized` error is returned with details on\n * paths explored and why they have failed.\n *\n * @template {API.Ability} A\n * @template {API.URI} R\n * @template {API.Caveats} C\n * @param {API.CapabilityParser<API.Match<API.ParsedCapability<A, R, C>>>} capability\n * @param {API.Proof[]} proofs\n * @param {API.ClaimOptions} config\n * @returns {Promise<API.Result<API.Authorization<API.ParsedCapability<A, R, C>>, API.Unauthorized>>}\n */\nexport const claim = async (\n  capability,\n  proofs,\n  {\n    authority,\n    principal,\n    validateAuthorization,\n    resolveDIDKey = failDIDKeyResolution,\n    canIssue = isSelfIssued,\n    resolve = unavailable,\n    proofs: localProofs = []\n  }\n) => {\n  const config = {\n    canIssue,\n    resolve,\n    principal,\n    capability,\n    authority,\n    validateAuthorization,\n    resolveDIDKey,\n    proofs: localProofs\n  }\n\n  const invalidProofs = []\n\n  /** @type {API.Source[]} */\n  const sources = []\n\n  const { delegations, errors } = await resolveProofs(proofs, config)\n  invalidProofs.push(...errors)\n\n  for (const proof of delegations) {\n    // Validate each proof if valid add ech capability to the list of sources.\n    // otherwise collect the error.\n    const validation = await validate(proof, delegations, config)\n    if (validation.ok) {\n      for (const capability of validation.ok.capabilities.values()) {\n        sources.push(\n          /** @type {API.Source} */ ({\n            capability,\n            delegation: validation.ok,\n          })\n        )\n      }\n    } else {\n      invalidProofs.push(validation.error)\n    }\n  }\n  // look for the matching capability\n  const selection = capability.select(sources)\n\n  const { errors: delegationErrors, unknown: unknownCapabilities } = selection\n  const failedProofs = []\n  for (const matched of selection.matches) {\n    const selector = matched.prune(config)\n    if (selector == null) {\n      const authorization = Authorization.create(matched, [])\n      const result = await validateAuthorization(authorization)\n      if (result.error) {\n        invalidProofs.push(result.error)\n      } else {\n        return { ok: authorization }\n      }\n    } else {\n      const result = await authorize(selector, config)\n      if (result.error) {\n        failedProofs.push(result.error)\n      } else {\n        const authorization = Authorization.create(matched, [result.ok])\n        const approval = await validateAuthorization(authorization)\n        if (approval.error) {\n          invalidProofs.push(approval.error)\n        } else {\n          return { ok: authorization }\n        }\n      }\n    }\n  }\n\n  return {\n    error: new Unauthorized({\n      capability,\n      delegationErrors,\n      unknownCapabilities,\n      invalidProofs,\n      failedProofs,\n    }),\n  }\n}\n\n/**\n * Verifies whether any of the delegated proofs grant give capability.\n *\n * @template {API.Match} Match\n * @param {Match} match\n * @param {Required<API.ClaimOptions>} config\n * @returns {Promise<API.Result<API.Authorization<API.ParsedCapability>, API.InvalidClaim>>}\n */\n\nexport const authorize = async (match, config) => {\n  // load proofs from all delegations\n  const { sources, errors: invalidProofs } = await resolveMatch(match, config)\n\n  const selection = match.select(sources)\n  const { errors: delegationErrors, unknown: unknownCapabilities } = selection\n\n  const failedProofs = []\n  for (const matched of selection.matches) {\n    const selector = matched.prune(config)\n    if (selector == null) {\n      return {\n        ok: Authorization.create(\n          // @ts-expect-error - it may not be a parsed capability but rather a\n          // group of capabilities but we can deal with that in the future.\n          matched,\n          []\n        ),\n      }\n    } else {\n      const result = await authorize(selector, config)\n      if (result.error) {\n        failedProofs.push(result.error)\n      } else {\n        return {\n          ok: Authorization.create(\n            // @ts-expect-error - it may not be a parsed capability but rather a\n            // group of capabilities but we can deal with that in the future.\n            matched,\n            [result.ok]\n          ),\n        }\n      }\n    }\n  }\n\n  return {\n    error: new InvalidClaim({\n      match,\n      delegationErrors,\n      unknownCapabilities,\n      invalidProofs,\n      failedProofs,\n    }),\n  }\n}\n\nclass ProofError extends Failure {\n  /**\n   * @param {API.UCANLink} proof\n   * @param {API.Failure} cause\n   */\n  constructor(proof, cause) {\n    super()\n    this.name = 'ProofError'\n    this.proof = proof\n    this.cause = cause\n  }\n  describe() {\n    return [\n      `Capability can not be derived from prf:${this.proof} because:`,\n      li(this.cause.message),\n    ].join(`\\n`)\n  }\n}\n\n/**\n * @implements {API.InvalidClaim}\n */\nclass InvalidClaim extends Failure {\n  /**\n   * @param {{\n   * match: API.Match\n   * delegationErrors: API.DelegationError[]\n   * unknownCapabilities: API.Capability[]\n   * invalidProofs: ProofError[]\n   * failedProofs: API.InvalidClaim[]\n   * }} info\n   */\n  constructor(info) {\n    super()\n    this.info = info\n    this.name = /** @type {const} */ ('InvalidClaim')\n  }\n  get issuer() {\n    return this.delegation.issuer\n  }\n  get delegation() {\n    return this.info.match.source[0].delegation\n  }\n  describe() {\n    const errors = [\n      ...this.info.failedProofs.map(error => li(error.message)),\n      ...this.info.delegationErrors.map(error => li(error.message)),\n      ...this.info.invalidProofs.map(error => li(error.message)),\n    ]\n\n    const unknown = this.info.unknownCapabilities.map(c =>\n      li(JSON.stringify(c))\n    )\n\n    return [\n      `Capability ${this.info.match} is not authorized because:`,\n      li(`Capability can not be (self) issued by '${this.issuer.did()}'`),\n      ...(errors.length > 0 ? errors : [li(`Delegated capability not found`)]),\n      ...(unknown.length > 0\n        ? [li(`Encountered unknown capabilities\\n${unknown.join('\\n')}`)]\n        : []),\n    ].join('\\n')\n  }\n}\n\n/**\n * Validate a delegation to check it is within the time bound and that it is\n * authorized by the issuer.\n *\n * @template {API.Delegation} T\n * @param {T} delegation\n * @param {API.Delegation[]} proofs\n * @param {Required<API.ClaimOptions>} config\n * @returns {Promise<API.Result<T, API.InvalidProof|API.SessionEscalation|API.DIDKeyResolutionError>>}\n */\nconst validate = async (delegation, proofs, config) => {\n  if (UCAN.isExpired(delegation.data)) {\n    return {\n      error: new Expired(\n        /** @type {API.Delegation & {expiration: number}} */ (delegation)\n      ),\n    }\n  }\n\n  if (UCAN.isTooEarly(delegation.data)) {\n    return {\n      error: new NotValidBefore(\n        /** @type {API.Delegation & {notBefore: number}} */ (delegation)\n      ),\n    }\n  }\n\n  return await verifyAuthorization(delegation, proofs, config)\n}\n\n/**\n * Verifies that delegation has been authorized by the issuer. If issued by the\n * did:key principal checks that the signature is valid. If issued by the root\n * authority checks that the signature is valid. If issued by the principal\n * identified by other DID method attempts to resolve a valid `ucan/attest`\n * attestation from the authority, if attestation is not found falls back to\n * resolving did:key for the issuer and verifying its signature.\n *\n * @template {API.Delegation} T\n * @param {T} delegation\n * @param {API.Delegation[]} proofs\n * @param {Required<API.ClaimOptions>} config\n * @returns {Promise<API.Result<T, API.InvalidSignature|API.SessionEscalation|API.DIDKeyResolutionError>>}\n */\nconst verifyAuthorization = async (delegation, proofs, config) => {\n  const issuer = delegation.issuer.did()\n  // If the issuer is a did:key we just verify a signature\n  if (issuer.startsWith('did:key:')) {\n    return verifySignature(delegation, config.principal.parse(issuer))\n  }\n  // If the issuer is the root authority we use authority itself to verify\n  else if (issuer === config.authority.did()) {\n    return verifySignature(delegation, config.authority)\n  } else {\n    // If issuer is not a did:key principal nor configured authority, we\n    // attempt to resolve embedded authorization session from the authority.\n    const session = await verifySession(delegation, proofs, config)\n    // If we have valid session we consider authorization valid\n    if (session.ok) {\n      return { ok: delegation }\n    } else if (session.error.failedProofs.length > 0) {\n      return {\n        error: new SessionEscalation({ delegation, cause: session.error }),\n      }\n    }\n    // Otherwise we try to resolve did:key from the DID instead\n    // and use that to verify the signature\n    else {\n      const verifier = await config.resolveDIDKey(issuer)\n      if (verifier.error) {\n        return verifier\n      } else {\n        return verifySignature(\n          delegation,\n          config.principal.parse(verifier.ok).withDID(issuer)\n        )\n      }\n    }\n  }\n}\n\n/**\n * @template {API.Delegation} T\n * @param {T} delegation\n * @param {API.Verifier} verifier\n * @returns {Promise<API.Result<T, API.InvalidSignature|API.DIDKeyResolutionError>>}\n */\nconst verifySignature = async (delegation, verifier) => {\n  const valid = await UCAN.verifySignature(delegation.data, verifier)\n  return valid\n    ? { ok: delegation }\n    : { error: new InvalidSignature(delegation, verifier) }\n}\n\n/**\n * Attempts to find an authorization session - an `ucan/attest` capability\n * delegation where `with` matches `config.authority` and `nb.proof`\n * matches given delegation.\n * @see https://github.com/web3-storage/specs/blob/feat/auth+account/w3-session.md#authorization-session\n *\n * @param {API.Delegation} delegation\n * @param {API.Delegation[]} proofs\n * @param {Required<API.ClaimOptions>} config\n */\nconst verifySession = async (delegation, proofs, config) => {\n  // Recognize attestations from all authorized principals, not just authority\n  const withSchemas = config.proofs\n    .filter(p => p.capabilities[0].can === 'ucan/attest' && p.capabilities[0].with === config.authority.did())\n    .map(p => Schema.literal(p.audience.did()))\n\n  const withSchema = withSchemas.length\n    ? Schema.union([Schema.literal(config.authority.did()), ...withSchemas])\n    : Schema.literal(config.authority.did())\n\n  // Create a schema that will match an authorization for this exact delegation\n  const attestation = capability({\n    with: withSchema,\n    can: 'ucan/attest',\n    nb: Schema.struct({\n      proof: Schema.link(delegation.cid),\n    }),\n  })\n\n  return await claim(\n    attestation,\n    proofs\n      // We only consider attestations otherwise we will end up doing an\n      // exponential scan if there are other proofs that require attestations.\n      .filter(isAttestation)\n      // Also filter any proofs that _are_ the delegation we're verifying so\n      // we don't recurse indefinitely.\n      .filter(p => p.cid.toString() !== delegation.cid.toString()),\n    config\n  )\n}\n\n/**\n * Checks if the delegation is an attestation.\n *\n * @param {API.Delegation} proof\n */\nconst isAttestation = proof => proof.capabilities[0]?.can === 'ucan/attest'\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2569, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/errors.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/errors.ts"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/errors.ts"],"names":[],"mappings":""}},
    {"offset": {"line": 2576, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/types.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/types.ts"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/types.ts"],"names":[],"mappings":"AAuEA,qBAAqB;;;;;AACrB,cAAc,mBAAmB,CAAA;AACjC,cAAc,kCAAkC,CAAA;AAChD,cAAc,aAAa,CAAA;AAC3B,cAAc,0BAA0B,CAAA;;;;;AA+QxC,IAAY,OAEX;AAFD,CAAA,SAAY,OAAO;IACjB,OAAA,CAAA,cAAA,GAAA,cAA4B,CAAA;AAC9B,CAAC,EAFW,OAAO,IAAA,CAAP,OAAO,GAAA,CAAA,CAAA,GAElB"}},
    {"offset": {"line": 2597, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/encoding.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/encoding.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/encoding.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;;;;;;;;;;;;;;;;AACH,OAAO,EAAE,eAAe,EAAE,MAAM,yBAAyB,CAAA;AACzD,OAAO,KAAK,eAAe,MAAM,yBAAyB,CAAA;AAC1D,OAAO,EAAE,UAAU,EAAE,MAAM,yBAAyB,CAAA;;;AACpD,OAAO,KAAK,EAAE,MAAM,aAAa,CAAA;AACjC,0CAA0C;AAC1C,OAAO,KAAK,KAAK,MAAM,mBAAmB,CAAA;;;;;;AAOpC,SAAU,kBAAkB,CAAC,WAAW;IAC5C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;QAC3D,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAA;KAClE;IAED,MAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAC3B,CAAC,CAAC,EAAE,CAAuC,CAArC,AAAsC,CAArC,AAAsC,IAAI,CAAC,GAAG,CAAC,CACvD,CAAA,uBAD0C,CAAC;IAE5C,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,CAAA;IACtB,oCAAA,EAAsC,CACtC,MAAM,MAAM,GAAG,EAAE,CAAA;IACjB,IAAI,UAAU,GAAG,CAAC,CAAA;IAElB,KAAK,MAAM,UAAU,IAAI,WAAW,CAAE;QACpC,KAAK,MAAM,KAAK,IAAI,UAAU,CAAC,MAAM,EAAE,CAAE;YACvC,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAA;YACvC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,UAAU,IAAI,eAAe,CAAC,0JAAW,CACD,KAAK,CAAC,CAC7C,CAAA;gBACD,MAAM,CAAC,IAAI,CAAuC,AAAtC,KAA2C,CAAC,CAAC,CAAA,4BAAT,CAAC;gBACjD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;aACd;SACF;KACF;IACD,MAAM,YAAY,GAAG,eAAe,CAAC,mKAAoB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;IACvE,MAAM,MAAM,GAAG,eAAe,CAAC,2JAAY,CACzC,IAAI,WAAW,CAAC,YAAY,GAAG,UAAU,CAAC,EAC1C;QAAE,KAAK;IAAA,CAAE,CACV,CAAA;IACD,KAAK,MAAM,KAAK,IAAI,MAAM,CAAE;QAC1B,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;KACpB;IAED,OAAO,MAAM,CAAC,KAAK,EAAE,CAAA;AACvB,CAAC;AAQK,SAAU,kBAAkB,CAAC,KAAK;IACtC,IAAI,CAAC,CAAC,KAAK,YAAY,UAAU,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;QACxD,MAAM,IAAI,SAAS,CAAC,yCAAyC,CAAC,CAAA;KAC/D;IACD,MAAM,MAAM,GAAG,yLAAe,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;IAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAA;IAE/B,kCAAA,EAAoC,CACpC,MAAM,WAAW,GAAG,EAAE,CAAA;IAEtB,KAAK,MAAM,IAAI,IAAI,KAAK,CAAE;QACxB,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;QAElC,IAAI,SAAS,EAAE;YACb,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE,CAAA;YACxB,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,MAAM,EAAE,CAAE;gBACnC,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE,EAC1C,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAA;aAC1C;YAED,aAAa;YACb,WAAW,CAAC,IAAI,CAAC,IAAI,sKAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAA;SACpD,MAAM;YACL,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAA;SAC5D;KACF;IAED,OAAO,WAAW,CAAA;AACpB,CAAC;AAMK,SAAU,mBAAmB,CAAC,WAAW,EAAE,QAAQ,GAAG,WAAW;IACrE,MAAM,KAAK,GAAG,kBAAkB,CAAC,WAAW,CAAC,CAAA;IAE7C,OAAO,EAAE,CAAC,qNAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;AACrC,CAAC;AAQK,SAAU,kBAAkB,CAAC,UAAU,EAAE,QAAQ;IACrD,OAAO,mBAAmB,CAAC;QAAC,UAAU;KAAC,EAAE,QAAQ,CAAC,CAAA;AACpD,CAAC;AASK,SAAU,mBAAmB,CAAC,GAAG,EAAE,QAAQ,GAAG,WAAW;IAC7D,MAAM,KAAK,GAAG,EAAE,CAAC,yNAAU,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAA;IAE1C,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAA;AAClC,CAAC;AASK,SAAU,kBAAkB,CAAC,GAAG,EAAE,QAAQ;IAC9C,MAAM,WAAW,GAAG,mBAAmB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAA;IAEtD,OAAO,AAAoC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA,kBAAjB,CAAC;AAC5C,CAAC;AAKK,SAAU,gBAAgB,CAAC,UAAU;IACzC,MAAM,OAAO,GACX,UAAU,KAAK,QAAQ,IAAI,CAAC,UAAU,GAClC,SAAS,GACT,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAA;IAEjC,OAAO,OAAO,CAAA;AAChB,CAAC"}},
    {"offset": {"line": 2713, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/access.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/access.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/access.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2987, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/provider.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/provider.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/provider.js"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,KAAK,GAAG,MAAM,YAAY,CAAA;;AACjC,OAAO,KAAK,QAAQ,MAAM,qCAAqC,CAAA;;;AAExD,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAE,GAAG,QAAQ,CAAA;AAgBtD,MAAM,GAAG,GAAG,KAAK,EACtB,KAAK,EACL,EACE,OAAO,EACP,QAAQ,EACR,QAAQ,GAAG,AAAgC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,EAAE,AAAC,EACrE,GADyC,CAAC,EACpC,EACP,EACD,EAAE;IACF,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;QAC7B,MAAM,IAAI,KAAK,CACb,CAAA,0DAAA,EAA6D,QAAQ,CAAA,qBAAA,CAAuB,CAC7F,CAAA;KACF;IAED,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,KAAK,CAAC,gBAAgB,CAAC,QAAQ,gKAAC,GAAG,EAAE;QACzD,IAAI,EAAE,OAAO;QACb,EAAE,EAAE;YACF,QAAQ;YACR,QAAQ;SACT;QACD,MAAM;KACP,CAAC,CAAA;IAEF,OAAO,GAAG,CAAA;AACZ,CAAC,CAAA"}},
    {"offset": {"line": 3019, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/space.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/space.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/space.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3284, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/delegations.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/delegations.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/delegations.js"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,cAAc,CAAA;AACtC,OAAO,KAAK,GAAG,MAAM,YAAY,CAAA;AACjC,OAAO,EAAE,kBAAkB,EAAE,MAAM,kCAAkC,CAAA;;;;AAM/D,SAAU,SAAS,CAAC,UAAU;IAClC,IACE,UAAU,CAAC,UAAU,KAAK,SAAS,IACnC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,EACtD;QACA,OAAO,IAAI,CAAA;KACZ;IACD,OAAO,KAAK,CAAA;AACd,CAAC;AAMK,SAAU,UAAU,CAAC,UAAU;IACnC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;QACzB,OAAO,KAAK,CAAA;KACb;IACD,OAAO,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAA;AAC7D,CAAC;AAUK,SAAU,QAAQ,CAAC,UAAU,EAAE,IAAI;IACvC,MAAM,EACJ,aAAa,EACb,cAAc,GAAG,IAAI,EACrB,eAAe,GAAG,IAAI,EACvB,GAAG,IAAI,IAAI,CAAA,CAAE,CAAA;IAEd,IAAI,aAAa,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,aAAa,CAAC,GAAG,EAAE,EAAE;QACtE,MAAM,IAAI,KAAK,CACb,CAAA,oBAAA,EAAuB,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAA,6BAAA,EAAgC,aAAa,CAAC,GAAG,EAAE,EAAE,CACtG,CAAA;KACF;IAED,IAAI,cAAc,IAAI,SAAS,CAAC,UAAU,CAAC,EAAE;QAC3C,MAAM,IAAI,KAAK,CAAC,CAAA,mBAAA,CAAqB,CAAC,CAAA;KACvC;IAED,IAAI,eAAe,IAAI,UAAU,CAAC,UAAU,CAAC,EAAE;QAC7C,MAAM,IAAI,KAAK,CAAC,CAAA,yCAAA,CAA2C,CAAC,CAAA;KAC7D;AACH,CAAC;AAQK,SAAU,qBAAqB,CAAC,UAAU,EAAE,UAAU;IAC1D,MAAM,kBAAkB,GAAG,MAAM,CAAC,qMAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;IAC/D,KAAK,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAE;QACjE,IAAI,aAAa,CAAC,AAA6B,GAAG,CAAC,CAAE,UAAU,CAAC,IAAI,CAAC,EAAE,IAA1B,CAAC;YAC5C,MAAM,IAAI,GAAG,AAA8B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAA,IAAzB,CAAC;YAE1C,KAAK,MAAM,GAAG,IAAI,IAAI,CAAE;gBACtB,QAAI,0LAAkB,EAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,EAAE;oBAC3C,OAAO,IAAI,CAAA;iBACZ;aACF;SACF;KACF;IACD,OAAO,KAAK,CAAA;AACd,CAAC;AASM,MAAM,aAAa,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;IAC/C,IAAI,KAAK,KAAK,QAAQ,EAAE;QACtB,OAAO,IAAI,CAAA;KACZ,MAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QACpC,OAAO,QAAQ,KAAK,KAAK,CAAA;KAC1B,MAAM;QACL,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;KAC5B;AACH,CAAC,CAAA"}},
    {"offset": {"line": 3354, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/utils/buffers.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/utils/buffers.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/utils/buffers.js"],"names":[],"mappings":"AAAA;;;;;;;;;;GAUG;;;;AACG,SAAU,uBAAuB,CAAC,KAAK;IAC3C,IAAI,KAAK,CAAC,UAAU,KAAK,CAAC,IAAI,KAAK,CAAC,UAAU,KAAK,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE;QAC1E,OAAO,KAAK,CAAC,MAAM,CAAA;KACpB,MAAM;QACL,OAAO,KAAK,CAAC,MAAM,CAAC,KAAK,CACvB,KAAK,CAAC,UAAU,EAChB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CACpC,CAAA;KACF;AACH,CAAC"}},
    {"offset": {"line": 3379, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/agent-data.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/agent-data.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/agent-data.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3551, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/agent-use-cases.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/agent-use-cases.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/agent-use-cases.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3808, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/agent.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/agent.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/agent.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4388, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/drivers/indexeddb.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/drivers/indexeddb.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/drivers/indexeddb.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4525, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/stores/store-indexeddb.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/stores/store-indexeddb.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/stores/store-indexeddb.js"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,yBAAyB,CAAA;;AAanD,MAAO,cAAe,SAAQ,wMAAe;CAAG"}},
    {"offset": {"line": 4546, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/drivers/memory.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/drivers/memory.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/drivers/memory.js"],"names":[],"mappings":"AAAA;;;GAGG,CAEH;;;;;;;;;;;GAWG;;;;AACG,MAAO,YAAY;IACvB;;OAEG,EACH,IAAK,CAAA;IAEL,aAAA;QACE,IAAI,EAAC,IAAK,GAAG,SAAS,CAAA;IACxB,CAAC;IAED,KAAK,CAAC,IAAI,GAAA,CAAI,CAAC;IAEf,KAAK,CAAC,KAAK,GAAA,CAAI,CAAC;IAEhB,KAAK,CAAC,KAAK,GAAA;QACT,IAAI,EAAC,IAAK,GAAG,SAAS,CAAA;IACxB,CAAC;IAED,oBAAA,EAAsB,CACtB,KAAK,CAAC,IAAI,CAAC,IAAI,EAAA;QACb,IAAI,EAAC,IAAK,GAAG;YAAE,GAAG,IAAI;QAAA,CAAE,CAAA;IAC1B,CAAC;IAED,oCAAA,EAAsC,CACtC,KAAK,CAAC,IAAI,GAAA;QACR,IAAI,IAAI,EAAC,IAAK,KAAK,SAAS,EAAE,OAAM;QACpC,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAC,IAAK,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,OAAM;QAChD,OAAO,IAAI,EAAC,IAAK,CAAA;IACnB,CAAC;CACF"}},
    {"offset": {"line": 4591, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/access/dist/src/stores/store-memory.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/access/src/stores/store-memory.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/access/src/stores/store-memory.js"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,sBAAsB,CAAA;;AAa7C,MAAO,WAAY,SAAQ,kMAAY;CAAG"}},
    {"offset": {"line": 4603, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/did-mailto/dist/src/types.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/did-mailto/src/types.ts"],"sourcesContent":["// https://datatracker.ietf.org/doc/html/rfc5322#section-3.4.1\nexport type LocalPart = string\nexport type Domain = string\nexport type EmailAddress = `${LocalPart}@${Domain}`\n\n// https://www.rfc-editor.org/rfc/rfc3986#section-2.1\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport type PercentEncoded<T extends string> = string\n\n// did:mailto\nexport type DidMailto =\n  `did:mailto:${PercentEncoded<Domain>}:${PercentEncoded<LocalPart>}`\n"],"names":[],"mappings":""}},
    {"offset": {"line": 4610, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/did-mailto/dist/src/index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/did-mailto/src/index.js"],"sourcesContent":["export * from './types.js'\n\n/**\n * create a did:mailto from an email address\n *\n * @param {import(\"./types.js\").EmailAddress} email\n * @returns {import(\"./types.js\").DidMailto}\n */\nexport function fromEmail(email) {\n  const { domain, local } = parseEmail(email)\n  const did = /** @type {const} */ (\n    `did:mailto:${encodeURIComponent(domain)}:${encodeURIComponent(local)}`\n  )\n  return did\n}\n\n/**\n * @param {import(\"./types.js\").DidMailto} did\n * @returns {import(\"./types.js\").EmailAddress}\n */\nexport function toEmail(did) {\n  const parts = did.split(':')\n  if (parts[1] !== 'mailto') {\n    throw new Error(`DID ${did} is not a mailto did.`)\n  }\n  return `${decodeURIComponent(parts[3])}@${decodeURIComponent(parts[2])}`\n}\n\n/**\n * given a string, if it is an EmailAddress, return it, otherwise throw an error.\n * Use this to parse string input to `EmailAddress` type to pass to `fromEmail` (when needed).\n * This is not meant to be a general RFC5322 (et al) email address validator, which would be more expensive.\n *\n * @param {string} input\n * @returns {import(\"./types.js\").EmailAddress}\n */\nexport function email(input) {\n  const { domain, local } = parseEmail(input)\n  /** @type {import(\"./types.js\").EmailAddress} */\n  const emailAddress = `${local}@${domain}`\n  return emailAddress\n}\n\n/**\n * parse a did mailto from a string\n *\n * @param {string} input\n * @returns {import(\"./types.js\").DidMailto}\n */\nexport function fromString(input) {\n  const colonParts = input.split(':')\n  if (colonParts.length !== 4) {\n    throw new TypeError(\n      `expected did:mailto to have 4 colon-delimited segments, but got ${colonParts.length}`\n    )\n  }\n  const [domain, local] = [colonParts[2], colonParts[3]]\n  return `did:mailto:${domain}:${local}`\n}\n\n/**\n * @param {string} email\n */\nfunction parseEmail(email) {\n  const atParts = email.split('@')\n  if (atParts.length < 2) {\n    throw new TypeError(\n      `expected at least 2 @-delimtied segments, but got ${atParts.length}`\n    )\n  }\n  const domain = atParts.at(-1) ?? ''\n  const local = atParts.slice(0, -1).join('@')\n  return { domain, local }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA,cAAc,YAAY,CAAA;;AAQpB,SAAU,SAAS,CAAC,KAAK;IAC7B,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAA;IAC3C,MAAM,GAAG,GAAG,AACV,CAAA,WAAA,EAAc,MADgB,CAAC,WACC,CAAC,MAAM,CAAC,CAAA,CAAA,EAAI,kBAAkB,CAAC,KAAK,CAAC,EAAE,CACxE,CAAA;IACD,OAAO,GAAG,CAAA;AACZ,CAAC;AAMK,SAAU,OAAO,CAAC,GAAG;IACzB,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;IAC5B,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;QACzB,MAAM,IAAI,KAAK,CAAC,CAAA,IAAA,EAAO,GAAG,CAAA,qBAAA,CAAuB,CAAC,CAAA;KACnD;IACD,OAAO,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA,CAAA,EAAI,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAA;AAC1E,CAAC;AAUK,SAAU,KAAK,CAAC,KAAK;IACzB,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAA;IAC3C,8CAAA,EAAgD,CAChD,MAAM,YAAY,GAAG,GAAG,KAAK,CAAA,CAAA,EAAI,MAAM,EAAE,CAAA;IACzC,OAAO,YAAY,CAAA;AACrB,CAAC;AAQK,SAAU,UAAU,CAAC,KAAK;IAC9B,MAAM,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;IACnC,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;QAC3B,MAAM,IAAI,SAAS,CACjB,CAAA,gEAAA,EAAmE,UAAU,CAAC,MAAM,EAAE,CACvF,CAAA;KACF;IACD,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG;QAAC,UAAU,CAAC,CAAC,CAAC;QAAE,UAAU,CAAC,CAAC,CAAC;KAAC,CAAA;IACtD,OAAO,CAAA,WAAA,EAAc,MAAM,CAAA,CAAA,EAAI,KAAK,EAAE,CAAA;AACxC,CAAC;AAED;;GAEG,CACH,SAAS,UAAU,CAAC,KAAK;IACvB,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;IAChC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;QACtB,MAAM,IAAI,SAAS,CACjB,CAAA,kDAAA,EAAqD,OAAO,CAAC,MAAM,EAAE,CACtE,CAAA;KACF;IACD,MAAM,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAA;IACnC,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IAC5C,OAAO;QAAE,MAAM;QAAE,KAAK;IAAA,CAAE,CAAA;AAC1B,CAAC"}},
    {"offset": {"line": 4693, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/api.js"],"sourcesContent":["// @see https://github.com/microsoft/TypeScript/issues/41825\nexport {}\n"],"names":[],"mappings":"AAAA,4DAA4D","ignoreList":[0]}},
    {"offset": {"line": 4700, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/constant.js"],"sourcesContent":["/**\n * Number of bits per byte\n */\nconst BITS_PER_BYTE = 8\n\n/**\n * The number of Frs per Block.\n */\nexport const FRS_PER_QUAD = 4\n\nexport const LEAFS_PER_QUAD = /** @type {4n} */ (BigInt(FRS_PER_QUAD))\n\n/**\n * The amount of bits in an Fr when not padded.\n */\nexport const IN_BITS_FR = 254\n/**\n * The amount of bits in an Fr when padded.\n */\nexport const OUT_BITS_FR = 256\n\nexport const IN_BYTES_PER_QUAD =\n  /** @type {127} */\n  ((FRS_PER_QUAD * IN_BITS_FR) / BITS_PER_BYTE)\n\nexport const OUT_BYTES_PER_QUAD =\n  /** @type {128} */\n  ((FRS_PER_QUAD * OUT_BITS_FR) / BITS_PER_BYTE)\n\nexport const PADDED_BYTES_PER_QUAD = /** @type {127n} */ (\n  BigInt(IN_BYTES_PER_QUAD)\n)\n\nexport const EXPANDED_BYTES_PER_QUAD = /** @type {128n} */ (\n  BigInt(OUT_BYTES_PER_QUAD)\n)\n\nexport const BYTES_PER_FR =\n  /** @type {32} */\n  OUT_BYTES_PER_QUAD / FRS_PER_QUAD\n\nexport const FR_RATIO = IN_BITS_FR / OUT_BITS_FR\n\n/**\n * Size of a node in the merkle tree.\n */\nexport const NODE_SIZE =\n  /** @type {32} */\n  (OUT_BYTES_PER_QUAD / FRS_PER_QUAD)\n\nexport const EXPANDED_BYTES_PER_NODE = /** @type {32n} */ (BigInt(NODE_SIZE))\n\n/**\n * The smallest amount of data for which FR32 padding has a defined result.\n * Silently upgrading 2 leaves to 4 would break the symmetry so we require\n * an extra byte and the rest can be 0 padded to expand to 4 leaves.\n */\nexport const MIN_PAYLOAD_SIZE = 2 * NODE_SIZE + 1\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACD,MAAM,gBAAgB;AAKf,MAAM,eAAe;AAErB,MAAM,iBAAoC,OAAO;AAKjD,MAAM,aAAa;AAInB,MAAM,cAAc;AAEpB,MAAM,oBAEV,AAAC,eAAe,aAAc;AAE1B,MAAM,qBAEV,AAAC,eAAe,cAAe;AAE3B,MAAM,wBACX,OAAO;AAGF,MAAM,0BACX,OAAO;AAGF,MAAM,eACX,eAAe,GACf,qBAAqB;AAEhB,MAAM,WAAW,aAAa;AAK9B,MAAM,YAEV,qBAAqB;AAEjB,MAAM,0BAA8C,OAAO;AAO3D,MAAM,mBAAmB,IAAI,YAAY","ignoreList":[0]}},
    {"offset": {"line": 4748, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/node.js"],"sourcesContent":["import * as API from './api.js'\nimport { NODE_SIZE as Size } from './constant.js'\n\nexport { Size }\n\n/**\n * @param {number[]} bytes\n */\nexport const of = (...bytes) => from(bytes)\n\n/**\n * @param {Iterable<number>} bytes\n * @returns {API.MerkleTreeNode}\n */\nexport const from = (bytes) => {\n  /* c8 ignore next 7 */\n  if (bytes instanceof Uint8Array) {\n    if (bytes.length > Size) {\n      return bytes.subarray(0, Size)\n    } else if (bytes.length == Size) {\n      return bytes\n    }\n  }\n\n  const node = new Uint8Array(Size)\n  node.set([...bytes])\n  return node\n}\n\nexport const empty = () => EMPTY\n\nconst EMPTY = from(new Uint8Array(Size).fill(0))\nObject.freeze(EMPTY.buffer)\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;;AAOO,MAAM,KAAK,CAAC,GAAG,QAAU,KAAK;AAM9B,MAAM,OAAO,CAAC;IACnB,oBAAoB,GACpB,IAAI,iBAAiB,YAAY;QAC/B,IAAI,MAAM,MAAM,GAAG,uLAAI,EAAE;YACvB,OAAO,MAAM,QAAQ,CAAC,GAAG,uLAAI;QAC/B,OAAO,IAAI,MAAM,MAAM,IAAI,uLAAI,EAAE;YAC/B,OAAO;QACT;IACF;IAEA,MAAM,OAAO,IAAI,WAAW,uLAAI;IAChC,KAAK,GAAG,CAAC;WAAI;KAAM;IACnB,OAAO;AACT;AAEO,MAAM,QAAQ,IAAM;AAE3B,MAAM,QAAQ,KAAK,IAAI,WAAW,uLAAI,EAAE,IAAI,CAAC;AAC7C,OAAO,MAAM,CAAC,MAAM,MAAM","ignoreList":[0]}},
    {"offset": {"line": 4792, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/ipld/sha256.js"],"sourcesContent":["import * as API from '../api.js'\nimport * as SHA256 from 'sync-multihash-sha2/sha256'\nexport * from 'sync-multihash-sha2/sha256'\n\n/**\n * @type {API.MulticodecCode<typeof SHA256.code, typeof SHA256.name>}\n */\nexport const code = SHA256.code\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAMO,MAAM,OAAO,+KAAW","ignoreList":[0]}},
    {"offset": {"line": 4807, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/ipld/cbor.js"],"sourcesContent":["import * as API from '../api.js'\nimport * as CBOR from '@ipld/dag-cbor'\n\n/**\n * @type {API.MulticodecCode<typeof CBOR.code, typeof CBOR.name>}\n */\nexport const code = CBOR.code\n\nexport const name = CBOR.name\n\nexport const encode =\n  /** @type {<T>(model:T) => API.ByteView<T, typeof code>} */\n  (CBOR.encode)\n\nexport const decode =\n  /** @type {<T>(bytes:API.ByteView<T, typeof code>) => T} */\n  (CBOR.decode)\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAKO,MAAM,OAAO,gKAAS;AAEtB,MAAM,OAAO,gKAAS;AAEtB,MAAM,SAEV,kKAAW;AAEP,MAAM,SAEV,kKAAW","ignoreList":[0]}},
    {"offset": {"line": 4829, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/ipld.js"],"sourcesContent":["import * as API from './api.js'\nexport * as SHA256 from './ipld/sha256.js'\nexport * as CBOR from './ipld/cbor.js'\nimport * as Link from 'multiformats/link'\n\n/**\n * @template Layout\n * @template {API.MulticodecCode} Format\n * @template {API.MulticodecCode} Hash\n * @param {API.ByteView<Layout, Format>} bytes\n * @param {object} settings\n * @param {API.SyncMultihashHasher<Hash>} settings.hasher\n * @param {object} settings.codec\n * @param {Format} settings.codec.code\n * @returns {API.Link<Layout, Format, Hash>}\n */\nexport const createLink = (bytes, { hasher, codec }) => {\n  const digest = hasher.digest(bytes)\n  return Link.create(codec.code, digest)\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAaO,MAAM,aAAa,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE;IACjD,MAAM,SAAS,OAAO,MAAM,CAAC;IAC7B,OAAO,wOAAW,CAAC,MAAM,IAAI,EAAE;AACjC","ignoreList":[0]}},
    {"offset": {"line": 4874, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/proof.js"],"sourcesContent":["import * as API from './api.js'\n\nimport * as Bytes from 'multiformats/bytes'\nimport { Size as NodeSize } from './node.js'\nimport { CBOR, SHA256 } from './ipld.js'\n\n/**\n * @param {API.ProofData} proof\n * @returns {API.MerkleTreePath}\n */\nexport const path = ([, path]) => path\n\n/**\n * @param {API.ProofData} proof\n * @returns {API.uint64}\n */\nexport const offset = ([offset]) => offset\n\n/**\n * @param {API.ProofData} proof\n * @returns {number}\n */\nexport const depth = (proof) => path(proof).length\n\n/**\n * Verifies that `proof` proves that `claim.node` is contained by\n * the `claim.tree` merkle tree.\n *\n * @param {API.ProofData} proof\n * @param {object} claim\n * @param {API.MerkleTreeNode} claim.tree\n * @param {API.MerkleTreeNode} claim.node\n * @returns {API.Result<{}, Error>}\n */\nexport const verify = (proof, { tree, node }) => {\n  const computedRoot = resolveRoot(proof, node)\n  if (computedRoot.error) {\n    return { error: new Error(`computing root: ${computedRoot.error.message}`) }\n  }\n\n  if (!Bytes.equals(computedRoot.ok, tree)) {\n    return {\n      error: new Error('inclusion proof does not lead to the same root'),\n    }\n  }\n  return { ok: {} }\n}\n\nconst MAX_DEPTH = 63\n\n/**\n * Resolves the root of the merkle tree from given proof and node that root\n * supposedly includes. It does so by computing parent node from provided node\n * and node in the proof path, then combining that with the next node in the\n * path and so on until the root is reached. Function may return an error if\n * proof path is too long or if proof offset falls out of bounds.\n *\n * @param {API.ProofData} proof\n * @param {API.MerkleTreeNode} node\n * @returns {API.Result<API.MerkleTreeNode, RangeError>}\n */\nexport function resolveRoot(proof, node) {\n  if (depth(proof) > MAX_DEPTH) {\n    return {\n      error: new RangeError(\n        'merkle proofs with depths greater than 63 are not supported'\n      ),\n    }\n  }\n\n  let position = offset(proof)\n  if (position >> BigInt(depth(proof)) !== 0n) {\n    return { error: new RangeError('offset greater than width of the tree') }\n  }\n\n  let top = node\n  let right = 0n\n\n  for (const node of path(proof)) {\n    right =  position & 1n\n    position = position >> 1n\n    top = right === 1n ? computeNode(node, top) : computeNode(top, node)\n  }\n\n  return { ok: top }\n}\n\n/**\n * @param {Uint8Array} payload\n * @param {object} [options]\n * @param {API.SyncMultihashHasher<API.SHA256_CODE>} [options.hasher]\n * @returns {API.MerkleTreeNode}\n */\nexport function truncatedHash(payload, options = {}) {\n  const hasher = options.hasher || SHA256\n  const { digest } = hasher.digest(payload)\n  return truncate(digest)\n}\n\n/**\n * @param {API.MerkleTreeNode} left\n * @param {API.MerkleTreeNode} right\n * @param {object} [options]\n * @param {API.SyncMultihashHasher<API.SHA256_CODE>} [options.hasher]\n * @returns {API.MerkleTreeNode}\n */\nexport const computeNode = (left, right, options) => {\n  const payload = new Uint8Array(left.length + right.length)\n  payload.set(left, 0)\n  payload.set(right, left.length)\n  return truncatedHash(payload, options)\n}\n\n/**\n * @param {API.MerkleTreeNode} node\n * @returns {API.MerkleTreeNode}\n */\nexport function truncate(node) {\n  node[NodeSize - 1] &= 0b00111111\n  return node\n}\n\n/**\n * Takes data model and returns an IPLD View of it.\n *\n * @param {object} source\n * @param {API.uint64} source.offset\n * @param {API.MerkleTreePath} source.path\n * @returns {API.ProofData}\n */\nexport const create = ({ offset, path }) => [offset, path]\n\n/**\n * Takes proof in somewhat arbitrary form and returns a proof data.\n *\n * @param {API.IntoProofData} source\n * @returns {API.ProofData}\n */\nexport const from = (source) => {\n  const [offset, path] = Array.isArray(source)\n    ? source\n    : [source.offset, source.path]\n\n  return create({ offset: BigInt(offset), path })\n}\n\n/**\n * @param {number} height - Height of the merkle tree\n * @param {number} level - Level of the node in the merkle tree\n * @param {API.uint64} index - Index of the node in the level\n */\nexport const validateLevelIndex = (height, level, index) => {\n  if (level < 0) {\n    throw new RangeError('level can not be negative')\n  }\n\n  if (level > height) {\n    throw new RangeError(`level too high: ${level} >= ${height}`)\n  }\n\n  if (index > (1 << (height - level)) - 1) {\n    throw new RangeError(\n      `index too large for level: idx ${index}, level ${level} : ${\n        (1 << (height - level)) - 1\n      }`\n    )\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAAA;AACA;AAAA;;;;;AAMO,MAAM,OAAO,CAAC,GAAG,KAAK,GAAK;AAM3B,MAAM,SAAS,CAAC,CAAC,OAAO,GAAK;AAM7B,MAAM,QAAQ,CAAC,QAAU,KAAK,OAAO,MAAM;AAY3C,MAAM,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE;IAC1C,MAAM,eAAe,YAAY,OAAO;IACxC,IAAI,aAAa,KAAK,EAAE;QACtB,OAAO;YAAE,OAAO,IAAI,MAAM,CAAC,gBAAgB,EAAE,aAAa,KAAK,CAAC,OAAO,EAAE;QAAE;IAC7E;IAEA,IAAI,CAAC,yNAAY,CAAC,aAAa,EAAE,EAAE,OAAO;QACxC,OAAO;YACL,OAAO,IAAI,MAAM;QACnB;IACF;IACA,OAAO;QAAE,IAAI,CAAC;IAAE;AAClB;AAEA,MAAM,YAAY;AAaX,SAAS,YAAY,KAAK,EAAE,IAAI;IACrC,IAAI,MAAM,SAAS,WAAW;QAC5B,OAAO;YACL,OAAO,IAAI,WACT;QAEJ;IACF;IAEA,IAAI,WAAW,OAAO;IACtB,IAAI,YAAY,OAAO,MAAM,YAAY,EAAE,EAAE;QAC3C,OAAO;YAAE,OAAO,IAAI,WAAW;QAAyC;IAC1E;IAEA,IAAI,MAAM;IACV,IAAI,QAAQ,EAAE;IAEd,KAAK,MAAM,QAAQ,KAAK,OAAQ;QAC9B,QAAS,WAAW,EAAE;QACtB,WAAW,YAAY,EAAE;QACzB,MAAM,UAAU,EAAE,GAAG,YAAY,MAAM,OAAO,YAAY,KAAK;IACjE;IAEA,OAAO;QAAE,IAAI;IAAI;AACnB;AAQO,SAAS,cAAc,OAAO,EAAE,UAAU,CAAC,CAAC;IACjD,MAAM,SAAS,QAAQ,MAAM,IAAI,4NAAM;IACvC,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,MAAM,CAAC;IACjC,OAAO,SAAS;AAClB;AASO,MAAM,cAAc,CAAC,MAAM,OAAO;IACvC,MAAM,UAAU,IAAI,WAAW,KAAK,MAAM,GAAG,MAAM,MAAM;IACzD,QAAQ,GAAG,CAAC,MAAM;IAClB,QAAQ,GAAG,CAAC,OAAO,KAAK,MAAM;IAC9B,OAAO,cAAc,SAAS;AAChC;AAMO,SAAS,SAAS,IAAI;IAC3B,IAAI,CAAC,uNAAQ,GAAG,EAAE,IAAI;IACtB,OAAO;AACT;AAUO,MAAM,SAAS,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,GAAK;QAAC;QAAQ;KAAK;AAQnD,MAAM,OAAO,CAAC;IACnB,MAAM,CAAC,QAAQ,KAAK,GAAG,MAAM,OAAO,CAAC,UACjC,SACA;QAAC,OAAO,MAAM;QAAE,OAAO,IAAI;KAAC;IAEhC,OAAO,OAAO;QAAE,QAAQ,OAAO;QAAS;IAAK;AAC/C;AAOO,MAAM,qBAAqB,CAAC,QAAQ,OAAO;IAChD,IAAI,QAAQ,GAAG;QACb,MAAM,IAAI,WAAW;IACvB;IAEA,IAAI,QAAQ,QAAQ;QAClB,MAAM,IAAI,WAAW,CAAC,gBAAgB,EAAE,MAAM,IAAI,EAAE,QAAQ;IAC9D;IAEA,IAAI,QAAQ,CAAC,KAAM,SAAS,KAAM,IAAI,GAAG;QACvC,MAAM,IAAI,WACR,CAAC,+BAA+B,EAAE,MAAM,QAAQ,EAAE,MAAM,GAAG,EACzD,CAAC,KAAM,SAAS,KAAM,IAAI,GAC1B;IAEN;AACF","ignoreList":[0]}},
    {"offset": {"line": 4995, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/zero-comm.js"],"sourcesContent":["import * as API from './api.js'\nimport * as Node from './node.js'\nimport * as Proof from './proof.js'\n\nconst MAX_LEVEL = 64\n\n/**\n * This is a lazy zero-comm buffer which we fill up on demand.\n */\nclass ZeroComm {\n  constructor() {\n    this.bytes = new Uint8Array(MAX_LEVEL * Node.Size)\n    this.bytes.set(Node.empty(), 0)\n    /** @private */\n    this.node = Node.empty()\n    /** @private */\n    this.length = Node.Size\n  }\n  /**\n   * @param {number} start\n   * @param {number} end\n   */\n  slice(start, end) {\n    while (this.length < end) {\n      this.node = Proof.computeNode(this.node, this.node)\n      this.bytes.set(this.node, this.length)\n      this.length += Node.Size\n    }\n\n    return this.bytes.subarray(start, end)\n  }\n}\nconst ZERO_COMM = new ZeroComm()\n\n/**\n * simple access by level, only levels between `0` and `64` inclusive are\n * available otherwise throws an error.\n *\n * @param {number} level\n * @returns {API.MerkleTreeNode}\n */\nexport const fromLevel = (level) => {\n  if (level < 0 || level >= MAX_LEVEL) {\n    throw new Error(\n      `Only levels between 0 and ${MAX_LEVEL - 1} inclusive are available`\n    )\n  }\n\n  return ZERO_COMM.slice(Node.Size * level, Node.Size * (level + 1))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEA,MAAM,YAAY;AAElB;;CAEC,GACD,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,KAAK,GAAG,IAAI,WAAW,YAAY,uNAAS;QACjD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,+LAAU,IAAI;QAC7B,aAAa,GACb,IAAI,CAAC,IAAI,GAAG,+LAAU;QACtB,aAAa,GACb,IAAI,CAAC,MAAM,GAAG,uNAAS;IACzB;IACA;;;GAGC,GACD,MAAM,KAAK,EAAE,GAAG,EAAE;QAChB,MAAO,IAAI,CAAC,MAAM,GAAG,IAAK;YACxB,IAAI,CAAC,IAAI,GAAG,sLAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;YAClD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM;YACrC,IAAI,CAAC,MAAM,IAAI,uNAAS;QAC1B;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO;IACpC;AACF;AACA,MAAM,YAAY,IAAI;AASf,MAAM,YAAY,CAAC;IACxB,IAAI,QAAQ,KAAK,SAAS,WAAW;QACnC,MAAM,IAAI,MACR,CAAC,0BAA0B,EAAE,YAAY,EAAE,wBAAwB,CAAC;IAExE;IAEA,OAAO,UAAU,KAAK,CAAC,uNAAS,GAAG,OAAO,uNAAS,GAAG,CAAC,QAAQ,CAAC;AAClE","ignoreList":[0]}},
    {"offset": {"line": 5039, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/piece/tree.js"],"sourcesContent":["import * as API from '../api.js'\nimport { Size as NodeSize } from '../node.js'\nimport * as Proof from '../proof.js'\nexport { computeNode } from '../proof.js'\n\n// The value is an unsigned, 32-bit integer that is always numerically greater\n// than the highest index in the array. This means our tree can represent a\n// piece up to 128 GiB in size.\nexport const MAX_LEAF_COUNT = 2 ** 32 - 1\n\n/**\n * Allocates a tree for a given amount of leafs.\n *\n * The construction rounds the amount of leafs up to the nearest two-power with\n * zeroed nodes to ensure that the tree is perfect and hence all internal node's\n * have well-defined children.\n *\n * @param {number} leafs\n */\nexport function allocate(leafs) {\n  const adjustedLeafs = 2 ** Math.ceil(Math.log2(leafs))\n\n  if (adjustedLeafs > MAX_LEAF_COUNT) {\n    throw new RangeError(\n      `too many leafs ${adjustedLeafs} exceeds ${MAX_LEAF_COUNT} limit`\n    )\n  }\n\n  const height = Math.ceil(Math.log2(adjustedLeafs))\n  const nodes = new Array(height + 1)\n\n  for (const level of nodes.keys()) {\n    nodes[level] = new Array(1 << level)\n  }\n\n  return new PieceTree({ nodes, height })\n}\n\n/**\n * @param {API.TreeData} tree\n */\nconst depth = (tree) => {\n  return tree.nodes.length\n}\n\n/**\n *\n * @param {API.TreeData} tree\n * @returns {API.MerkleTreeNode}\n */\nexport const root = (tree) => {\n  return tree.nodes[0][0]\n}\n\n/**\n * @param {Uint8Array} source\n * @returns {API.MerkleTreeNode[]}\n */\nexport const split = (source) => {\n  const count = source.length / NodeSize\n  const chunks = new Array(count)\n  for (let n = 0; n < count; n++) {\n    const offset = n * NodeSize\n    const chunk = source.subarray(offset, offset + NodeSize)\n    chunks[n] = chunk\n  }\n  return chunks\n}\n\n/**\n * @param {API.Fr23Padded} source\n */\nexport const build = (source) => fromChunks(split(source))\n\n/**\n * @param {API.MerkleTreeNode[]} chunks\n */\nexport const fromChunks = (chunks) => {\n  if (chunks.length === 0) {\n    throw new RangeError('Empty source')\n  }\n\n  const leafs = chunks //await Promise.all(chunks.map(truncatedHash))\n  return fromLeafs(leafs)\n}\n\n/**\n * @param {API.MerkleTreeNode[]} leafs\n * @returns {API.PieceTree}\n */\nexport const fromLeafs = (leafs) => {\n  const tree = allocate(leafs.length)\n  // Set the padded leaf nodes\n  tree.nodes[depth(tree) - 1] = padLeafs(leafs)\n  let parentNodes = tree.nodes[depth(tree) - 1]\n  // Construct the Merkle tree bottom-up, starting from the leafs\n  // Note the -1 due to 0-indexing the root level\n  for (let level = depth(tree) - 2; level >= 0; level--) {\n    /** @type {API.MerkleTreeNode[]} */\n    const currentLevel = new Array(Math.ceil(parentNodes.length / 2))\n    // Traverse the level left to right\n    for (let i = 0; i + 1 < parentNodes.length; i = i + 2) {\n      currentLevel[Math.floor(i / 2)] = Proof.computeNode(\n        parentNodes[i],\n        parentNodes[i + 1]\n      )\n    }\n    tree.nodes[level] = currentLevel\n    parentNodes = currentLevel\n  }\n\n  return new PieceTree(tree)\n}\n\n/**\n * @param {API.MerkleTreeNode[]} leafs\n * @returns {API.MerkleTreeNode[]}\n */\nexport const padLeafs = (leafs) => {\n  const paddingAmount = (1 << Math.ceil(Math.log2(leafs.length))) - leafs.length\n  // arrays are zeroed by default in JS\n  const paddingLeafs = new Array(paddingAmount)\n\n  return [...leafs, ...paddingLeafs]\n}\n\n/**\n * @implements {API.PieceTree}\n */\nclass PieceTree {\n  /**\n   * @param {object} data\n   * @param {API.MerkleTreeNode[][]} data.nodes\n   * @param {number} data.height\n   */\n  constructor({ nodes, height }) {\n    this.nodes = nodes\n    this.height = height\n  }\n\n  get root() {\n    return root(this)\n  }\n  get leafs() {\n    const { nodes } = this\n    return nodes[nodes.length - 1]\n  }\n  get leafCount() {\n    return 2 ** this.height\n  }\n  /**\n   *\n   * @param {number} level\n   * @param {number} index\n   */\n  node(level, index) {\n    const { nodes } = this\n    return nodes[level][index]\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5169, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/fr32.js"],"sourcesContent":["import * as API from './api.js'\nimport {\n  OUT_BYTES_PER_QUAD,\n  FR_RATIO,\n  IN_BYTES_PER_QUAD,\n  MIN_PAYLOAD_SIZE,\n} from './constant.js'\n\n/**\n * Determine the additional bytes of zeroed padding to append to the\n * end of a resource of `size` length in order to fit within a pow2 piece while\n * leaving enough room for Fr32 padding (2 bits per 254).\n *\n * @param {number} payloadSize - The size of the payload.\n * @returns {number}\n */\nexport function toZeroPaddedSize(payloadSize) {\n  const size = Math.max(payloadSize, MIN_PAYLOAD_SIZE)\n  const highestBit = Math.floor(Math.log2(size))\n\n  const bound = Math.ceil(FR_RATIO * 2 ** (highestBit + 1))\n  // the size is either the closest pow2 number, or the next pow2 number if we\n  // don't have space for padding\n  return size <= bound ? bound : Math.ceil(FR_RATIO * 2 ** (highestBit + 2))\n}\n\n/**\n * Derives fr32 padded size from the source content size (that MUST be\n * multiples of {@link IN_BYTES_PER_QUAD}) in bytes.\n *\n * @param {number} size\n */\nexport const toPieceSize = (size) => toZeroPaddedSize(size) / FR_RATIO\n\n/**\n * Derives fr32 unpadded size from the Fr32 padded size in bytes.\n *\n * @param {number} size\n */\nexport const fromPieceSize = (size) => size * FR_RATIO\n\n/**\n * Takes source bytes that returns fr32 padded bytes.\n *\n * @param {Uint8Array} source\n * @param {Uint8Array} output\n * @returns {API.Fr23Padded}\n */\nexport const pad = (\n  source,\n  output = new Uint8Array(toPieceSize(source.length))\n) => {\n  const size = toZeroPaddedSize(source.byteLength)\n  // Calculate number of quads in the given source\n  const quadCount = size / IN_BYTES_PER_QUAD\n\n  // Cycle over four(4) 31-byte groups, leaving 1 byte in between:\n  // 31 + 1 + 31 + 1 + 31 + 1 + 31 = 127\n  for (let n = 0; n < quadCount; n++) {\n    const readOffset = n * IN_BYTES_PER_QUAD\n    const writeOffset = n * OUT_BYTES_PER_QUAD\n\n    // First 31 bytes + 6 bits are taken as-is (trimmed later)\n    output.set(source.subarray(readOffset, readOffset + 32), writeOffset)\n\n    // first 2-bit \"shim\" forced into the otherwise identical output\n    output[writeOffset + 31] &= 0b00111111\n\n    // copy next Fr32 preceded with the last two bits of the previous Fr32\n    for (let i = 32; i < 64; i++) {\n      output[writeOffset + i] =\n        (source[readOffset + i] << 2) | (source[readOffset + i - 1] >> 6)\n    }\n\n    // next 2-bit shim\n    output[writeOffset + 63] &= 0b00111111\n\n    for (let i = 64; i < 96; i++) {\n      output[writeOffset + i] =\n        (source[readOffset + i] << 4) | (source[readOffset + i - 1] >> 4)\n    }\n\n    // next 2-bit shim\n    output[writeOffset + 95] &= 0b00111111\n\n    for (let i = 96; i < 127; i++) {\n      output[writeOffset + i] =\n        (source[readOffset + i] << 6) | (source[readOffset + i - 1] >> 2)\n    }\n\n    // we shim last 2-bits by shifting the last byte by two bits\n    output[writeOffset + 127] = source[readOffset + 126] >> 2\n  }\n\n  return output\n}\n\n/**\n * @param {API.Fr23Padded} source\n * @param {Uint8Array} [out]\n */\nexport const unpad = (\n  source,\n  out = new Uint8Array(fromPieceSize(source.length))\n) => {\n  const chunks = source.length / 128\n  for (let chunk = 0; chunk < chunks; chunk++) {\n    const inOffNext = chunk * 128 + 1\n    const outOff = chunk * 127\n\n    let at = source[chunk * 128]\n\n    for (let i = 0; i < 32; i++) {\n      const next = source[i + inOffNext]\n\n      out[outOff + i] = at\n\n      at = next\n    }\n\n    out[outOff + 31] |= at << 6\n\n    for (let i = 32; i < 64; i++) {\n      const next = source[i + inOffNext]\n\n      out[outOff + i] = at >> 2\n      out[outOff + i] |= next << 6\n\n      at = next\n    }\n\n    out[outOff + 63] ^= (at << 6) ^ (at << 4)\n\n    for (let i = 64; i < 96; i++) {\n      const next = source[i + inOffNext]\n\n      out[outOff + i] = at >> 4\n      out[outOff + i] |= next << 4\n\n      at = next\n    }\n\n    out[outOff + 95] ^= (at << 4) ^ (at << 2)\n\n    for (let i = 96; i < 127; i++) {\n      const next = source[i + inOffNext]\n\n      out[outOff + i]\n      out[outOff + i] = at >> 6\n      out[outOff + i] |= next << 2\n\n      at = next\n    }\n  }\n\n  return out\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5267, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/uint64.js"],"sourcesContent":["import * as API from './api.js'\n\n/**\n * Returns the base 2 logarithm of the given `n`, rounded down.\n *\n * @param {API.uint64} n\n * @returns {number}\n */\nexport const log2Floor = (n) => {\n  let result = 0n\n  while ((n >>= 1n)) result++\n  return Number(result)\n}\n\n/**\n * Return the integer logarithm with ceiling for 64 bit unsigned ints.\n *\n * @param {API.uint64} n\n */\nexport const log2Ceil = (n) => (n <= 1n ? 0 : log2Floor(BigInt(n) - 1n) + 1)\n\n/**\n * @param {API.uint64} n\n */\nexport const trailingZeros64 = (n) => {\n  if (n === 0n) {\n    return 64\n  }\n\n  let count = 0\n  while ((n & 1n) === 0n) {\n    n >>= 1n\n    count++\n  }\n\n  return count\n}\n\n/**\n * @param {API.uint64} value\n */\nexport const onesCount64 = (value) => {\n  let count = 0\n  const mask = 1n\n\n  for (let i = 0n; i < 64n; i++) {\n    if ((value & (mask << i)) !== 0n) {\n      count++\n    }\n  }\n\n  return count\n}\n\n/**\n * @param {API.uint64} n\n * @returns {API.uint64}\n */\nexport const pow2 = (n) => 1n << n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAQO,MAAM,YAAY,CAAC;IACxB,IAAI,SAAS,EAAE;IACf,MAAQ,MAAM,EAAE,CAAG;IACnB,OAAO,OAAO;AAChB;AAOO,MAAM,WAAW,CAAC,IAAO,KAAK,EAAE,GAAG,IAAI,UAAU,OAAO,KAAK,EAAE,IAAI;AAKnE,MAAM,kBAAkB,CAAC;IAC9B,IAAI,MAAM,EAAE,EAAE;QACZ,OAAO;IACT;IAEA,IAAI,QAAQ;IACZ,MAAO,CAAC,IAAI,EAAE,MAAM,EAAE,CAAE;QACtB,MAAM,EAAE;QACR;IACF;IAEA,OAAO;AACT;AAKO,MAAM,cAAc,CAAC;IAC1B,IAAI,QAAQ;IACZ,MAAM,OAAO,EAAE;IAEf,IAAK,IAAI,IAAI,EAAE,EAAE,IAAI,GAAG,EAAE,IAAK;QAC7B,IAAI,CAAC,QAAS,QAAQ,CAAE,MAAM,EAAE,EAAE;YAChC;QACF;IACF;IAEA,OAAO;AACT;AAMO,MAAM,OAAO,CAAC,IAAM,EAAE,IAAI","ignoreList":[0]}},
    {"offset": {"line": 5313, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/piece/size/padded.js"],"sourcesContent":["import * as API from '../../api.js'\nimport { log2Ceil, trailingZeros64 } from '../../uint64.js'\nimport {\n  PADDED_BYTES_PER_QUAD,\n  EXPANDED_BYTES_PER_QUAD,\n  LEAFS_PER_QUAD,\n} from '../../constant.js'\n\n/**\n * Validates that given `size` is a valid {@link API.UnpaddedPieceSize} and\n * returns {@link API.UnpaddedPieceSize} capturing the validation at the type\n * level. If given `size` is not a valid `UnpaddedPieceSize` throws an error.\n *\n * This function is a variation on {@link validate} that throws exceptions\n * instead of returning a {@link API.Result}.\n *\n * @param {number|API.uint64} size\n * @returns {API.PaddedSize}\n */\nexport const from = (size) => {\n  const result = tryFrom(size)\n  if (result.error) {\n    throw result.error\n  } else {\n    return result.ok\n  }\n}\n\n/**\n * Validates that given `size` is a valid {@link API.UnpaddedPieceSize} that is\n * a power of 2 multiple of 127. Returns {@link API.Result} with\n * `UnpaddedPieceSize` ok case and an Error in the error case.\n *\n * @param {API.uint64|number} input\n * @returns {API.Result<API.PaddedSize, Error>}\n */\nexport const tryFrom = (input) => {\n  const size = BigInt(input)\n  if (size < PADDED_BYTES_PER_QUAD) {\n    return {\n      error: new RangeError(\n        `Padded payload must contain at least ${PADDED_BYTES_PER_QUAD} bytes`\n      ),\n    }\n  }\n\n  if (size >> BigInt(trailingZeros64(size)) !== PADDED_BYTES_PER_QUAD) {\n    return {\n      error: new RangeError(\n        `Padded payload size must be (2ⁿ * ${PADDED_BYTES_PER_QUAD})`\n      ),\n    }\n  }\n\n  return { ok: size }\n}\n\n/**\n * @param {API.PieceSize} size\n * @returns {API.PaddedSize}\n */\nexport const fromExpanded = (size) => fromQuads(size / EXPANDED_BYTES_PER_QUAD)\n\n/**\n * Takes `{@link API.PaddedPieceSize}` and returns corresponding\n * {@link API.PieceSize}.\n *\n * Please note that this function does not validate the input size and\n * relies that type-checker will ensure that user passes valid unpadded\n * piece size created with {@link from} or {@link validate} functions.\n *\n *\n * @see https://github.com/filecoin-project/go-state-types/blob/master/abi/piece.go#L14-L16\n *\n * @param {API.PaddedSize} size\n * @returns {API.PieceSize}\n */\nexport const toExpanded = (size) => toQauds(size) * EXPANDED_BYTES_PER_QUAD\n\n/**\n * Calculates the padded size of the piece from the given tree height.\n *\n * @param {number} height\n * @returns {API.uint64}\n */\nexport const fromHeight = (height) => {\n  // We calculate number of quads tree by calculating number of nodes tree\n  // at second layer. This works because we deal with a binary tree so first\n  // layer nodes will contain 2 leaves and second layer nodes will contain 4\n  // leaves hence number of quads.\n  const quads = 2n ** BigInt(height - 2)\n  return quads * PADDED_BYTES_PER_QUAD\n}\n\n/**\n * Calculates the height of the piece tree from unpadded size.\n *\n * @param {API.PaddedSize} size\n */\nexport const toHeight = (size) => log2Ceil(toWidth(size))\n\n/**\n * Takes `{@link API.PaddedPieceSize}` and returns corresponding\n * piece tree width (leaf count).\n *\n * @param {API.PaddedSize} size\n */\nexport const toWidth = (size) => toQauds(size) * LEAFS_PER_QUAD\n\n/**\n *\n * @param {API.uint64} width\n * @returns {API.PaddedSize}\n */\nexport const fromWidth = (width) => fromQuads(width / LEAFS_PER_QUAD)\n\n/**\n * @param {API.PaddedSize} size\n */\nconst toQauds = (size) => size / PADDED_BYTES_PER_QUAD\n\n/**\n *\n * @param {API.uint64} count\n * @returns {API.PaddedSize}\n */\nconst fromQuads = (count) => count * PADDED_BYTES_PER_QUAD\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;AAiBO,MAAM,OAAO,CAAC;IACnB,MAAM,SAAS,QAAQ;IACvB,IAAI,OAAO,KAAK,EAAE;QAChB,MAAM,OAAO,KAAK;IACpB,OAAO;QACL,OAAO,OAAO,EAAE;IAClB;AACF;AAUO,MAAM,UAAU,CAAC;IACtB,MAAM,OAAO,OAAO;IACpB,IAAI,OAAO,mMAAqB,EAAE;QAChC,OAAO;YACL,OAAO,IAAI,WACT,CAAC,qCAAqC,EAAE,mMAAqB,CAAC,MAAM,CAAC;QAEzE;IACF;IAEA,IAAI,QAAQ,OAAO,IAAA,2LAAe,EAAC,WAAW,mMAAqB,EAAE;QACnE,OAAO;YACL,OAAO,IAAI,WACT,CAAC,kCAAkC,EAAE,mMAAqB,CAAC,CAAC,CAAC;QAEjE;IACF;IAEA,OAAO;QAAE,IAAI;IAAK;AACpB;AAMO,MAAM,eAAe,CAAC,OAAS,UAAU,OAAO,qMAAuB;AAgBvE,MAAM,aAAa,CAAC,OAAS,QAAQ,QAAQ,qMAAuB;AAQpE,MAAM,aAAa,CAAC;IACzB,wEAAwE;IACxE,0EAA0E;IAC1E,0EAA0E;IAC1E,gCAAgC;IAChC,MAAM,QAAQ,EAAE,IAAI,OAAO,SAAS;IACpC,OAAO,QAAQ,mMAAqB;AACtC;AAOO,MAAM,WAAW,CAAC,OAAS,IAAA,oLAAQ,EAAC,QAAQ;AAQ5C,MAAM,UAAU,CAAC,OAAS,QAAQ,QAAQ,4LAAc;AAOxD,MAAM,YAAY,CAAC,QAAU,UAAU,QAAQ,4LAAc;AAEpE;;CAEC,GACD,MAAM,UAAU,CAAC,OAAS,OAAO,mMAAqB;AAEtD;;;;CAIC,GACD,MAAM,YAAY,CAAC,QAAU,QAAQ,mMAAqB","ignoreList":[0]}},
    {"offset": {"line": 5386, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/piece/size/unpadded.js"],"sourcesContent":["import * as API from '../../api.js'\nimport {\n  PADDED_BYTES_PER_QUAD,\n  EXPANDED_BYTES_PER_QUAD,\n  LEAFS_PER_QUAD,\n} from '../../constant.js'\nimport { log2Ceil } from '../../uint64.js'\nimport * as Padded from './padded.js'\n\n/**\n * Takes the {@link API.Piece} sizing details (height and padding) and\n * calculates original payload size.\n *\n * @param {object} piece\n * @param {number} piece.height\n * @param {API.uint64} piece.padding\n */\nexport const fromPiece = ({ height, padding }) =>\n  Padded.fromHeight(height) - padding\n\n/**\n * Takes arbitrary payload size and calculates 0-padding required to\n * produce a {@link API.PaddedSize}.\n *\n * @param {API.uint64} size\n */\nexport const toPadding = (size) => toPadded(size) - size\n\n/**\n * Takes arbitrary payload size and calculates size after required 0-padding.\n *\n * @param {API.uint64} size\n * @returns {API.PaddedSize}\n */\nexport const toPadded = (size) => toQauds(size) * PADDED_BYTES_PER_QUAD\n\n/**\n * Takes arbitrary payload size and calculates the piece size after required\n * 0-padding and FR32 expansion is applied.\n *\n * @param {API.uint64} size\n * @returns {API.PieceSize}\n */\nexport const toExpanded = (size) => toQauds(size) * EXPANDED_BYTES_PER_QUAD\n\n/**\n * Takes arbitrary payload size and calculates width of the piece tree (leaf\n * count) that will be required to represent it.\n *\n * @param {API.uint64} size\n */\nexport const toWidth = (size) => toQauds(size) * LEAFS_PER_QUAD\n\n/**\n * Takes arbitrary payload size and calculates height of the piece tree that will be required to represent it.\n *\n * @param {API.uint64} size\n */\nexport const toHeight = (size) => log2Ceil(toWidth(size))\n\n/**\n * Takes arbitrary payload size and calculates number of quads that will be\n * required to represent it.\n *\n * @param {API.uint64} size\n */\nconst toQauds = (size) => {\n  // Number of quads required to fit given payload size.\n  // Since bigint division truncates we add another quads shy of 1 number of\n  // bytes to round up.\n  const quadCount = (size + PADDED_BYTES_PER_QUAD - 1n) / PADDED_BYTES_PER_QUAD\n  // Next we we log2 then pow2 with some rounding to ensure that result\n  // is 2 ^ n.\n  return 2n ** BigInt(log2Ceil(quadCount))\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAKA;AACA;;;;;AAUO,MAAM,YAAY,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,GAC3C,uMAAiB,CAAC,UAAU;AAQvB,MAAM,YAAY,CAAC,OAAS,SAAS,QAAQ;AAQ7C,MAAM,WAAW,CAAC,OAAS,QAAQ,QAAQ,mMAAqB;AAShE,MAAM,aAAa,CAAC,OAAS,QAAQ,QAAQ,qMAAuB;AAQpE,MAAM,UAAU,CAAC,OAAS,QAAQ,QAAQ,4LAAc;AAOxD,MAAM,WAAW,CAAC,OAAS,IAAA,oLAAQ,EAAC,QAAQ;AAEnD;;;;;CAKC,GACD,MAAM,UAAU,CAAC;IACf,sDAAsD;IACtD,0EAA0E;IAC1E,qBAAqB;IACrB,MAAM,YAAY,CAAC,OAAO,mMAAqB,GAAG,EAAE,IAAI,mMAAqB;IAC7E,qEAAqE;IACrE,YAAY;IACZ,OAAO,EAAE,IAAI,OAAO,IAAA,oLAAQ,EAAC;AAC/B","ignoreList":[0]}},
    {"offset": {"line": 5432, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/piece/size/expanded.js"],"sourcesContent":["import * as API from '../../api.js'\nimport {\n  EXPANDED_BYTES_PER_QUAD,\n  EXPANDED_BYTES_PER_NODE,\n} from '../../constant.js'\nimport { log2Ceil, onesCount64 } from '../../uint64.js'\n\nexport { toExpanded as fromPadded, fromExpanded as toPadded } from './padded.js'\nexport { toExpanded as fromUnpadded } from './unpadded.js'\n\n/**\n * Validates that given `size` is a valid {@link API.PieceSize} that is a\n * power of 2. Returns {@link API.Result} with `PaddedPieceSize` ok case and an\n * Error in the error case.\n *\n * @see https://github.com/filecoin-project/go-state-types/blob/ff2ed169ff566458f2acd8b135d62e8ca27e7d0c/abi/piece.go#L18-L29\n *\n * @param {number|API.uint64} input\n * @returns {API.Result<API.PieceSize, RangeError>}\n */\nexport const tryFrom = (input) => {\n  const size = BigInt(input)\n  if (size < EXPANDED_BYTES_PER_QUAD) {\n    return {\n      error: RangeError(\n        `Minimum piece size is ${EXPANDED_BYTES_PER_QUAD} bytes`\n      ),\n    }\n  }\n\n  if (onesCount64(size) !== 1) {\n    return { error: RangeError('Piece size must be a power of 2') }\n  }\n\n  return { ok: size }\n}\n\n/**\n * Validates that given `size` is a valid {@link API.PieceSize} and\n * returns {@link API.PieceSize} capturing the validation at the type\n * level. If given `size` is not a valid `PaddedPieceSize` throws an error.\n *\n * This function is a variation on {@link validate} that throws exceptions\n * instead of returning a {@link API.Result}.\n *\n * @param {number|API.uint64} size\n */\nexport const from = (size) => {\n  const result = tryFrom(size)\n  if (result.error) {\n    throw result.error\n  } else {\n    return result.ok\n  }\n}\n\n/**\n * Calculates the {@link API.PieceSize} for the given height of the piece tree.\n *\n * @param {number} height\n * @returns {API.PieceSize}\n */\nexport const fromHeight = (height) => fromWidth(2n ** BigInt(height))\n\n/**\n * Calculates the height of the piece tree from unpadded size.\n *\n * @param {API.PieceSize} size\n */\nexport const toHeight = (size) => log2Ceil(toWidth(size))\n\n/**\n * Takes piece tree width (leaf count) and returns corresponding\n * {@link API.PieceSize}.\n *\n * @param {API.uint64} width\n * @returns {API.PieceSize}\n */\nexport const fromWidth = (width) => width * EXPANDED_BYTES_PER_NODE\n\n/**\n * Takes `{@link API.PaddedPieceSize}` and returns corresponding\n * piece tree width (leaf count).\n *\n * @param {API.PieceSize} size\n */\nexport const toWidth = (size) => size / EXPANDED_BYTES_PER_NODE\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAIA;AAEA;AACA;;;;;;AAYO,MAAM,UAAU,CAAC;IACtB,MAAM,OAAO,OAAO;IACpB,IAAI,OAAO,qMAAuB,EAAE;QAClC,OAAO;YACL,OAAO,WACL,CAAC,sBAAsB,EAAE,qMAAuB,CAAC,MAAM,CAAC;QAE5D;IACF;IAEA,IAAI,IAAA,uLAAW,EAAC,UAAU,GAAG;QAC3B,OAAO;YAAE,OAAO,WAAW;QAAmC;IAChE;IAEA,OAAO;QAAE,IAAI;IAAK;AACpB;AAYO,MAAM,OAAO,CAAC;IACnB,MAAM,SAAS,QAAQ;IACvB,IAAI,OAAO,KAAK,EAAE;QAChB,MAAM,OAAO,KAAK;IACpB,OAAO;QACL,OAAO,OAAO,EAAE;IAClB;AACF;AAQO,MAAM,aAAa,CAAC,SAAW,UAAU,EAAE,IAAI,OAAO;AAOtD,MAAM,WAAW,CAAC,OAAS,IAAA,oLAAQ,EAAC,QAAQ;AAS5C,MAAM,YAAY,CAAC,QAAU,QAAQ,qMAAuB;AAQ5D,MAAM,UAAU,CAAC,OAAS,OAAO,qMAAuB","ignoreList":[0]}},
    {"offset": {"line": 5488, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/piece/size.js"],"sourcesContent":["export * as Unpadded from './size/unpadded.js'\nexport * as Padded from './size/padded.js'\nexport * as Expanded from './size/expanded.js'\nexport * from './size/expanded.js'\n"],"names":[],"mappings":";AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 5509, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/digest.js"],"sourcesContent":["import { varint } from 'multiformats'\nimport * as API from './api.js'\nimport {\n  IN_BYTES_PER_QUAD,\n  IN_BITS_FR,\n  OUT_BITS_FR,\n  MIN_PAYLOAD_SIZE,\n} from './constant.js'\nimport { SHA256 } from './ipld.js'\nimport { fromHeight as piceSizeFromHeight } from './piece/size/expanded.js'\n\n/**\n * @see https://github.com/multiformats/multicodec/pull/331/files\n */\nexport const name = /** @type {const} */ (\n  'fr32-sha2-256-trunc254-padded-binary-tree'\n)\n\n/**\n * @type {API.MulticodecCode<0x1011, typeof name>}\n * @see https://github.com/multiformats/multicodec/pull/331/files\n */\nexport const code = 0x1011\n\n/**\n * Varint is used to encode the tree height which is limited to 9 bytes.\n *\n * @see https://github.com/multiformats/unsigned-varint#practical-maximum-of-9-bytes-for-security\n */\nconst MAX_PADDING_SIZE = 9\n/**\n * One byte is used to store the tree height.\n */\nexport const HEIGHT_SIZE = 1\n\n/**\n * Amount of bytes used to store the tree root.\n */\nexport const ROOT_SIZE = SHA256.size\n\n/**\n * Size of the multihash digest in bytes.\n */\nexport const MAX_DIGEST_SIZE = MAX_PADDING_SIZE + HEIGHT_SIZE + SHA256.size\n\nexport const TAG_SIZE = varint.encodingLength(code)\n\n/**\n * Max size of the multihash in bytes\n */\nexport const MAX_SIZE =\n  TAG_SIZE + varint.encodingLength(MAX_DIGEST_SIZE) + MAX_DIGEST_SIZE\n\n/**\n * Since first byte in the digest is the tree height, the maximum height is 255.\n *\n * @type {255}\n */\nexport const MAX_HEIGHT = 255\n\n/**\n * Max payload is determined by the maximum height of the tree, which is limited\n * by the int we could store in one byte. We calculate the max piece size\n * and derive max payload size that can would produce it after FR32 padding.\n */\nexport const MAX_PAYLOAD_SIZE =\n  (piceSizeFromHeight(MAX_HEIGHT) * BigInt(IN_BITS_FR)) / BigInt(OUT_BITS_FR)\n\n/**\n * @param {API.Piece} piece\n * @returns {API.PieceDigest}\n */\nexport const fromPiece = ({ padding, height, root }) => {\n  const paddingLength = varint.encodingLength(Number(padding))\n  const size = paddingLength + HEIGHT_SIZE + ROOT_SIZE\n  const sizeLength = varint.encodingLength(size)\n\n  const multihashLength = TAG_SIZE + sizeLength + size\n\n  let offset = 0\n  const bytes = new Uint8Array(multihashLength)\n  varint.encodeTo(code, bytes, offset)\n  offset += TAG_SIZE\n\n  varint.encodeTo(size, bytes, offset)\n  offset += sizeLength\n\n  varint.encodeTo(Number(padding), bytes, offset)\n  offset += paddingLength\n\n  bytes[offset] = height\n  offset += HEIGHT_SIZE\n\n  bytes.set(root, offset)\n\n  return new Digest(bytes)\n}\n\n/**\n * @param {Uint8Array} bytes\n * @returns {API.PieceDigest}\n */\nexport const fromBytes = (bytes) => new Digest(bytes)\n\n/**\n * @param {object} input\n * @param {Uint8Array} input.digest\n */\nexport const toBytes = ({ digest }) => {\n  const SIZE_BYTE_LENGTH = varint.encodingLength(digest.length)\n\n  // number of bytes prefix will take up\n  const prefixByteLength = SIZE_BYTE_LENGTH + TAG_SIZE\n\n  // if digest is view within a buffer that has enough bytes in front to\n  // fit the prefix it may be already include a prefix in which case we\n  // will simply use a larger slice.\n  if (digest.byteOffset >= prefixByteLength) {\n    const bytes = new Uint8Array(\n      digest.buffer,\n      digest.byteOffset - prefixByteLength,\n      digest.byteOffset + digest.length\n    )\n\n    // if the prefix matches our bytes represent a multihash\n    const [tag, offset] = varint.decode(bytes)\n    if (tag === code && varint.decode(bytes, offset)[0] === digest.length) {\n      return bytes\n    }\n  }\n\n  const bytes = new Uint8Array(digest.length + prefixByteLength)\n  varint.encodeTo(code, bytes)\n  varint.encodeTo(digest.length, bytes, TAG_SIZE)\n  bytes.set(digest, prefixByteLength)\n\n  return bytes\n}\n\n/**\n * @param {object} input\n * @param {Uint8Array} input.digest\n */\nexport const height = ({ digest }) => {\n  const [, offset] = varint.decode(digest)\n  return digest[offset]\n}\n\n/**\n * @param {object} input\n * @param {Uint8Array} input.digest\n */\nexport const padding = ({ digest }) => {\n  const [padding] = varint.decode(digest)\n  return BigInt(padding)\n}\n\n/**\n * @param {object} input\n * @param {Uint8Array} input.digest\n */\nexport const root = ({ digest }) => {\n  const [, offset] = varint.decode(digest)\n  return digest.subarray(\n    offset + HEIGHT_SIZE,\n    offset + HEIGHT_SIZE + SHA256.size\n  )\n}\n\n/**\n * @implements {API.PieceDigest}\n */\nclass Digest {\n  /**\n   * @param {Uint8Array} bytes\n   */\n  constructor(bytes) {\n    this.bytes = bytes\n    const [tag] = varint.decode(bytes)\n    if (tag !== code) {\n      throw new RangeError(`Expected multihash with code ${code}`)\n    }\n\n    let offset = TAG_SIZE\n    const [size, length] = varint.decode(bytes, offset)\n    offset += length\n    const digest = bytes.subarray(offset)\n\n    if (digest.length !== size) {\n      throw new RangeError(\n        `Invalid multihash size expected ${offset + size} bytes, got ${\n          bytes.length\n        } bytes`\n      )\n    }\n\n    this.digest = digest\n  }\n  get name() {\n    return name\n  }\n  get code() {\n    return code\n  }\n  get size() {\n    return this.digest.length\n  }\n  get padding() {\n    return padding(this)\n  }\n  get height() {\n    return height(this)\n  }\n  get root() {\n    return root(this)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5662, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/data-segment/src/multihash.js"],"sourcesContent":["import * as API from './api.js'\nimport {\n  IN_BYTES_PER_QUAD,\n  IN_BITS_FR,\n  OUT_BITS_FR,\n  MIN_PAYLOAD_SIZE,\n} from './constant.js'\nimport * as ZeroPad from './zero-comm.js'\nimport { computeNode } from './proof.js'\nimport { split } from './piece/tree.js'\nimport { pad } from './fr32.js'\nimport { fromHeight as piceSizeFromHeight } from './piece/size/expanded.js'\nimport { Unpadded } from './piece/size.js'\nimport * as Digest from './digest.js'\nimport { varint } from 'multiformats'\n\nexport { Digest }\n\n/**\n * @see https://github.com/multiformats/multicodec/pull/331/files\n */\nexport const name = /** @type {const} */ (\n  'fr32-sha2-256-trunc254-padded-binary-tree'\n)\n\n/**\n * @type {API.MulticodecCode<0x1011, typeof name>}\n * @see https://github.com/multiformats/multicodec/pull/331/files\n */\nexport const code = 0x1011\n\n/**\n * Since first byte in the digest is the tree height, the maximum height is 255.\n *\n * @type {255}\n */\nexport const MAX_HEIGHT = 255\n\n/**\n * Max payload is determined by the maximum height of the tree, which is limited\n * by the int we could store in one byte. We calculate the max piece size\n * and derive max payload size that can would produce it after FR32 padding.\n */\nexport const MAX_PAYLOAD_SIZE =\n  (piceSizeFromHeight(MAX_HEIGHT) * BigInt(IN_BITS_FR)) / BigInt(OUT_BITS_FR)\n\n/**\n * Computes the digest of the given payload.\n *\n * @param {Uint8Array} payload\n * @returns {API.PieceDigest}\n */\nexport const digest = (payload) => {\n  const hasher = new Hasher()\n  hasher.write(payload)\n  return hasher.digest()\n}\n\n/**\n * Creates a streaming hasher that can be used to consumer larger streams\n * of data than it would be practical to load into memory all at once.\n *\n * @returns {API.StreamingHasher<typeof code, number, API.PieceDigest>}\n */\nexport const create = () => new Hasher()\n\n/**\n * @typedef {[API.MerkleTreeNode[], ...API.MerkleTreeNode[][]]} Layers\n *\n * @implements {API.StreamingHasher<typeof code, number, API.PieceDigest>}\n */\nclass Hasher {\n  constructor() {\n    /**\n     * The number of bytes consumed by the hasher.\n     *\n     * @private\n     */\n    this.bytesWritten = 0n\n\n    /**\n     * This buffer is used to accumulate bytes until we have enough to fill a\n     * quad.\n     *\n     * ⚠️ Note that you should never read bytes past {@link offset} as those\n     * are considered dirty and may contain garbage.\n     *\n     * @protected\n     */\n    this.buffer = new Uint8Array(IN_BYTES_PER_QUAD)\n\n    /**\n     * Offset is the number of bytes in we have written into the buffer. If\n     * offset is 0 it means that the buffer is effectively empty. When `offset`\n     * is equal to `this.buffer.length` we have a quad that can be processed.\n     *\n     * @protected\n     */\n    this.offset = 0\n\n    /**\n     * The layers of the tree. Each layer will contain either 0 or 1 nodes\n     * between writes. When we write into a hasher, if we have enough nodes\n     * leaves will be created and pushed into the `layers[0]` array, after\n     * which we flush and combine every two leafs into a node which is moved\n     * to the next layer. This process is repeated until we reach the top\n     * layer, leaving each layer either empty or with a single node.\n     *\n     * @type {Layers}\n     */\n    this.layers = [[]]\n  }\n\n  /**\n   * Return the total number of bytes written into the hasher. Calling\n   * {@link reset} will reset the hasher and the count will be reset to 0.\n   *\n   * @returns {bigint}\n   */\n  count() {\n    return this.bytesWritten\n  }\n\n  /**\n   * Computes the digest of all the data that has been written into this hasher.\n   * This method does not have side-effects, meaning that you can continue\n   * writing and call this method again to compute digest of all the data\n   * written from the very beginning.\n   */\n  digest() {\n    const bytes = new Uint8Array(Digest.MAX_SIZE)\n    const count = this.digestInto(bytes, 0, true)\n    return Digest.fromBytes(bytes.subarray(0, count))\n  }\n\n  /**\n   * Computes the digest and writes into the given buffer. You can provide\n   * optional `byteOffset` to write digest at that offset in the buffer. By\n   * default the multihash prefix will be written into the buffer, but you can\n   * opt-out by passing `false` as the `asMultihash` argument.\n   *\n   * @param {Uint8Array} output\n   * @param {number} [byteOffset]\n   * @param {boolean} asMultihash\n   */\n  digestInto(output, byteOffset = 0, asMultihash = true) {\n    const { buffer, layers, offset, bytesWritten } = this\n\n    // We do not want to mutate the layers, so we create a shallow copy of it\n    // which we will use to compute the root.\n    let [leaves, ...nodes] = layers\n\n    // If we have some bytes in the buffer we fill rest with zeros and compute\n    // leaves from it. Note that it is safe to mutate the buffer here as bytes\n    // past `offset` are considered dirty and should not be read.\n    if (offset > 0 || bytesWritten === 0n) {\n      leaves = [...leaves, ...split(pad(buffer.fill(0, offset)))]\n    }\n\n    const tree = build([leaves, ...nodes])\n    const height = tree.length - 1\n    const [root] = tree[height]\n    const padding = Number(Unpadded.toPadding(this.bytesWritten))\n\n    const paddingLength = varint.encodingLength(\n      /** @type {number & bigint} */ (padding)\n    )\n\n    let endOffset = byteOffset\n    // Write the multihash prefix if requested\n    if (asMultihash) {\n      varint.encodeTo(code, output, endOffset)\n      endOffset += Digest.TAG_SIZE\n\n      const size = paddingLength + Digest.HEIGHT_SIZE + Digest.ROOT_SIZE\n      const sizeLength = varint.encodingLength(size)\n      varint.encodeTo(size, output, endOffset)\n      endOffset += sizeLength\n    }\n\n    varint.encodeTo(padding, output, endOffset)\n    endOffset += paddingLength\n\n    // Write the tree height as the first byte of the digest\n    output[endOffset] = height\n    endOffset += 1\n\n    // Write the root as the remaining 32 bytes of the digest\n    output.set(root, endOffset)\n    endOffset += root.length\n\n    // Return number of bytes written\n    return endOffset - byteOffset\n  }\n  /**\n   * @param {Uint8Array} bytes\n   */\n  write(bytes) {\n    const { buffer, offset, layers } = this\n    const leaves = layers[0]\n    const { length } = bytes\n    // If we got no bytes there is nothing to do here\n    if (length === 0) {\n      return this\n      /* c8 ignore next 5 */\n    } else if (this.bytesWritten + BigInt(length) > MAX_PAYLOAD_SIZE) {\n      throw new RangeError(\n        `Writing ${length} bytes exceeds max payload size of ${MAX_PAYLOAD_SIZE}`\n      )\n    }\n    // If we do not have enough bytes to form a quad, just add append new bytes\n    // to the buffer and return.\n    else if (offset + length < buffer.length) {\n      buffer.set(bytes, offset)\n      this.offset += length\n      this.bytesWritten += BigInt(length)\n      return this\n    }\n    // Otherwise we first fill the buffer to form a quad and create some leaves.\n    // Then we slice remaining bytes into quads sized chunks and create leaves\n    // from them. If we have some bytes left we copy them into the buffer and\n    // flush to combining node pairs and propagate them up the tree.\n    else {\n      // Number of bytes required to fill the quad buffer\n      const bytesRequired = buffer.length - offset\n      // copy required bytes into the buffer and turn them into leaves\n      // which we push into the leaf layer.\n      buffer.set(bytes.subarray(0, bytesRequired), offset)\n      leaves.push(...split(pad(buffer)))\n\n      // Now we slice remaining bytes into quads, create leaves from them\n      // and push them into the leaf layer.\n      let readOffset = bytesRequired\n      while (readOffset + IN_BYTES_PER_QUAD < length) {\n        const quad = bytes.subarray(readOffset, readOffset + IN_BYTES_PER_QUAD)\n        leaves.push(...split(pad(quad)))\n        readOffset += IN_BYTES_PER_QUAD\n      }\n\n      // Whatever byte were left are copied into the buffer and we update\n      // the offset to reflect that.\n      this.buffer.set(bytes.subarray(readOffset), 0)\n      this.offset = length - readOffset\n\n      // We also update the total number of bytes written.\n      this.bytesWritten += BigInt(length)\n\n      // Now prune the layers to propagate all the new leaves up the tree.\n      prune(this.layers)\n\n      return this\n    }\n  }\n\n  /**\n   * Resets this hasher to its initial state so it could be recycled as new\n   * instance.\n   */\n  reset() {\n    this.offset = 0\n    this.bytesWritten = 0n\n    this.layers.length = 1\n    this.layers[0].length = 0\n    return this\n  }\n\n  /* c8 ignore next 3 */\n  dispose() {\n    this.reset()\n  }\n  get code() {\n    return code\n  }\n  get name() {\n    return name\n  }\n}\n\n/**\n * Prunes layers by combining node pairs into nodes in the next layer and\n * removing them from the layer that they were in. After pruning each layer\n * will end up with at most one node. New layers may be created in the process\n * when nodes from the top layer are combined.\n *\n * @param {Layers} layers\n */\nconst prune = (layers) => flush(layers, false)\n\n/**\n * Flushes all the nodes in layers by combining node pairs into nodes in the\n * next layer. Layers with only one node are combined with zero padded nodes\n * (corresponding to the level of the layer). Unlike {@link prune} combined\n * nodes are not removed and layers are copied instead of been mutated.\n *\n * @param {Layers} layers\n */\nconst build = (layers) => flush([...layers], true)\n\n/**\n * @param {Layers} layers\n * @param {boolean} build\n * @returns {Layers}\n */\nconst flush = (layers, build) => {\n  // Note it is important that we do not mutate any of the layers otherwise\n  // writing more data into the hasher and computing the digest will produce\n  // wrong results.\n  let level = 0\n  // We will walk up the tree until we reach the top layer. However, we may end\n  // up with creating new layers in the process, so we will keep track of the\n  while (level < layers.length) {\n    let next = layers[level + 1]\n    const layer = layers[level]\n\n    // If we have the odd number of nodes and we have not reached the top\n    // layer, we push a zero padding node corresponding to the current level.\n    if (build && layer.length % 2 > 0 && next) {\n      layer.push(ZeroPad.fromLevel(level))\n    }\n\n    level += 1\n\n    // If we have 0 nodes in the current layer we just move to the next one.\n\n    // If we have a next layer and we are building  will combine nodes from the current layer\n    next = next ? (build ? [...next] : next) : []\n    let index = 0\n    // Note that we have checked that we have an even number of nodes so\n    // we will never end up with an extra node when consuming two at a time.\n    while (index + 1 < layer.length) {\n      const node = computeNode(layer[index], layer[index + 1])\n\n      // we proactively delete nodes in order to free up a memory used.\n      delete layer[index]\n      delete layer[index + 1]\n\n      next.push(node)\n      index += 2\n    }\n\n    if (next.length) {\n      layers[level] = next\n    }\n\n    // we remove nodes that we have combined from the current layer to reduce\n    // memory overhead and move to the next layer.\n    layer.splice(0, index)\n  }\n\n  return layers\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;;;;;;;;;;;;AAOO,MAAM,OACX;AAOK,MAAM,OAAO;AAOb,MAAM,aAAa;AAOnB,MAAM,mBACX,AAAC,IAAA,yNAAkB,EAAC,cAAc,OAAO,wLAAU,IAAK,OAAO,yLAAW;AAQrE,MAAM,SAAS,CAAC;IACrB,MAAM,SAAS,IAAI;IACnB,OAAO,KAAK,CAAC;IACb,OAAO,OAAO,MAAM;AACtB;AAQO,MAAM,SAAS,IAAM,IAAI;AAEhC;;;;CAIC,GACD,MAAM;IACJ,aAAc;QACZ;;;;KAIC,GACD,IAAI,CAAC,YAAY,GAAG,EAAE;QAEtB;;;;;;;;KAQC,GACD,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,+LAAiB;QAE9C;;;;;;KAMC,GACD,IAAI,CAAC,MAAM,GAAG;QAEd;;;;;;;;;KASC,GACD,IAAI,CAAC,MAAM,GAAG;YAAC,EAAE;SAAC;IACpB;IAEA;;;;;GAKC,GACD,QAAQ;QACN,OAAO,IAAI,CAAC,YAAY;IAC1B;IAEA;;;;;GAKC,GACD,SAAS;QACP,MAAM,QAAQ,IAAI,WAAW,oLAAe;QAC5C,MAAM,QAAQ,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG;QACxC,OAAO,qLAAgB,CAAC,MAAM,QAAQ,CAAC,GAAG;IAC5C;IAEA;;;;;;;;;GASC,GACD,WAAW,MAAM,EAAE,aAAa,CAAC,EAAE,cAAc,IAAI,EAAE;QACrD,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI;QAErD,yEAAyE;QACzE,yCAAyC;QACzC,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAG;QAEzB,0EAA0E;QAC1E,0EAA0E;QAC1E,6DAA6D;QAC7D,IAAI,SAAS,KAAK,iBAAiB,EAAE,EAAE;YACrC,SAAS;mBAAI;mBAAW,IAAA,wMAAK,EAAC,IAAA,6KAAG,EAAC,OAAO,IAAI,CAAC,GAAG;aAAU;QAC7D;QAEA,MAAM,OAAO,MAAM;YAAC;eAAW;SAAM;QACrC,MAAM,SAAS,KAAK,MAAM,GAAG;QAC7B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO;QAC3B,MAAM,UAAU,OAAO,2OAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY;QAE3D,MAAM,gBAAgB,4PAAM,CAAC,cAAc,CACT;QAGlC,IAAI,YAAY;QAChB,0CAA0C;QAC1C,IAAI,aAAa;YACf,4PAAM,CAAC,QAAQ,CAAC,MAAM,QAAQ;YAC9B,aAAa,oLAAe;YAE5B,MAAM,OAAO,gBAAgB,uLAAkB,GAAG,qLAAgB;YAClE,MAAM,aAAa,4PAAM,CAAC,cAAc,CAAC;YACzC,4PAAM,CAAC,QAAQ,CAAC,MAAM,QAAQ;YAC9B,aAAa;QACf;QAEA,4PAAM,CAAC,QAAQ,CAAC,SAAS,QAAQ;QACjC,aAAa;QAEb,wDAAwD;QACxD,MAAM,CAAC,UAAU,GAAG;QACpB,aAAa;QAEb,yDAAyD;QACzD,OAAO,GAAG,CAAC,MAAM;QACjB,aAAa,KAAK,MAAM;QAExB,iCAAiC;QACjC,OAAO,YAAY;IACrB;IACA;;GAEC,GACD,MAAM,KAAK,EAAE;QACX,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI;QACvC,MAAM,SAAS,MAAM,CAAC,EAAE;QACxB,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,iDAAiD;QACjD,IAAI,WAAW,GAAG;YAChB,OAAO,IAAI;QACX,oBAAoB,GACtB,OAAO,IAAI,IAAI,CAAC,YAAY,GAAG,OAAO,UAAU,kBAAkB;YAChE,MAAM,IAAI,WACR,CAAC,QAAQ,EAAE,OAAO,mCAAmC,EAAE,kBAAkB;QAE7E,OAGK,IAAI,SAAS,SAAS,OAAO,MAAM,EAAE;YACxC,OAAO,GAAG,CAAC,OAAO;YAClB,IAAI,CAAC,MAAM,IAAI;YACf,IAAI,CAAC,YAAY,IAAI,OAAO;YAC5B,OAAO,IAAI;QACb,OAKK;YACH,mDAAmD;YACnD,MAAM,gBAAgB,OAAO,MAAM,GAAG;YACtC,gEAAgE;YAChE,qCAAqC;YACrC,OAAO,GAAG,CAAC,MAAM,QAAQ,CAAC,GAAG,gBAAgB;YAC7C,OAAO,IAAI,IAAI,IAAA,wMAAK,EAAC,IAAA,6KAAG,EAAC;YAEzB,mEAAmE;YACnE,qCAAqC;YACrC,IAAI,aAAa;YACjB,MAAO,aAAa,+LAAiB,GAAG,OAAQ;gBAC9C,MAAM,OAAO,MAAM,QAAQ,CAAC,YAAY,aAAa,+LAAiB;gBACtE,OAAO,IAAI,IAAI,IAAA,wMAAK,EAAC,IAAA,6KAAG,EAAC;gBACzB,cAAc,+LAAiB;YACjC;YAEA,mEAAmE;YACnE,8BAA8B;YAC9B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,QAAQ,CAAC,aAAa;YAC5C,IAAI,CAAC,MAAM,GAAG,SAAS;YAEvB,oDAAoD;YACpD,IAAI,CAAC,YAAY,IAAI,OAAO;YAE5B,oEAAoE;YACpE,MAAM,IAAI,CAAC,MAAM;YAEjB,OAAO,IAAI;QACb;IACF;IAEA;;;GAGC,GACD,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,YAAY,GAAG,EAAE;QACtB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;QACrB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,GAAG;QACxB,OAAO,IAAI;IACb;IAEA,oBAAoB,GACpB,UAAU;QACR,IAAI,CAAC,KAAK;IACZ;IACA,IAAI,OAAO;QACT,OAAO;IACT;IACA,IAAI,OAAO;QACT,OAAO;IACT;AACF;AAEA;;;;;;;CAOC,GACD,MAAM,QAAQ,CAAC,SAAW,MAAM,QAAQ;AAExC;;;;;;;CAOC,GACD,MAAM,QAAQ,CAAC,SAAW,MAAM;WAAI;KAAO,EAAE;AAE7C;;;;CAIC,GACD,MAAM,QAAQ,CAAC,QAAQ;IACrB,yEAAyE;IACzE,0EAA0E;IAC1E,iBAAiB;IACjB,IAAI,QAAQ;IACZ,6EAA6E;IAC7E,2EAA2E;IAC3E,MAAO,QAAQ,OAAO,MAAM,CAAE;QAC5B,IAAI,OAAO,MAAM,CAAC,QAAQ,EAAE;QAC5B,MAAM,QAAQ,MAAM,CAAC,MAAM;QAE3B,qEAAqE;QACrE,yEAAyE;QACzE,IAAI,SAAS,MAAM,MAAM,GAAG,IAAI,KAAK,MAAM;YACzC,MAAM,IAAI,CAAC,2LAAiB,CAAC;QAC/B;QAEA,SAAS;QAET,wEAAwE;QAExE,yFAAyF;QACzF,OAAO,OAAQ,QAAQ;eAAI;SAAK,GAAG,OAAQ,EAAE;QAC7C,IAAI,QAAQ;QACZ,oEAAoE;QACpE,wEAAwE;QACxE,MAAO,QAAQ,IAAI,MAAM,MAAM,CAAE;YAC/B,MAAM,OAAO,IAAA,sLAAW,EAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,QAAQ,EAAE;YAEvD,iEAAiE;YACjE,OAAO,KAAK,CAAC,MAAM;YACnB,OAAO,KAAK,CAAC,QAAQ,EAAE;YAEvB,KAAK,IAAI,CAAC;YACV,SAAS;QACX;QAEA,IAAI,KAAK,MAAM,EAAE;YACf,MAAM,CAAC,MAAM,GAAG;QAClB;QAEA,yEAAyE;QACzE,8CAA8C;QAC9C,MAAM,MAAM,CAAC,GAAG;IAClB;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 5970, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/service.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/service.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/filecoin-client/src/service.js"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,GAAG,MAAM,oBAAoB,CAAA;;AAUlC,MAAM,QAAQ,GAAG;IACtB,UAAU,EAAE;QACV,GAAG,EAAE,IAAI,GAAG,CAAC,yBAAyB,CAAC;QACvC,SAAS,EAAE,GAAG,CAAC,2JAAK,CAAC,sBAAsB,CAAC;KAC7C;IACD,UAAU,EAAE;QACV,GAAG,EAAE,IAAI,GAAG,CAAC,iCAAiC,CAAC;QAC/C,SAAS,EAAE,GAAG,CAAC,2JAAK,CAAC,sBAAsB,CAAC;KAC7C;IACD,MAAM,EAAE;QACN,GAAG,EAAE,IAAI,GAAG,CAAC,6BAA6B,CAAC;QAC3C,SAAS,EAAE,GAAG,CAAC,2JAAK,CAAC,sBAAsB,CAAC;KAC7C;IACD,YAAY,EAAE;QACZ,GAAG,EAAE,IAAI,GAAG,CAAC,8BAA8B,CAAC;QAC5C,SAAS,EAAE,GAAG,CAAC,2JAAK,CAAC,sBAAsB,CAAC;KAC7C;CACF,CAAA"}},
    {"offset": {"line": 5998, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/storefront.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/storefront.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/filecoin-client/src/storefront.js"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6091, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/aggregator.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/aggregator.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/filecoin-client/src/aggregator.js"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAA;;;AACxC,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAA;AAC7C,OAAO,KAAK,UAAU,MAAM,gDAAgD,CAAA;AAC5E,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;;;;;AAQhC,MAAM,UAAU,OAAG,qKAAO,EAAC;IAChC,EAAE,EAAE,gMAAQ,CAAC,UAAU,CAAC,SAAS;IACjC,KAAK,EAAE,4LAAG,CAAC,QAAQ;IACnB,OAAO,EAAE,+LAAI,CAAC,IAAI,CAAC;QACjB,GAAG,EAAE,gMAAQ,CAAC,UAAU,CAAC,GAAG;QAC5B,MAAM,EAAE,MAAM;KACf,CAAC;CACH,CAAC,CAAA;AAqBK,KAAK,UAAU,UAAU,CAC9B,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAC5C,KAAK,EACL,KAAK,EACL,OAAO,GAAG,CAAA,CAAE;IAEZ,kBAAA,EAAoB,CACpB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU,CAAA;IAE7C,MAAM,UAAU,GAAG,UAAU,CAAC,wLAAU,CAAC,MAAM,CAAC;QAC9C,MAAM;QACN,kBAAA,EAAoB,CACpB,QAAQ,EAAE,QAAQ,IAAI,gMAAQ,CAAC,UAAU,CAAC,SAAS;QACnD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE;YACF,KAAK;YACL,KAAK;SACN;QACD,MAAM;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC,CAAA;IAEF,OAAO,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AACvC,CAAC;AAuBM,KAAK,UAAU,WAAW,CAC/B,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAC5C,KAAK,EACL,KAAK,EACL,OAAO,GAAG,CAAA,CAAE;IAEZ,kBAAA,EAAoB,CACpB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU,CAAA;IAE7C,MAAM,UAAU,GAAG,UAAU,CAAC,yLAAW,CAAC,MAAM,CAAC;QAC/C,MAAM;QACN,kBAAA,EAAoB,CACpB,QAAQ,EAAE,QAAQ,IAAI,gMAAQ,CAAC,UAAU,CAAC,SAAS;QACnD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE;YACF,KAAK;YACL,KAAK;SACN;QACD,MAAM;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC,CAAA;IAEF,OAAO,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AACvC,CAAC"}},
    {"offset": {"line": 6152, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/dealer.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/dealer.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/filecoin-client/src/dealer.js"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAA;;;AACxC,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAA;;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,cAAc,CAAA;AACnC,OAAO,KAAK,MAAM,MAAM,4CAA4C,CAAA;AACpE,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;;;;;;AAQhC,MAAM,UAAU,OAAG,qKAAO,EAAC;IAChC,EAAE,EAAE,gMAAQ,CAAC,MAAM,CAAC,SAAS;IAC7B,KAAK,EAAE,4LAAG,CAAC,QAAQ;IACnB,OAAO,EAAE,+LAAI,CAAC,IAAI,CAAC;QACjB,GAAG,EAAE,gMAAQ,CAAC,MAAM,CAAC,GAAG;QACxB,MAAM,EAAE,MAAM;KACf,CAAC;CACH,CAAC,CAAA;AAqBK,KAAK,UAAU,cAAc,CAClC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAC5C,SAAS,EACT,MAAM,EACN,OAAO,GAAG,CAAA,CAAE;IAEZ,kBAAA,EAAoB,CACpB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU,CAAA;IAE7C,MAAM,KAAK,GAAG,MAAM,0LAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;IACtC,MAAM,UAAU,GAAG,MAAM,CAAC,4LAAc,CAAC,MAAM,CAAC;QAC9C,MAAM;QACN,kBAAA,EAAoB,CACpB,QAAQ,EAAE,QAAQ,IAAI,gMAAQ,CAAC,UAAU,CAAC,SAAS;QACnD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE;YACF,SAAS;YACT,MAAM,EAAE,KAAK,CAAC,GAAG;SAClB;QACD,MAAM;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC,CAAA;IACF,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;IAExB,OAAO,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AACvC,CAAC;AAuBM,KAAK,UAAU,eAAe,CACnC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAC5C,SAAS,EACT,MAAM,EACN,OAAO,GAAG,CAAA,CAAE;IAEZ,kBAAA,EAAoB,CACpB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU,CAAA;IAC7C,MAAM,UAAU,GAAG,MAAM,CAAC,6LAAe,CAAC,MAAM,CAAC;QAC/C,MAAM;QACN,kBAAA,EAAoB,CACpB,QAAQ,EAAE,QAAQ,IAAI,gMAAQ,CAAC,UAAU,CAAC,SAAS;QACnD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE;YACF,SAAS;YACT,MAAM;SACP;QACD,MAAM;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC,CAAA;IAEF,OAAO,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AACvC,CAAC"}},
    {"offset": {"line": 6218, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/deal-tracker.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/deal-tracker.js"],"sourcesContent":["unable to read source [project]/node_modules/@web3-storage/filecoin-client/src/deal-tracker.js"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAA;;;AACxC,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAA;AAC7C,OAAO,KAAK,WAAW,MAAM,kDAAkD,CAAA;AAC/E,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;;;;;AAQhC,MAAM,UAAU,OAAG,qKAAO,EAAC;IAChC,EAAE,EAAE,gMAAQ,CAAC,YAAY,CAAC,SAAS;IACnC,KAAK,EAAE,4LAAG,CAAC,QAAQ;IACnB,OAAO,EAAE,+LAAI,CAAC,IAAI,CAAC;QACjB,GAAG,EAAE,gMAAQ,CAAC,YAAY,CAAC,GAAG;QAC9B,MAAM,EAAE,MAAM;KACf,CAAC;CACH,CAAC,CAAA;AAkBK,KAAK,UAAU,QAAQ,CAC5B,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAC5C,KAAK,EACL,OAAO,GAAG,CAAA,CAAE;IAEZ,kBAAA,EAAoB,CACpB,MAAM,IAAI,GAAG,OAAO,CAAC,UAAU,IAAI,UAAU,CAAA;IAE7C,MAAM,UAAU,GAAG,WAAW,CAAC,0LAAQ,CAAC,MAAM,CAAC;QAC7C,MAAM;QACN,kBAAA,EAAoB,CACpB,QAAQ,EAAE,QAAQ,IAAI,gMAAQ,CAAC,YAAY,CAAC,SAAS;QACrD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE;YACF,KAAK;SACN;QACD,MAAM;KACP,CAAC,CAAA;IAEF,OAAO,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AACvC,CAAC"}},
    {"offset": {"line": 6260, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/filecoin-client/dist/src/index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/filecoin-client/src/index.js"],"sourcesContent":["export * as Storefront from './storefront.js'\nexport * as Aggregator from './aggregator.js'\nexport * as Dealer from './dealer.js'\nexport * as DealTracker from './deal-tracker.js'\n"],"names":[],"mappings":";AAAA,OAAO,KAAK,UAAU,MAAM,iBAAiB,CAAA;AAC7C,OAAO,KAAK,UAAU,MAAM,iBAAiB,CAAA;AAC7C,OAAO,KAAK,MAAM,MAAM,aAAa,CAAA;AACrC,OAAO,KAAK,WAAW,MAAM,mBAAmB,CAAA"}},
    {"offset": {"line": 6282, "column": 0}, "map": {"version":3,"sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/upload-client/node_modules/p-retry/index.js"],"sourcesContent":["import retry from 'retry';\nimport isNetworkError from 'is-network-error';\n\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\n\t\tif (message instanceof Error) {\n\t\t\tthis.originalError = message;\n\t\t\t({message} = message);\n\t\t} else {\n\t\t\tthis.originalError = new Error(message);\n\t\t\tthis.originalError.stack = this.stack;\n\t\t}\n\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\nconst decorateErrorWithCounts = (error, attemptNumber, options) => {\n\t// Minus 1 from attemptNumber because the first attempt does not count as a retry\n\tconst retriesLeft = options.retries - (attemptNumber - 1);\n\n\terror.attemptNumber = attemptNumber;\n\terror.retriesLeft = retriesLeft;\n\treturn error;\n};\n\nexport default async function pRetry(input, options) {\n\treturn new Promise((resolve, reject) => {\n\t\toptions = {...options};\n\t\toptions.onFailedAttempt ??= () => {};\n\t\toptions.shouldRetry ??= () => true;\n\t\toptions.retries ??= 10;\n\n\t\tconst operation = retry.operation(options);\n\n\t\tconst abortHandler = () => {\n\t\t\toperation.stop();\n\t\t\treject(options.signal?.reason);\n\t\t};\n\n\t\tif (options.signal && !options.signal.aborted) {\n\t\t\toptions.signal.addEventListener('abort', abortHandler, {once: true});\n\t\t}\n\n\t\tconst cleanUp = () => {\n\t\t\toptions.signal?.removeEventListener('abort', abortHandler);\n\t\t\toperation.stop();\n\t\t};\n\n\t\toperation.attempt(async attemptNumber => {\n\t\t\ttry {\n\t\t\t\tconst result = await input(attemptNumber);\n\t\t\t\tcleanUp();\n\t\t\t\tresolve(result);\n\t\t\t} catch (error) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!(error instanceof Error)) {\n\t\t\t\t\t\tthrow new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error instanceof AbortError) {\n\t\t\t\t\t\tthrow error.originalError;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error instanceof TypeError && !isNetworkError(error)) {\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\t}\n\n\t\t\t\t\tdecorateErrorWithCounts(error, attemptNumber, options);\n\n\t\t\t\t\tif (!(await options.shouldRetry(error))) {\n\t\t\t\t\t\toperation.stop();\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\n\t\t\t\t\tawait options.onFailedAttempt(error);\n\n\t\t\t\t\tif (!operation.retry(error)) {\n\t\t\t\t\t\tthrow operation.mainError();\n\t\t\t\t\t}\n\t\t\t\t} catch (finalError) {\n\t\t\t\t\tdecorateErrorWithCounts(finalError, attemptNumber, options);\n\t\t\t\t\tcleanUp();\n\t\t\t\t\treject(finalError);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,mBAAmB;IAC/B,YAAY,OAAO,CAAE;QACpB,KAAK;QAEL,IAAI,mBAAmB,OAAO;YAC7B,IAAI,CAAC,aAAa,GAAG;YACrB,CAAC,EAAC,OAAO,EAAC,GAAG,OAAO;QACrB,OAAO;YACN,IAAI,CAAC,aAAa,GAAG,IAAI,MAAM;YAC/B,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;QACtC;QAEA,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG;IAChB;AACD;AAEA,MAAM,0BAA0B,CAAC,OAAO,eAAe;IACtD,iFAAiF;IACjF,MAAM,cAAc,QAAQ,OAAO,GAAG,CAAC,gBAAgB,CAAC;IAExD,MAAM,aAAa,GAAG;IACtB,MAAM,WAAW,GAAG;IACpB,OAAO;AACR;AAEe,eAAe,OAAO,KAAK,EAAE,OAAO;IAClD,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC5B,UAAU;YAAC,GAAG,OAAO;QAAA;QACrB,QAAQ,eAAe,KAAK,KAAO;QACnC,QAAQ,WAAW,KAAK,IAAM;QAC9B,QAAQ,OAAO,KAAK;QAEpB,MAAM,YAAY,4IAAK,CAAC,SAAS,CAAC;QAElC,MAAM,eAAe;YACpB,UAAU,IAAI;YACd,OAAO,QAAQ,MAAM,EAAE;QACxB;QAEA,IAAI,QAAQ,MAAM,IAAI,CAAC,QAAQ,MAAM,CAAC,OAAO,EAAE;YAC9C,QAAQ,MAAM,CAAC,gBAAgB,CAAC,SAAS,cAAc;gBAAC,MAAM;YAAI;QACnE;QAEA,MAAM,UAAU;YACf,QAAQ,MAAM,EAAE,oBAAoB,SAAS;YAC7C,UAAU,IAAI;QACf;QAEA,UAAU,OAAO,CAAC,OAAM;YACvB,IAAI;gBACH,MAAM,SAAS,MAAM,MAAM;gBAC3B;gBACA,QAAQ;YACT,EAAE,OAAO,OAAO;gBACf,IAAI;oBACH,IAAI,CAAC,CAAC,iBAAiB,KAAK,GAAG;wBAC9B,MAAM,IAAI,UAAU,CAAC,uBAAuB,EAAE,MAAM,gCAAgC,CAAC;oBACtF;oBAEA,IAAI,iBAAiB,YAAY;wBAChC,MAAM,MAAM,aAAa;oBAC1B;oBAEA,IAAI,iBAAiB,aAAa,CAAC,IAAA,6JAAc,EAAC,QAAQ;wBACzD,MAAM;oBACP;oBAEA,wBAAwB,OAAO,eAAe;oBAE9C,IAAI,CAAE,MAAM,QAAQ,WAAW,CAAC,QAAS;wBACxC,UAAU,IAAI;wBACd,OAAO;oBACR;oBAEA,MAAM,QAAQ,eAAe,CAAC;oBAE9B,IAAI,CAAC,UAAU,KAAK,CAAC,QAAQ;wBAC5B,MAAM,UAAU,SAAS;oBAC1B;gBACD,EAAE,OAAO,YAAY;oBACpB,wBAAwB,YAAY,eAAe;oBACnD;oBACA,OAAO;gBACR;YACD;QACD;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6373, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/dist/src/api.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/src/api.ts"],"sourcesContent":["import { Result, Failure } from '@ucanto/interface'\nimport { MultihashDigest, Link, UnknownLink } from 'multiformats'\n\nexport type { IPLDBlock } from '@ucanto/interface'\nexport type { UnknownFormat } from '@web3-storage/capabilities/types'\nexport type { Result, MultihashDigest, Link, UnknownLink }\n\nexport type ShardDigest = MultihashDigest\nexport type SliceDigest = MultihashDigest\nexport type Position = [offset: number, length: number]\n\n/**\n * A sharded DAG index.\n *\n * @see https://github.com/storacha/specs/blob/main/w3-index.md\n */\nexport interface ShardedDAGIndex {\n  /** DAG root CID that the index pertains to. */\n  content: UnknownLink\n  /** Index information for shards the DAG is split across. */\n  shards: Map<ShardDigest, Map<SliceDigest, Position>>\n}\n\nexport interface ShardedDAGIndexView extends ShardedDAGIndex {\n  /** Set the offset/length information for the slice a shard. */\n  setSlice(shard: ShardDigest, slice: SliceDigest, pos: Position): void\n  /** Encode the index to a CAR file. */\n  archive(): Promise<Result<Uint8Array>>\n}\n\nexport interface DecodeFailure extends Failure {\n  name: 'DecodeFailure'\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 6380, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/dist/src/digest-map.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/src/digest-map.js"],"sourcesContent":["import * as API from './api.js'\nimport { base58btc } from 'multiformats/bases/base58'\n\n/** @type {WeakMap<Uint8Array, string>} */\nconst cache = new WeakMap()\n\n/** @param {API.MultihashDigest} digest */\nconst toBase58String = (digest) => {\n  let str = cache.get(digest.bytes)\n  if (!str) {\n    str = base58btc.encode(digest.bytes)\n    cache.set(digest.bytes, str)\n  }\n  return str\n}\n\n/**\n * @template {API.MultihashDigest} Key\n * @template Value\n * @implements {Map<Key, Value>}\n */\nexport class DigestMap {\n  /** @type {Map<string, [Key, Value]>} */\n  #data\n\n  /**\n   * @param {Array<[Key, Value]>} [entries]\n   */\n  constructor(entries) {\n    this.#data = new Map()\n    for (const [k, v] of entries ?? []) {\n      this.set(k, v)\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'DigestMap'\n  }\n\n  clear() {\n    this.#data.clear()\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {boolean}\n   */\n  delete(key) {\n    const mhstr = toBase58String(key)\n    return this.#data.delete(mhstr)\n  }\n\n  /**\n   * @param {(value: Value, key: Key, map: Map<Key, Value>) => void} callbackfn\n   * @param {any} [thisArg]\n   */\n  forEach(callbackfn, thisArg) {\n    for (const [k, v] of this.#data.values()) {\n      callbackfn.call(thisArg, v, k, this)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Value|undefined}\n   */\n  get(key) {\n    const data = this.#data.get(toBase58String(key))\n    if (data) return data[1]\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {boolean}\n   */\n  has(key) {\n    return this.#data.has(toBase58String(key))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Value} value\n   */\n  set(key, value) {\n    this.#data.set(toBase58String(key), [key, value])\n    return this\n  }\n\n  /** @returns {number} */\n  get size() {\n    return this.#data.size\n  }\n\n  /** @returns */\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  /** @returns {IterableIterator<[Key, Value]>} */\n  *entries() {\n    yield* this.#data.values()\n  }\n\n  /** @returns {IterableIterator<Key>} */\n  *keys() {\n    for (const [k] of this.#data.values()) {\n      yield k\n    }\n  }\n\n  /** @returns {IterableIterator<Value>} */\n  *values() {\n    for (const [, v] of this.#data.values()) {\n      yield v\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAA;AAC/B,OAAO,EAAE,SAAS,EAAE,MAAM,2BAA2B,CAAA;;;AAErD,wCAAA,EAA0C,CAC1C,MAAM,KAAK,GAAG,IAAI,OAAO,EAAE,CAAA;AAE3B,wCAAA,EAA0C,CAC1C,MAAM,cAAc,GAAG,CAAC,MAAM,EAAE,EAAE;IAChC,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;IACjC,IAAI,CAAC,GAAG,EAAE;QACR,GAAG,GAAG,oOAAS,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QACpC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAA;KAC7B;IACD,OAAO,GAAG,CAAA;AACZ,CAAC,CAAA;AAOK,MAAO,SAAS;IACpB,sCAAA,EAAwC,EACxC,IAAK,CAAA;IAEL;;OAEG,CACH,YAAY,OAAO,CAAA;QACjB,IAAI,EAAC,IAAK,GAAG,IAAI,GAAG,EAAE,CAAA;QACtB,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,OAAO,IAAI,EAAE,CAAE;YAClC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;SACf;IACH,CAAC;IAED,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAA;QACtB,OAAO,WAAW,CAAA;IACpB,CAAC;IAED,KAAK,GAAA;QACH,IAAI,EAAC,IAAK,CAAC,KAAK,EAAE,CAAA;IACpB,CAAC;IAED;;;OAGG,CACH,MAAM,CAAC,GAAG,EAAA;QACR,MAAM,KAAK,GAAG,cAAc,CAAC,GAAG,CAAC,CAAA;QACjC,OAAO,IAAI,EAAC,IAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;IACjC,CAAC;IAED;;;OAGG,CACH,OAAO,CAAC,UAAU,EAAE,OAAO,EAAA;QACzB,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,EAAC,IAAK,CAAC,MAAM,EAAE,CAAE;YACxC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA;SACrC;IACH,CAAC;IAED;;;OAGG,CACH,GAAG,CAAC,GAAG,EAAA;QACL,MAAM,IAAI,GAAG,IAAI,EAAC,IAAK,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAA;QAChD,IAAI,IAAI,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,CAAA;IAC1B,CAAC;IAED;;;OAGG,CACH,GAAG,CAAC,GAAG,EAAA;QACL,OAAO,IAAI,EAAC,IAAK,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAA;IAC5C,CAAC;IAED;;;OAGG,CACH,GAAG,CAAC,GAAG,EAAE,KAAK,EAAA;QACZ,IAAI,EAAC,IAAK,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;YAAC,GAAG;YAAE,KAAK;SAAC,CAAC,CAAA;QACjD,OAAO,IAAI,CAAA;IACb,CAAC;IAED,sBAAA,EAAwB,CACxB,IAAI,IAAI,GAAA;QACN,OAAO,IAAI,EAAC,IAAK,CAAC,IAAI,CAAA;IACxB,CAAC;IAED,aAAA,EAAe,CACf,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAA;QACf,OAAO,IAAI,CAAC,OAAO,EAAE,CAAA;IACvB,CAAC;IAED,8CAAA,EAAgD,CAChD,CAAC,OAAO,GAAA;QACN,KAAK,CAAC,CAAC,IAAI,EAAC,IAAK,CAAC,MAAM,EAAE,CAAA;IAC5B,CAAC;IAED,qCAAA,EAAuC,CACvC,CAAC,IAAI,GAAA;QACH,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,EAAC,IAAK,CAAC,MAAM,EAAE,CAAE;YACrC,MAAM,CAAC,CAAA;SACR;IACH,CAAC;IAED,uCAAA,EAAyC,CACzC,CAAC,MAAM,GAAA;QACL,KAAK,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,EAAC,IAAK,CAAC,MAAM,EAAE,CAAE;YACvC,MAAM,CAAC,CAAA;SACR;IACH,CAAC;CACF"}},
    {"offset": {"line": 6475, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/dist/src/sharded-dag-index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/src/sharded-dag-index.js"],"sourcesContent":["import * as API from './api.js'\nimport { CAR, ok, error, Schema, Failure } from '@ucanto/core'\nimport { compare } from 'uint8arrays'\nimport * as dagCBOR from '@ipld/dag-cbor'\nimport * as Digest from 'multiformats/hashes/digest'\nimport * as Link from 'multiformats/link'\nimport { sha256 } from 'multiformats/hashes/sha2'\nimport { DigestMap } from './digest-map.js'\n\nexport const version = 'index/sharded/dag@0.1'\n\nexport const ShardedDAGIndexSchema = Schema.variant({\n  [version]: Schema.struct({\n    /** DAG root. */\n    content: Schema.link(),\n    /** Shards the DAG can be found in. */\n    shards: Schema.array(Schema.link()),\n  }),\n})\n\nexport const MultihashSchema = Schema.bytes()\n\nexport const BlobIndexSchema = Schema.tuple([\n  MultihashSchema,\n  Schema.array(\n    /** multihash bytes, offset, length. */\n    Schema.tuple([\n      MultihashSchema,\n      Schema.tuple([Schema.number(), Schema.number()]),\n    ])\n  ),\n])\n\n/**\n * @param {Uint8Array} archive\n * @returns {API.Result<API.ShardedDAGIndexView, API.DecodeFailure|API.UnknownFormat>}\n */\nexport const extract = (archive) => {\n  const { roots, blocks } = CAR.decode(archive)\n\n  if (!roots.length) {\n    return error(new UnknownFormat('missing root block'))\n  }\n\n  const { code } = roots[0].cid\n  if (code !== dagCBOR.code) {\n    return error(\n      new UnknownFormat(`unexpected root CID codec: 0x${code.toString(16)}`)\n    )\n  }\n\n  return view({ root: roots[0], blocks })\n}\n\n/**\n * @param {object} source\n * @param {API.IPLDBlock} source.root\n * @param {Map<string, API.IPLDBlock>} source.blocks\n * @returns {API.Result<API.ShardedDAGIndexView, API.DecodeFailure|API.UnknownFormat>}\n */\nexport const view = ({ root, blocks }) => {\n  const [version, dagIndexData] = ShardedDAGIndexSchema.match(\n    dagCBOR.decode(root.bytes)\n  )\n  switch (version) {\n    case version: {\n      const dagIndex = create(dagIndexData.content)\n      for (const shardLink of dagIndexData.shards) {\n        const shard = blocks.get(shardLink.toString())\n        if (!shard) {\n          return error(new DecodeFailure(`missing shard block: ${shardLink}`))\n        }\n\n        const blobIndexData = BlobIndexSchema.from(dagCBOR.decode(shard.bytes))\n        const blobIndex = new DigestMap()\n        for (const [digest, [offset, length]] of blobIndexData[1]) {\n          blobIndex.set(Digest.decode(digest), [offset, length])\n        }\n        dagIndex.shards.set(Digest.decode(blobIndexData[0]), blobIndex)\n      }\n      return ok(dagIndex)\n    }\n    default:\n      return error(new UnknownFormat(`unknown index version: ${version}`))\n  }\n}\n\n/** @implements {API.ShardedDAGIndexView} */\nclass ShardedDAGIndex {\n  #content\n  #shards\n\n  /** @param {API.UnknownLink} content */\n  constructor(content) {\n    this.#content = content\n    /** @type {DigestMap<API.ShardDigest, API.Position>} */\n    this.#shards = new DigestMap()\n  }\n\n  get content() {\n    return this.#content\n  }\n\n  get shards() {\n    return this.#shards\n  }\n\n  /**\n   * @param {API.ShardDigest} shard\n   * @param {API.SliceDigest} slice\n   * @param {API.Position} pos\n   */\n  setSlice(shard, slice, pos) {\n    let index = this.#shards.get(shard)\n    if (!index) {\n      index = new DigestMap()\n      this.#shards.set(shard, index)\n    }\n    index.set(slice, pos)\n  }\n\n  archive() {\n    return archive(this)\n  }\n}\n\nexport class UnknownFormat extends Failure {\n  #reason\n\n  /** @param {string} [reason] */\n  constructor(reason) {\n    super()\n    this.name = /** @type {const} */ ('UnknownFormat')\n    this.#reason = reason\n  }\n\n  describe() {\n    return this.#reason ?? 'unknown format'\n  }\n}\n\nexport class DecodeFailure extends Failure {\n  #reason\n\n  /** @param {string} [reason] */\n  constructor(reason) {\n    super()\n    this.name = /** @type {const} */ ('DecodeFailure')\n    this.#reason = reason\n  }\n\n  describe() {\n    return this.#reason ?? 'failed to decode'\n  }\n}\n\n/**\n * @param {API.UnknownLink} content\n * @returns {API.ShardedDAGIndexView}\n */\nexport const create = (content) => new ShardedDAGIndex(content)\n\n/**\n * @param {API.ShardedDAGIndex} model\n * @returns {Promise<API.Result<Uint8Array>>}\n */\nexport const archive = async (model) => {\n  const blocks = new Map()\n  const shards = [...model.shards.entries()].sort((a, b) =>\n    compare(a[0].digest, b[0].digest)\n  )\n  const index = {\n    content: model.content,\n    shards: /** @type {API.Link[]} */ ([]),\n  }\n  for (const s of shards) {\n    const slices = [...s[1].entries()]\n      .sort((a, b) => compare(a[0].digest, b[0].digest))\n      .map((e) => [e[0].bytes, e[1]])\n    const bytes = dagCBOR.encode([s[0].bytes, slices])\n    const digest = await sha256.digest(bytes)\n    const cid = Link.create(dagCBOR.code, digest)\n    blocks.set(cid.toString(), { cid, bytes })\n    index.shards.push(cid)\n  }\n  const bytes = dagCBOR.encode({ [version]: index })\n  const digest = await sha256.digest(bytes)\n  const cid = Link.create(dagCBOR.code, digest)\n  return ok(CAR.encode({ roots: [{ cid, bytes }], blocks }))\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6675, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/dist/src/util.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/src/util.js"],"sourcesContent":["import { CARReaderStream } from 'carstream'\nimport { sha256 } from 'multiformats/hashes/sha2'\nimport * as API from './api.js'\nimport { create } from './sharded-dag-index.js'\n\n/**\n * Create a sharded DAG index by indexing blocks in the passed CAR shards.\n *\n * @param {API.UnknownLink} content\n * @param {Uint8Array[]} shards\n * @returns {Promise<API.ShardedDAGIndexView>}\n */\nexport const fromShardArchives = async (content, shards) => {\n  const index = create(content)\n  for (const s of shards) {\n    const digest = await sha256.digest(s)\n\n    await new ReadableStream({\n      pull: (c) => {\n        c.enqueue(s)\n        c.close()\n      },\n    })\n      .pipeThrough(new CARReaderStream())\n      .pipeTo(\n        new WritableStream({\n          write({ cid, blockOffset, blockLength }) {\n            index.setSlice(digest, cid.multihash, [blockOffset, blockLength])\n          },\n        })\n      )\n  }\n  return index\n}\n\n/**\n * Indexes a sharded DAG\n *\n * @param {import('multiformats').Link} root\n * @param {import('@web3-storage/capabilities/types').CARLink[]} shards\n * @param {Array<Map<API.SliceDigest, API.Position>>} shardIndexes\n */\nexport async function indexShardedDAG(root, shards, shardIndexes) {\n  const index = create(root)\n  for (const [i, shard] of shards.entries()) {\n    const slices = shardIndexes[i]\n    index.shards.set(shard.multihash, slices)\n  }\n  return await index.archive()\n}\n"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,WAAW,CAAA;AAC3C,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAA;AACjD,OAAO,KAAK,GAAG,MAAM,UAAU,CAAA;AAC/B,OAAO,EAAE,MAAM,EAAE,MAAM,wBAAwB,CAAA;;;;;AASxC,MAAM,iBAAiB,GAAG,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;IACzD,MAAM,KAAK,OAAG,yMAAM,EAAC,OAAO,CAAC,CAAA;IAC7B,KAAK,MAAM,CAAC,IAAI,MAAM,CAAE;QACtB,MAAM,MAAM,GAAG,MAAM,2OAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;QAErC,MAAM,IAAI,cAAc,CAAC;YACvB,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE;gBACV,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;gBACZ,CAAC,CAAC,KAAK,EAAE,CAAA;YACX,CAAC;SACF,CAAC,CACC,WAAW,CAAC,IAAI,gKAAe,EAAE,CAAC,CAClC,MAAM,CACL,IAAI,cAAc,CAAC;YACjB,KAAK,EAAC,EAAE,GAAG,EAAE,WAAW,EAAE,WAAW,EAAE;gBACrC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,SAAS,EAAE;oBAAC,WAAW;oBAAE,WAAW;iBAAC,CAAC,CAAA;YACnE,CAAC;SACF,CAAC,CACH,CAAA;KACJ;IACD,OAAO,KAAK,CAAA;AACd,CAAC,CAAA;AASM,KAAK,UAAU,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,YAAY;IAC9D,MAAM,KAAK,OAAG,yMAAM,EAAC,IAAI,CAAC,CAAA;IAC1B,KAAK,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAE;QACzC,MAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAA;QAC9B,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAA;KAC1C;IACD,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAA;AAC9B,CAAC"}},
    {"offset": {"line": 6722, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@web3-storage/blob-index/dist/src/index.js","sources":["file:///home/driemworks/fangorn/website/node_modules/%40web3-storage/blob-index/src/index.js"],"sourcesContent":["export * as ShardedDAGIndex from './sharded-dag-index.js'\nexport * from './digest-map.js'\nexport { indexShardedDAG } from './util.js'\n"],"names":[],"mappings":";AAAA,OAAO,KAAK,eAAe,MAAM,wBAAwB,CAAA;AACzD,cAAc,iBAAiB,CAAA;AAC/B,OAAO,EAAE,eAAe,EAAE,MAAM,WAAW,CAAA"}}]
}