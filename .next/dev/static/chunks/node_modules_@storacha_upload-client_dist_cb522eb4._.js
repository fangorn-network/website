(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "connection",
    ()=>connection,
    "receiptsEndpoint",
    ()=>receiptsEndpoint,
    "servicePrincipal",
    ()=>servicePrincipal,
    "serviceURL",
    ()=>serviceURL
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$client$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/client/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$client$2f$src$2f$connection$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/client/src/connection.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/transport/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__CAR$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/transport/src/car.js [app-client] (ecmascript) <export * as CAR>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__HTTP$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/transport/src/http.js [app-client] (ecmascript) <export * as HTTP>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$ucan$2f$src$2f$did$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/dag-ucan/src/did.js [app-client] (ecmascript)");
;
;
;
const serviceURL = new URL('https://up.storacha.network');
const servicePrincipal = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$ucan$2f$src$2f$did$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parse"]('did:web:up.storacha.network');
const receiptsEndpoint = 'https://up.storacha.network/receipt/';
const connection = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$client$2f$src$2f$connection$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connect"])({
    id: servicePrincipal,
    codec: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__CAR$3e$__["CAR"].outbound,
    channel: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__HTTP$3e$__["HTTP"].open({
        url: serviceURL,
        method: 'POST'
    })
}); //# sourceMappingURL=service.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "REQUEST_RETRIES",
    ()=>REQUEST_RETRIES
]);
const REQUEST_RETRIES = 3; //# sourceMappingURL=constants.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/receipts.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ReceiptMissing",
    ()=>ReceiptMissing,
    "ReceiptNotFound",
    ()=>ReceiptNotFound,
    "get",
    ()=>get,
    "poll",
    ()=>poll
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/p-retry/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/transport/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__CAR$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/transport/src/car.js [app-client] (ecmascript) <export * as CAR>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$delegation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/delegation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$receipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Receipt$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/receipt.js [app-client] (ecmascript) <export * as Receipt>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class ReceiptNotFound extends Error {
    name = 'ReceiptNotFound';
    /**
     * @param {API.UnknownLink} taskCid
     */ constructor(taskCid){
        super();
        this.taskCid = taskCid;
    }
    /* c8 ignore start */ get reason() {
        return `receipt not found for task ${this.taskCid} in the indexed workflow`;
    }
}
class ReceiptMissing extends Error {
    name = 'ReceiptMissing';
    /**
     * @param {API.UnknownLink} taskCid
     */ constructor(taskCid){
        super();
        this.taskCid = taskCid;
    }
    /* c8 ignore start */ get reason() {
        return `receipt missing for task ${this.taskCid}`;
    }
}
async function poll(taskCid, options) {
    return await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
        const res = await get(taskCid, options);
        if (res.error) {
            // @ts-ignore
            if (res.error.name === 'ReceiptNotFound') {
                // throw an error that will cause `p-retry` to retry with
                throw res.error;
            } else {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbortError"](new Error(`failed to fetch receipt for task: ${taskCid}`, {
                    cause: res.error
                }));
            }
        }
        return res.ok;
    }, {
        signal: options?.signal,
        onFailedAttempt: console.warn,
        /* c8 ignore next */ retries: options?.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
    });
}
/**
 * Calculate a receipt endpoint from the URL of a channel, if it has one.
 *
 * @param {API.Channel<Record<string, any>>} channel
 */ function receiptEndpointFromChannel(channel) {
    if ('url' in channel && channel.url instanceof URL) {
        const url = channel.url;
        return new URL('/receipt/', url.toString());
    } else {
        return null;
    }
}
async function get(taskCid, options) {
    const channel = options?.connection?.channel;
    const endpoint = options?.endpoint ?? (channel && receiptEndpointFromChannel(channel)) ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["receiptsEndpoint"];
    // Fetch receipt from endpoint
    const url = new URL(taskCid.toString(), endpoint);
    const fetchReceipt = options?.fetch ?? globalThis.fetch.bind(globalThis);
    const workflowResponse = await fetchReceipt(url, {
        signal: options?.signal
    });
    /* c8 ignore start */ if (workflowResponse.status === 404) {
        return {
            error: new ReceiptNotFound(taskCid)
        };
    }
    /* c8 ignore stop */ // Get receipt from Message Archive
    const agentMessageBytes = new Uint8Array(await workflowResponse.arrayBuffer());
    // Decode message
    const agentMessage = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$transport$2f$src$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__CAR$3e$__["CAR"].request.decode({
        body: agentMessageBytes,
        headers: {}
    });
    // Get receipt from the potential multiple receipts in the message
    const receipt = agentMessage.receipts.get(`${taskCid}`);
    if (!receipt) {
        // This could be an agent message containing an invocation for ucan/conclude
        // that includes the receipt as an attached block, or it may contain a
        // receipt for ucan/conclude that includes the receipt as an attached block.
        const blocks = new Map();
        for (const b of agentMessage.iterateIPLDBlocks()){
            blocks.set(b.cid.toString(), b);
        }
        const invocations = [
            ...agentMessage.invocations
        ];
        for (const receipt of agentMessage.receipts.values()){
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$delegation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isDelegation"])(receipt.ran)) {
                invocations.push(receipt.ran);
            }
        }
        for (const inv of invocations){
            /* c8 ignore next */ if (inv.capabilities[0]?.can !== 'ucan/conclude') continue;
            const root = Object(inv.capabilities[0].nb).receipt;
            /* c8 ignore next 5 */ const receipt = root ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$receipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Receipt$3e$__["Receipt"].view({
                root,
                blocks
            }, null) : null;
            /* c8 ignore next */ if (!receipt) continue;
            /* c8 ignore next */ const ran = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$delegation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isDelegation"])(receipt.ran) ? receipt.ran.cid : receipt.ran;
            if (ran.toString() === taskCid.toString()) {
                return {
                    ok: receipt
                };
            }
        }
        return {
            error: new ReceiptMissing(taskCid)
        };
    }
    return {
        ok: receipt
    };
} //# sourceMappingURL=receipts.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/runtime.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/* c8 ignore next 3 */ __turbopack_context__.s([
    "isCloudflareWorkers",
    ()=>isCloudflareWorkers
]);
const isCloudflareWorkers = typeof navigator !== 'undefined' && navigator?.userAgent === 'Cloudflare-Workers'; //# sourceMappingURL=runtime.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/add.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "add",
    ()=>add,
    "createConcludeInvocation",
    ()=>createConcludeInvocation,
    "input",
    ()=>input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$principal$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/principal/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$principal$2f$src$2f$ed25519$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ed25519$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/principal/src/ed25519.js [app-client] (ecmascript) <export * as ed25519>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$ucan$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/ucan.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$delegation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Delegation$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/delegation.js [app-client] (ecmascript) <export * as Delegation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$receipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Receipt$3e$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/core/src/receipt.js [app-client] (ecmascript) <export * as Receipt>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/blob/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$web3$2e$storage$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/web3.storage/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/http.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/p-retry/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$receipts$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/receipts.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/runtime.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
/** @import * as API from '../types.js' */ /**
 * @param {string} url
 * @param {API.ProgressFn} handler
 */ function createUploadProgressHandler(url, handler) {
    /** @param {API.ProgressStatus} status */ const onUploadProgress = ({ total, loaded, lengthComputable })=>{
        return handler({
            total,
            loaded,
            lengthComputable,
            url
        });
    };
    return onUploadProgress;
}
// FIXME this code has been copied over from upload-api
/**
 * @param {API.Invocation} concludeFx
 */ function getConcludeReceipt(concludeFx) {
    const receiptBlocks = new Map();
    for (const block of concludeFx.iterateIPLDBlocks()){
        receiptBlocks.set(`${block.cid}`, block);
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$receipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Receipt$3e$__["Receipt"].view({
        // @ts-expect-error object of type unknown
        root: concludeFx.capabilities[0].nb.receipt,
        blocks: receiptBlocks
    });
}
// FIXME this code has been copied over from upload-api
/**
 * @param {API.Receipt} receipt
 */ function parseBlobAddReceiptNext(receipt) {
    // Get invocations next
    /**
     * @type {API.Invocation[]}
     */ // @ts-expect-error read only effect
    const forkInvocations = receipt.fx.fork;
    const allocateTask = forkInvocations.find((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["allocate"].can) ?? forkInvocations.find((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$web3$2e$storage$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["allocate"].can);
    const concludefxs = forkInvocations.filter((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$ucan$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conclude"].can);
    const putTask = forkInvocations.find((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["put"].can);
    const acceptTask = forkInvocations.find((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["accept"].can) ?? forkInvocations.find((fork)=>fork.capabilities[0].can === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$web3$2e$storage$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["accept"].can);
    /* c8 ignore next 3 */ if (!allocateTask || !concludefxs.length || !putTask || !acceptTask) {
        throw new Error('mandatory effects not received');
    }
    // Decode receipts available
    const nextReceipts = concludefxs.map((fx)=>getConcludeReceipt(fx));
    /** @type {API.Receipt<API.BlobAllocateSuccess, API.BlobAllocateFailure> | undefined} */ // @ts-expect-error types unknown for next
    const allocateReceipt = nextReceipts.find((receipt)=>receipt.ran.link().equals(allocateTask.cid));
    /** @type {API.Receipt<{}, API.Failure> | undefined} */ // @ts-expect-error types unknown for next
    const putReceipt = nextReceipts.find((receipt)=>receipt.ran.link().equals(putTask.cid));
    /** @type {API.Receipt<API.BlobAcceptSuccess, API.BlobAcceptFailure> | undefined} */ // @ts-expect-error types unknown for next
    const acceptReceipt = nextReceipts.find((receipt)=>receipt.ran.link().equals(acceptTask.cid));
    /* c8 ignore next 3 */ if (!allocateReceipt) {
        throw new Error('mandatory effects not received');
    }
    return {
        allocate: {
            task: allocateTask,
            receipt: allocateReceipt
        },
        put: {
            task: putTask,
            receipt: putReceipt
        },
        accept: {
            task: acceptTask,
            receipt: acceptReceipt
        }
    };
}
function createConcludeInvocation(id, serviceDid, receipt) {
    const receiptBlocks = [];
    const receiptCids = [];
    for (const block of receipt.iterateIPLDBlocks()){
        receiptBlocks.push(block);
        receiptCids.push(block.cid);
    }
    const concludeAllocatefx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$ucan$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conclude"].invoke({
        issuer: id,
        audience: serviceDid,
        with: id.toDIDKey(),
        nb: {
            receipt: receipt.link()
        },
        expiration: Infinity,
        facts: [
            {
                ...receiptCids
            }
        ]
    });
    for (const block of receiptBlocks){
        concludeAllocatefx.attach(block);
    }
    return concludeAllocatefx;
}
async function add({ issuer, with: resource, proofs, audience }, digest, data, options = {}) {
    /* c8 ignore next 2 */ const bytes = data instanceof Uint8Array ? data : new Uint8Array(await data.arrayBuffer());
    const size = bytes.length;
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
        return await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].invoke({
            issuer,
            /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
            with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
            nb: input(digest, size),
            proofs,
            nonce: options.nonce
        }).execute(conn);
    }, {
        onFailedAttempt: console.warn,
        retries: options.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
    });
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can} invocation`, {
            cause: result.out.error
        });
    }
    const nextTasks = parseBlobAddReceiptNext(result);
    const { receipt: allocateReceipt } = nextTasks.allocate;
    /* c8 ignore next 5 */ if (!allocateReceipt.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can} invocation`, {
            cause: allocateReceipt.out.error
        });
    }
    const { address } = allocateReceipt.out.ok;
    if (address) {
        const fetchWithUploadProgress = options.fetchWithUploadProgress || options.fetch || globalThis.fetch.bind(globalThis);
        let fetchDidCallUploadProgressCb = false;
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
            try {
                const res = await fetchWithUploadProgress(address.url, {
                    method: 'PUT',
                    ...!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isCloudflareWorkers"] && {
                        mode: 'cors'
                    },
                    body: bytes,
                    headers: address.headers,
                    signal: options.signal,
                    onUploadProgress: (status)=>{
                        fetchDidCallUploadProgressCb = true;
                        if (options.onUploadProgress) createUploadProgressHandler(address.url, options.onUploadProgress)(status);
                    },
                    // @ts-expect-error - this is needed by recent versions of node - see https://github.com/bluesky-social/atproto/pull/470 for more info
                    duplex: 'half'
                });
                // do not retry client errors
                if (res.status >= 400 && res.status < 500) {
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbortError"](`upload failed: ${res.status}`);
                }
                if (!res.ok) {
                    throw new Error(`upload failed: ${res.status}`);
                }
                await res.arrayBuffer();
            } catch (err) {
                if (options.signal?.aborted === true) {
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbortError"]('upload aborted');
                }
                throw err;
            }
        }, {
            retries: options.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
        });
        if (!fetchDidCallUploadProgressCb && options.onUploadProgress) {
            // the fetch implementation didn't support onUploadProgress
            const blob = new Blob([
                bytes
            ]);
            options.onUploadProgress({
                total: blob.size,
                loaded: blob.size,
                lengthComputable: false
            });
        }
    }
    // Invoke `conclude` with `http/put` receipt
    let { receipt: httpPutReceipt } = nextTasks.put;
    if (!httpPutReceipt?.out.ok) {
        const derivedSigner = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$principal$2f$src$2f$ed25519$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ed25519$3e$__["ed25519"].from(nextTasks.put.task.facts[0]['keys']);
        httpPutReceipt = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$receipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Receipt$3e$__["Receipt"].issue({
            issuer: derivedSigner,
            ran: nextTasks.put.task.cid,
            result: {
                ok: {}
            }
        });
        const httpPutConcludeInvocation = createConcludeInvocation(issuer, /* c8 ignore next */ audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"], httpPutReceipt);
        const ucanConclude = await httpPutConcludeInvocation.execute(conn);
        if (!ucanConclude.out.ok) {
            throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$ucan$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conclude"].can} for ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["put"].can} invocation`, {
                cause: ucanConclude.out.error
            });
        }
    }
    // Ensure the blob has been accepted
    let { receipt: acceptReceipt } = nextTasks.accept;
    if (!acceptReceipt || !acceptReceipt.out.ok) {
        acceptReceipt = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$receipts$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["poll"])(nextTasks.accept.task.link(), {
            ...options,
            /* c8 ignore next 3 */ endpoint: options.receiptsEndpoint ? new URL(options.receiptsEndpoint) : undefined,
            // The connection we have is for the upload service, which does not
            // actually implement blob/accept. However, it does provide receipts for
            // blob accept invocations it has made to storage nodes. Hence we type
            // assert that this connection is a connecton to a service that
            // implements blob/accept so that we can get a typed receipt back.
            connection: Object(conn)
        });
        /* c8 ignore next 5 */ if (acceptReceipt.out.error) {
            throw new Error(`${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["accept"].can} failure`, {
                cause: acceptReceipt.out.error
            });
        }
    }
    const blocks = new Map([
        ...acceptReceipt.iterateIPLDBlocks()
    ].map((block)=>[
            `${block.cid}`,
            block
        ]));
    const site = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$core$2f$src$2f$delegation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Delegation$3e$__["Delegation"].view({
        root: acceptReceipt.out.ok?.site,
        blocks
    });
    return {
        site
    };
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can;
const input = (digest, size)=>({
        blob: {
            digest: digest.bytes,
            size
        }
    }); //# sourceMappingURL=add.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/get.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "get",
    ()=>get,
    "input",
    ()=>input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function get({ issuer, with: resource, proofs, audience }, multihash, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        nb: input(multihash),
        proofs,
        nonce: options.nonce
    }).execute(conn);
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].can;
const input = (digest)=>({
        digest: digest.bytes
    }); //# sourceMappingURL=get.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/list.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "input",
    ()=>input,
    "list",
    ()=>list
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function list({ issuer, with: resource, proofs, audience }, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        proofs,
        nb: input(options.cursor, options.size),
        nonce: options.nonce
    }).execute(conn);
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].can;
const input = (cursor, size)=>({
        cursor,
        size
    }); //# sourceMappingURL=list.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/remove.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "input",
    ()=>input,
    "remove",
    ()=>remove
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function remove({ issuer, with: resource, proofs, audience }, multihash, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        nb: input(multihash),
        proofs,
        nonce: options.nonce
    }).execute(conn);
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].can;
const input = (digest)=>({
        digest: digest.bytes
    }); //# sourceMappingURL=remove.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/replicate.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "input",
    ()=>input,
    "replicate",
    ()=>replicate
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/blob.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function replicate({ issuer, with: resource, proofs, audience }, blob, site, replicas, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const receipt = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["replicate"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        nb: input(blob, site, replicas),
        proofs: [
            ...proofs,
            site
        ],
        nonce: options.nonce
    }).execute(conn);
    if (!receipt.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["replicate"].can} invocation`, {
            cause: receipt.out.error
        });
    }
    return receipt.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$blob$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["replicate"].can;
const input = (blob, site, replicas)=>({
        blob: {
            digest: blob.digest.bytes,
            size: blob.size
        },
        site: site.cid,
        replicas
    }); //# sourceMappingURL=replicate.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/get.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/list.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/remove.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$replicate$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/replicate.js [app-client] (ecmascript)"); //# sourceMappingURL=index.js.map
;
;
;
;
;
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "add",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"],
    "get",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"],
    "list",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["list"],
    "remove",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["remove"],
    "replicate",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$replicate$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["replicate"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/get.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/list.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/remove.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$replicate$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/replicate.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/index/add.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "add",
    ()=>add,
    "input",
    ()=>input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/space/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/p-retry/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)");
;
;
;
;
;
async function add({ issuer, with: resource, proofs, audience }, index, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
        return await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].invoke({
            issuer,
            /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
            with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
            nb: input(index),
            proofs
        }).execute(conn);
    }, {
        onFailedAttempt: console.warn,
        retries: options.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
    });
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$space$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can;
const input = (index)=>({
        index
    }); //# sourceMappingURL=add.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/add.js [app-client] (ecmascript)"); //# sourceMappingURL=index.js.map
;
}),
"[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "add",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/add.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/add.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "add",
    ()=>add,
    "input",
    ()=>input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/upload.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/p-retry/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)");
;
;
;
;
;
async function add({ issuer, with: resource, proofs, audience }, root, shards, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
        return await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].invoke({
            issuer,
            /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
            with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
            nb: input(root, shards),
            proofs,
            nonce: options.nonce
        }).execute(conn);
    }, {
        onFailedAttempt: console.warn,
        retries: options.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
    });
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["add"].can;
const input = (root, shards)=>({
        root,
        shards
    }); //# sourceMappingURL=add.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/get.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "get",
    ()=>get,
    "input",
    ()=>input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/upload.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/p-retry/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/constants.js [app-client] (ecmascript)");
;
;
;
;
;
async function get({ issuer, with: resource, proofs, audience }, root, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$p$2d$retry$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(async ()=>{
        return await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].invoke({
            issuer,
            /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
            with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
            nb: input(root),
            proofs,
            nonce: options.nonce
        }).execute(conn);
    }, {
        onFailedAttempt: console.warn,
        retries: options.retries ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["REQUEST_RETRIES"]
    });
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["get"].can;
const input = (root)=>({
        root
    }); //# sourceMappingURL=get.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/list.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "input",
    ()=>input,
    "list",
    ()=>list
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/upload.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function list({ issuer, with: resource, proofs, audience }, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        proofs,
        nb: input(options.cursor, options.size, options.pre),
        nonce: options.nonce
    }).execute(conn);
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["list"].can;
const input = (cursor, size, pre)=>({
        cursor,
        size,
        pre
    }); //# sourceMappingURL=list.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/remove.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ability",
    ()=>ability,
    "input",
    ()=>input,
    "remove",
    ()=>remove
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/upload.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/capabilities/dist/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
;
;
;
async function remove({ issuer, with: resource, proofs, audience }, root, options = {}) {
    /* c8 ignore next */ const conn = options.connection ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["connection"];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].invoke({
        issuer,
        /* c8 ignore next */ audience: audience ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["servicePrincipal"],
        with: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SpaceDID"].from(resource),
        nb: input(root),
        proofs,
        nonce: options.nonce
    }).execute(conn);
    if (!result.out.ok) {
        throw new Error(`failed ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].can} invocation`, {
            cause: result.out.error
        });
    }
    return result.out.ok;
}
const ability = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$capabilities$2f$dist$2f$upload$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["remove"].can;
const input = (root)=>({
        root
    }); //# sourceMappingURL=remove.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/get.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/list.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/remove.js [app-client] (ecmascript)"); //# sourceMappingURL=index.js.map
;
;
;
;
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "add",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"],
    "get",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"],
    "list",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["list"],
    "remove",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["remove"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/get.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$list$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/list.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$remove$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/remove.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/unixfs.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createDirectoryEncoderStream",
    ()=>createDirectoryEncoderStream,
    "createFileEncoderStream",
    ()=>createFileEncoderStream,
    "encodeDirectory",
    ()=>encodeDirectory,
    "encodeFile",
    ()=>encodeFile
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/lib.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/file.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createFileWriter$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/file.js [app-client] (ecmascript) <locals> <export create as createFileWriter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$directory$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createDirectoryWriter$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/directory.js [app-client] (ecmascript) <locals> <export create as createDirectoryWriter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$sharded$2d$directory$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createShardedDirectoryWriter$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/sharded-directory.js [app-client] (ecmascript) <locals> <export create as createShardedDirectoryWriter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/multiformats/dist/src/codecs/raw.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2f$chunker$2f$fixed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/file/chunker/fixed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2f$layout$2f$balanced$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/unixfs/src/file/layout/balanced.js [app-client] (ecmascript)");
;
;
;
;
const SHARD_THRESHOLD = 1000; // shard directory after > 1,000 items
const queuingStrategy = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["withCapacity"]();
const defaultSettings = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["configure"]({
    fileChunkEncoder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    smallFileEncoder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__,
    chunker: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2f$chunker$2f$fixed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["withMaxChunkSize"])(1024 * 1024),
    fileLayout: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2f$layout$2f$balanced$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["withWidth"])(1024)
});
async function encodeFile(blob, options) {
    const readable = createFileEncoderStream(blob, options);
    const blocks = await collect(readable);
    // @ts-expect-error There is always a root block
    return {
        cid: blocks.at(-1).cid,
        blocks
    };
}
function createFileEncoderStream(blob, options) {
    /** @type {TransformStream<import('@ipld/unixfs').Block, import('@ipld/unixfs').Block>} */ const { readable, writable } = new TransformStream({}, queuingStrategy);
    const settings = options?.settings ?? defaultSettings;
    const unixfsWriter = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["createWriter"]({
        writable,
        settings
    });
    const fileBuilder = new UnixFSFileBuilder('', blob);
    void (async ()=>{
        await fileBuilder.finalize(unixfsWriter);
        await unixfsWriter.close();
    })();
    return readable;
}
class UnixFSFileBuilder {
    #file;
    /**
     * @param {string} name
     * @param {import('./types.js').BlobLike} file
     */ constructor(name, file){
        this.name = name;
        this.#file = file;
    }
    /** @param {import('@ipld/unixfs').View} writer */ async finalize(writer) {
        const unixfsFileWriter = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$file$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createFileWriter$3e$__["createFileWriter"](writer);
        await this.#file.stream().pipeTo(new WritableStream({
            async write (chunk) {
                await unixfsFileWriter.write(chunk);
            }
        }));
        return await unixfsFileWriter.close();
    }
}
class UnixFSDirectoryBuilder {
    #options;
    /** @type {Map<string, UnixFSFileBuilder | UnixFSDirectoryBuilder>} */ entries = new Map();
    /**
     * @param {string} name
     * @param {import('./types.js').UnixFSDirectoryEncoderOptions} [options]
     */ constructor(name, options){
        this.name = name;
        this.#options = options;
    }
    /** @param {import('@ipld/unixfs').View} writer */ async finalize(writer) {
        const dirWriter = this.entries.size <= SHARD_THRESHOLD ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$directory$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createDirectoryWriter$3e$__["createDirectoryWriter"](writer) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$sharded$2d$directory$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__$3c$export__create__as__createShardedDirectoryWriter$3e$__["createShardedDirectoryWriter"](writer);
        for (const [name, entry] of this.entries){
            const link = await entry.finalize(writer);
            if (this.#options?.onDirectoryEntryLink) {
                // @ts-expect-error
                this.#options.onDirectoryEntryLink({
                    name: entry.name,
                    ...link
                });
            }
            dirWriter.set(name, link);
        }
        return await dirWriter.close();
    }
}
async function encodeDirectory(files, options) {
    const readable = createDirectoryEncoderStream(files, options);
    const blocks = await collect(readable);
    // @ts-expect-error There is always a root block
    return {
        cid: blocks.at(-1).cid,
        blocks
    };
}
function createDirectoryEncoderStream(files, options) {
    const rootDir = new UnixFSDirectoryBuilder('', options);
    for (const file of files){
        const path = file.name.split('/');
        if (path[0] === '' || path[0] === '.') {
            path.shift();
        }
        let dir = rootDir;
        for (const [i, name] of path.entries()){
            if (i === path.length - 1) {
                dir.entries.set(name, new UnixFSFileBuilder(path.join('/'), file));
                break;
            }
            let dirBuilder = dir.entries.get(name);
            if (dirBuilder == null) {
                const dirName = dir === rootDir ? name : `${dir.name}/${name}`;
                dirBuilder = new UnixFSDirectoryBuilder(dirName, options);
                dir.entries.set(name, dirBuilder);
            }
            if (!(dirBuilder instanceof UnixFSDirectoryBuilder)) {
                throw new Error(`"${file.name}" cannot be a file and a directory`);
            }
            dir = dirBuilder;
        }
    }
    /** @type {TransformStream<import('@ipld/unixfs').Block, import('@ipld/unixfs').Block>} */ const { readable, writable } = new TransformStream({}, queuingStrategy);
    const settings = options?.settings ?? defaultSettings;
    const unixfsWriter = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$unixfs$2f$src$2f$lib$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["createWriter"]({
        writable,
        settings
    });
    void (async ()=>{
        const link = await rootDir.finalize(unixfsWriter);
        if (options?.onDirectoryEntryLink) {
            options.onDirectoryEntryLink({
                name: '',
                ...link
            });
        }
        await unixfsWriter.close();
    })();
    return readable;
}
/**
 * @template T
 * @param {ReadableStream<T>} collectable
 * @returns {Promise<T[]>}
 */ async function collect(collectable) {
    /** @type {T[]} */ const chunks = [];
    await collectable.pipeTo(new WritableStream({
        write (chunk) {
            chunks.push(chunk);
        }
    }));
    return chunks;
} //# sourceMappingURL=unixfs.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/car.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BlockStream",
    ()=>BlockStream,
    "blockEncodingLength",
    ()=>blockEncodingLength,
    "blockHeaderEncodingLength",
    ()=>blockHeaderEncodingLength,
    "code",
    ()=>code,
    "decode",
    ()=>decode,
    "encode",
    ()=>encode,
    "headerEncodingLength",
    ()=>headerEncodingLength
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$car$2f$src$2f$index$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@ipld/car/src/index-browser.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$car$2f$src$2f$iterator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/car/src/iterator.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$car$2f$src$2f$writer$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/car/src/writer-browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$cbor$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/dag-cbor/src/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$varint$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/varint/index.js [app-client] (ecmascript)");
;
;
;
const code = 0x0202;
/** Byte length of a CBOR encoded CAR header with zero roots. */ const NO_ROOTS_HEADER_LENGTH = 18;
function headerEncodingLength(root) {
    if (!root) return NO_ROOTS_HEADER_LENGTH;
    const headerLength = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$cbor$2f$src$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encode"]({
        version: 1,
        roots: [
            root
        ]
    }).length;
    const varintLength = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$varint$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].encodingLength(headerLength);
    return varintLength + headerLength;
}
function blockHeaderEncodingLength(block) {
    const payloadLength = block.cid.bytes.length + block.bytes.length;
    const varintLength = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$varint$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].encodingLength(payloadLength);
    return varintLength + block.cid.bytes.length;
}
function blockEncodingLength(block) {
    return blockHeaderEncodingLength(block) + block.bytes.length;
}
async function encode(blocks, root) {
    // @ts-expect-error
    const { writer, out } = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$car$2f$src$2f$writer$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CarWriter"].create(root);
    /** @type {Error?} */ let error;
    void (async ()=>{
        try {
            for await (const block of blocks){
                await writer.put(block);
            }
        } catch (/** @type {any} */ err) {
            error = err;
        } finally{
            await writer.close();
        }
    })();
    const chunks = [];
    for await (const chunk of out)chunks.push(chunk);
    // @ts-expect-error
    if (error != null) throw error;
    const roots = root != null ? [
        root
    ] : [];
    return Object.assign(new Blob(chunks), {
        version: 1,
        roots
    });
}
async function decode(car) {
    const stream = new BlockStream(car);
    const blocks = [];
    await stream.pipeTo(new WritableStream({
        write: (block)=>{
            blocks.push(block);
        }
    }));
    const roots = await stream.getRoots();
    return {
        blocks,
        roots
    };
}
class BlockStream extends ReadableStream {
    /** @param {import('./types.js').BlobLike} car */ constructor(car){
        /** @type {Promise<CarBlockIterator>?} */ let blocksPromise = null;
        const getBlocksIterable = ()=>{
            if (blocksPromise) return blocksPromise;
            blocksPromise = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$car$2f$src$2f$iterator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CarBlockIterator"].fromIterable(toIterable(car.stream()));
            return blocksPromise;
        };
        /** @type {AsyncIterator<Block>?} */ let iterator = null;
        super({
            async start () {
                const blocks = await getBlocksIterable();
                iterator = blocks[Symbol.asyncIterator]();
            },
            async pull (controller) {
                /* c8 ignore next */ if (!iterator) throw new Error('missing blocks iterator');
                const { value, done } = await iterator.next();
                if (done) return controller.close();
                controller.enqueue(value);
            }
        });
        /** @returns {Promise<import('./types.js').AnyLink[]>} */ this.getRoots = async ()=>{
            const blocks = await getBlocksIterable();
            return await blocks.getRoots();
        };
    }
}
/* c8 ignore start */ /**
 * {@link ReadableStream} is an async iterable in newer environments, but it's
 * not standard yet. This function normalizes a {@link ReadableStream} to a
 * definite async iterable.
 *
 * @template T
 * @param {ReadableStream<T> | AsyncIterable<T>} stream
 * @returns {AsyncIterable<T>} An async iterable of the contents of the
 *                             {@link stream} (possibly {@link stream} itself).
 */ function toIterable(stream) {
    return Symbol.asyncIterator in stream ? stream : async function*() {
        const reader = stream.getReader();
        try {
            while(true){
                const { done, value } = await reader.read();
                if (done) return;
                yield value;
            }
        } finally{
            reader.releaseLock();
        }
    }();
} /* c8 ignore end */  //# sourceMappingURL=car.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/deduplication.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/** @import { Block } from '@ipld/unixfs' */ /** @extends {TransformStream<Block, Block>} */ __turbopack_context__.s([
    "BlockDeduplicationStream",
    ()=>BlockDeduplicationStream,
    "dedupe",
    ()=>dedupe
]);
class BlockDeduplicationStream extends TransformStream {
    constructor(){
        /** @type {Set<string>} */ const seen = new Set();
        super({
            transform (block, controller) {
                const key = block.cid.toString();
                if (seen.has(key)) return;
                seen.add(key);
                controller.enqueue(block);
            },
            flush () {
                seen.clear();
            }
        });
    }
}
const dedupe = function*(blocks) {
    /** @type {Set<string>} */ const seen = new Set();
    for (const b of blocks){
        const key = b.cid.toString();
        if (seen.has(key)) continue;
        seen.add(key);
        yield b;
    }
}; //# sourceMappingURL=deduplication.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/sharding.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SHARD_SIZE",
    ()=>SHARD_SIZE,
    "ShardingStream",
    ()=>ShardingStream,
    "defaultFileComparator",
    ()=>defaultFileComparator
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/blob-index/dist/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$digest$2d$map$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/blob-index/dist/digest-map.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/car.js [app-client] (ecmascript)");
;
;
const SHARD_SIZE = 133_169_152;
class ShardingStream extends TransformStream {
    /**
     * @param {import('./types.js').ShardingOptions} [options]
     */ constructor(options = {}){
        const shardSize = options.shardSize ?? SHARD_SIZE;
        const maxBlockLength = shardSize - (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["headerEncodingLength"])();
        /** @type {import('@ipld/unixfs').Block[]} */ let blocks = [];
        /** @type {import('@ipld/unixfs').Block[] | null} */ let readyBlocks = null;
        /** @type {Map<import('./types.js').SliceDigest, import('./types.js').Position>} */ let slices = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$digest$2d$map$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DigestMap"]();
        /** @type {Map<import('./types.js').SliceDigest, import('./types.js').Position> | null} */ let readySlices = null;
        let currentLength = 0;
        super({
            async transform (block, controller) {
                if (readyBlocks != null && readySlices != null) {
                    controller.enqueue(await encodeCAR(readyBlocks, readySlices));
                    readyBlocks = null;
                    readySlices = null;
                }
                const blockHeaderLength = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["blockHeaderEncodingLength"])(block);
                const blockLength = blockHeaderLength + block.bytes.length;
                if (blockLength > maxBlockLength) {
                    throw new Error(`block will cause CAR to exceed shard size: ${block.cid}`);
                }
                if (blocks.length && currentLength + blockLength > maxBlockLength) {
                    readyBlocks = blocks;
                    readySlices = slices;
                    blocks = [];
                    slices = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$digest$2d$map$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DigestMap"]();
                    currentLength = 0;
                }
                blocks.push(block);
                slices.set(block.cid.multihash, [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["headerEncodingLength"])() + currentLength + blockHeaderLength,
                    block.bytes.length
                ]);
                currentLength += blockLength;
            },
            async flush (controller) {
                if (readyBlocks != null && readySlices != null) {
                    controller.enqueue(await encodeCAR(readyBlocks, readySlices));
                }
                const rootBlock = blocks.at(-1);
                if (rootBlock == null) return;
                const rootCID = options.rootCID ?? rootBlock.cid;
                const headerLength = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["headerEncodingLength"])(rootCID);
                // if adding CAR root overflows the shard limit we move overflowing
                // blocks into another CAR.
                if (headerLength + currentLength > shardSize) {
                    const overage = headerLength + currentLength - shardSize;
                    const overflowBlocks = [];
                    let overflowCurrentLength = 0;
                    while(overflowCurrentLength < overage){
                        const block = blocks[blocks.length - 1];
                        blocks.pop();
                        slices.delete(block.cid.multihash);
                        overflowBlocks.unshift(block);
                        overflowCurrentLength += (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["blockEncodingLength"])(block);
                        // need at least 1 block in original shard
                        if (blocks.length < 1) throw new Error(`block will cause CAR to exceed shard size: ${block.cid}`);
                    }
                    controller.enqueue(await encodeCAR(blocks, slices));
                    // Finally, re-calc block positions from blocks we moved out of the
                    // CAR that was too big.
                    overflowCurrentLength = 0;
                    /** @type {Map<import('./types.js').SliceDigest, import('./types.js').Position>} */ const overflowSlices = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$digest$2d$map$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DigestMap"]();
                    for (const block of overflowBlocks){
                        const overflowBlockHeaderLength = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["blockHeaderEncodingLength"])(block);
                        overflowSlices.set(block.cid.multihash, [
                            headerLength + overflowCurrentLength + overflowBlockHeaderLength,
                            block.bytes.length
                        ]);
                        overflowCurrentLength += overflowBlockHeaderLength + block.bytes.length;
                    }
                    controller.enqueue(await encodeCAR(overflowBlocks, overflowSlices, rootCID));
                } else {
                    // adjust offsets for longer header in final shard
                    const diff = headerLength - (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["headerEncodingLength"])();
                    for (const slice of slices.values()){
                        slice[0] += diff;
                    }
                    controller.enqueue(await encodeCAR(blocks, slices, rootCID));
                }
            }
        });
    }
}
const defaultFileComparator = (a, b, getComparedValue = (file)=>file.name)=>{
    return ascending(a, b, getComparedValue);
};
/**
 * a comparator for sorting in ascending order. Use with Sorted or Array#sort.
 *
 * @template T
 * @param {T} a
 * @param {T} b
 * @param {(i: T) => any} getComparedValue - given an item being sorted, return the value by which it should be sorted, if it is different than the item
 */ function ascending(a, b, getComparedValue) {
    const ask = getComparedValue(a);
    const bsk = getComparedValue(b);
    if (ask === bsk) return 0;
    else if (ask < bsk) return -1;
    return 1;
}
/**
 * @param {Iterable<import('@ipld/unixfs').Block>} blocks
 * @param {Map<import('./types.js').SliceDigest, import('./types.js').Position>} slices
 * @param {import('./types.js').AnyLink} [root]
 * @returns {Promise<import('./types.js').IndexedCARFile>}
 */ const encodeCAR = async (blocks, slices, root)=>Object.assign(await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encode"])(blocks, root), {
        slices
    }); //# sourceMappingURL=sharding.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "uploadBlockStream",
    ()=>uploadBlockStream,
    "uploadBlocks",
    ()=>uploadBlocks,
    "uploadCAR",
    ()=>uploadCAR,
    "uploadDirectory",
    ()=>uploadDirectory,
    "uploadFile",
    ()=>uploadFile
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3$2d$storage$2f$data$2d$segment$2f$src$2f$multihash$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3-storage/data-segment/src/multihash.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3$2d$storage$2f$data$2d$segment$2f$src$2f$multihash$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3-storage/data-segment/src/multihash.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$filecoin$2d$client$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/filecoin-client/dist/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$filecoin$2d$client$2f$dist$2f$storefront$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Storefront$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/filecoin-client/dist/storefront.js [app-client] (ecmascript) <export * as Storefront>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/multiformats/dist/src/link.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/multiformats/dist/src/codecs/raw.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$digest$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/multiformats/dist/src/hashes/digest.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$sha2$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/multiformats/dist/src/hashes/sha2-browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/add.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$unixfs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/unixfs.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/car.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$deduplication$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/deduplication.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/sharding.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/blob-index/dist/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$sharded$2d$dag$2d$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ShardedDAGIndex$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/blob-index/dist/sharded-dag-index.js [app-client] (ecmascript) <export * as ShardedDAGIndex>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/blob-index/dist/util.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$service$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/service.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$receipts$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/receipts.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
/** @param {Uint8Array} bytes */ const isSubArray = (bytes)=>bytes.byteOffset !== 0 || bytes.buffer.byteLength !== bytes.byteLength;
async function uploadFile(conf, file, options = {}) {
    const shardSize = options.shardSize ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SHARD_SIZE"];
    if (file.size != null && file.size < shardSize) {
        const { blocks, cid } = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$unixfs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFile"](file, options);
        return await uploadBlocks(conf, blocks, {
            rootCID: cid,
            ...options
        });
    }
    return await uploadBlockStream(conf, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$unixfs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFileEncoderStream"](file, options), options);
}
async function uploadDirectory(conf, files, options = {}) {
    const { customOrder = false } = options;
    const entries = customOrder ? files : [
        ...files
    ].sort(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["defaultFileComparator"]);
    let size = 0;
    let isKnownSize = true;
    for (const entry of entries){
        if (entry.size == null) {
            isKnownSize = false;
            break;
        }
        size += entry.size;
    }
    const shardSize = options.shardSize ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SHARD_SIZE"];
    if (isKnownSize && size < shardSize) {
        const { blocks, cid } = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$unixfs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeDirectory"](entries, options);
        return await uploadBlocks(conf, blocks, {
            rootCID: cid,
            ...options
        });
    }
    return await uploadBlockStream(conf, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$unixfs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createDirectoryEncoderStream"](entries, options), options);
}
async function uploadCAR(conf, car, options = {}) {
    const shardSize = options.shardSize ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SHARD_SIZE"];
    if (car.size != null && car.size < shardSize) {
        const { blocks, roots } = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decode"](car);
        return await uploadBlocks(conf, blocks, {
            rootCID: roots[0],
            ...options
        });
    }
    const blocks = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BlockStream"](car);
    options.rootCID = options.rootCID ?? (await blocks.getRoots())[0];
    return await uploadBlockStream(conf, blocks, options);
}
async function uploadBlockStream(conf, blocks, { pieceHasher = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3$2d$storage$2f$data$2d$segment$2f$src$2f$multihash$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, ...options } = {}) {
    /** @type {import('./types.js').InvocationConfigurator} */ const configure = typeof conf === 'function' ? conf : ()=>conf;
    /** @type {Array<Map<import('./types.js').SliceDigest, import('./types.js').Position>>} */ const shardIndexes = [];
    /** @type {import('./types.js').CARLink[]} */ const shards = [];
    /** @type {import('./types.js').AnyLink?} */ let root = null;
    if (options.dedupe == null || options.dedupe === true) {
        blocks = blocks.pipeThrough(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$deduplication$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BlockDeduplicationStream"]());
    }
    await blocks.pipeThrough(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ShardingStream"](options)).pipeThrough(new TransformStream({
        async transform (car, controller) {
            const bytes = new Uint8Array(await car.arrayBuffer());
            const digest = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$sha2$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha256"].digest(bytes);
            const conf = await configure([
                {
                    can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                    nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](digest, bytes.length)
                }
            ]);
            // Invoke blob/add and write bytes to write target
            await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](conf, digest, bytes, options);
            const cid = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], digest);
            let piece;
            if (pieceHasher) {
                const multihashDigest = await pieceHasher.digest(bytes);
                /** @type {import('@storacha/capabilities/types').PieceLink} */ piece = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], multihashDigest);
                const content = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], digest);
                // Invoke filecoin/offer for data
                const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$filecoin$2d$client$2f$dist$2f$storefront$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Storefront$3e$__["Storefront"].filecoinOffer({
                    issuer: conf.issuer,
                    audience: conf.audience,
                    // Resource of invocation is the issuer did for being self issued
                    with: conf.issuer.did(),
                    proofs: conf.proofs
                }, content, piece, options);
                if (result.out.error) {
                    throw new Error('failed to offer piece for aggregation into filecoin deal', {
                        cause: result.out.error
                    });
                }
            }
            const { version, roots, size, slices } = car;
            controller.enqueue({
                version,
                roots,
                size,
                cid,
                piece,
                slices
            });
        }
    })).pipeTo(new WritableStream({
        write (meta) {
            root = root || meta.roots[0];
            shards.push(meta.cid);
            // Make copies of digests that are views on bigger byte arrays. This
            // prevents memory leak where the bytes for the rest of the CAR cannot
            // be released because the digest is a view over just a small portion
            // of the chunk.
            for (const [s, p] of meta.slices){
                if (isSubArray(s.bytes)) {
                    meta.slices.set(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$digest$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decode"](s.bytes.slice()), p);
                }
            }
            // add the CAR shard itself to the slices
            meta.slices.set(meta.cid.multihash, [
                0,
                meta.size
            ]);
            shardIndexes.push(meta.slices);
            if (options.onShardStored) options.onShardStored(meta);
        }
    }));
    /* c8 ignore next */ if (!root) throw new Error('missing root CID');
    const indexBytes = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$util$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["indexShardedDAG"])(root, shards, shardIndexes);
    /* c8 ignore next 3 */ if (!indexBytes.ok) {
        throw new Error('failed to archive DAG index', {
            cause: indexBytes.error
        });
    }
    const indexDigest = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$sha2$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha256"].digest(indexBytes.ok);
    const indexLink = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], indexDigest);
    const [blobAddConf, indexAddConf, uploadAddConf] = await Promise.all([
        configure([
            {
                can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](indexDigest, indexBytes.ok.length)
            }
        ]),
        configure([
            {
                can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](indexLink)
            }
        ]),
        configure([
            {
                can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](root, shards)
            }
        ])
    ]);
    // Store the index in the space
    await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](blobAddConf, indexDigest, indexBytes.ok, options);
    // Register the index with the service
    await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](indexAddConf, indexLink, options);
    // Register an upload with the service
    await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](uploadAddConf, root, shards, options);
    return root;
}
async function uploadBlocks(conf, blocks, { pieceHasher = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3$2d$storage$2f$data$2d$segment$2f$src$2f$multihash$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__, ...options } = {}) {
    /** @type {import('./types.js').InvocationConfigurator} */ const configure = typeof conf === 'function' ? conf : ()=>conf;
    if (options.dedupe == null || options.dedupe === true) {
        blocks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$deduplication$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["dedupe"])(blocks);
    }
    /** @type {import('./types.js').IndexedCARFile} */ let car;
    const blockStream = new ReadableStream({
        pull (controller) {
            for (const b of blocks){
                controller.enqueue(b);
            }
            controller.close();
        }
    });
    // encode indexed CAR
    await blockStream.pipeThrough(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$sharding$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ShardingStream"]({
        ...options,
        shardSize: Infinity
    })).pipeTo(new WritableStream({
        write: (c)=>{
            car = c;
        }
    }));
    /* c8 ignore next 2 */ // @ts-expect-error no used before defined
    if (!car) throw new Error('missing CAR output');
    const root = car.roots[0];
    const bytes = new Uint8Array(await car.arrayBuffer());
    const digest = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$sha2$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha256"].digest(bytes);
    const [shardLink, indexLink] = await Promise.all([
        (async ()=>{
            const conf = await configure([
                {
                    can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                    nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](digest, bytes.length)
                }
            ]);
            // Invoke blob/add and write bytes to write target
            await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](conf, digest, bytes, options);
            const cid = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], digest);
            let piece;
            if (pieceHasher) {
                const multihashDigest = await pieceHasher.digest(bytes);
                /** @type {import('@storacha/capabilities/types').PieceLink} */ piece = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], multihashDigest);
                // Invoke filecoin/offer for data
                const result = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$filecoin$2d$client$2f$dist$2f$storefront$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__Storefront$3e$__["Storefront"].filecoinOffer({
                    issuer: conf.issuer,
                    audience: conf.audience,
                    // Resource of invocation is the issuer did for being self issued
                    with: conf.issuer.did(),
                    proofs: conf.proofs
                }, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$codecs$2f$raw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], digest), piece, options);
                if (result.out.error) {
                    throw new Error('failed to offer piece for aggregation into filecoin deal', {
                        cause: result.out.error
                    });
                }
            }
            const { version, roots, size, slices } = car;
            options.onShardStored?.({
                version,
                roots,
                size,
                piece,
                cid,
                slices
            });
            return cid;
        })(),
        (async ()=>{
            const index = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$blob$2d$index$2f$dist$2f$sharded$2d$dag$2d$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ShardedDAGIndex$3e$__["ShardedDAGIndex"].create(root);
            for (const [slice, pos] of car.slices){
                index.setSlice(digest, slice, pos);
            }
            // add the CAR shard itself to the slices
            index.setSlice(digest, digest, [
                0,
                car.size
            ]);
            const indexBytes = await index.archive();
            /* c8 ignore next 5 */ if (!indexBytes.ok) {
                throw new Error('failed to archive DAG index', {
                    cause: indexBytes.error
                });
            }
            const indexDigest = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$hashes$2f$sha2$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha256"].digest(indexBytes.ok);
            const indexLink = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$multiformats$2f$dist$2f$src$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["code"], indexDigest);
            const conf = await configure([
                {
                    can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                    nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](indexDigest, indexBytes.ok.length)
                }
            ]);
            // Store the index in the space
            await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](conf, indexDigest, indexBytes.ok, options);
            return indexLink;
        })()
    ]);
    await Promise.all([
        (async ()=>{
            const conf = await configure([
                {
                    can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                    nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](indexLink)
                }
            ]);
            // Register the index with the service
            await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](conf, indexLink, options);
        })(),
        (async ()=>{
            const conf = await configure([
                {
                    can: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ability"],
                    nb: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["input"](root, [
                        shardLink
                    ])
                }
            ]);
            // Register an upload with the service
            await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$add$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["add"](conf, root, [
                shardLink
            ], options);
        })()
    ]);
    return root;
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@storacha/upload-client/dist/receipts.js [app-client] (ecmascript) <export * as Receipt>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Receipt",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$receipts$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$receipts$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/receipts.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript) <export * as Blob>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Blob",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$blob$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/blob/index.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript) <export * as Index>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Index",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$index$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/index/index.js [app-client] (ecmascript)");
}),
"[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript) <export * as Upload>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Upload",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$upload$2d$client$2f$dist$2f$upload$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/upload-client/dist/upload/index.js [app-client] (ecmascript)");
}),
]);

//# sourceMappingURL=node_modules_%40storacha_upload-client_dist_cb522eb4._.js.map