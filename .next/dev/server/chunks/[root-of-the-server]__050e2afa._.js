module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/node:buffer [external] (node:buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:buffer", () => require("node:buffer"));

module.exports = mod;
}),
"[externals]/node:crypto [external] (node:crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:crypto", () => require("node:crypto"));

module.exports = mod;
}),
"[externals]/node:util [external] (node:util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:util", () => require("node:util"));

module.exports = mod;
}),
"[externals]/node:process [external] (node:process, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:process", () => require("node:process"));

module.exports = mod;
}),
"[externals]/node:fs [external] (node:fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:fs", () => require("node:fs"));

module.exports = mod;
}),
"[externals]/node:path [external] (node:path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:path", () => require("node:path"));

module.exports = mod;
}),
"[externals]/node:assert [external] (node:assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:assert", () => require("node:assert"));

module.exports = mod;
}),
"[externals]/node:events [external] (node:events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:events", () => require("node:events"));

module.exports = mod;
}),
"[externals]/node:os [external] (node:os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:os", () => require("node:os"));

module.exports = mod;
}),
"[externals]/node:stream [external] (node:stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:stream", () => require("node:stream"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[project]/app/api/storacha-delegation/[did]/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$index$2e$node$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/client/dist/index.node.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$stores$2f$memory$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/client/dist/stores/memory.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$access$2f$dist$2f$stores$2f$store$2d$memory$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/access/dist/stores/store-memory.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$proof$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@storacha/client/dist/proof.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$principal$2f$ed25519$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@storacha/client/dist/principal/ed25519.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$principal$2f$src$2f$ed25519$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ucanto/principal/src/ed25519.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$ucan$2f$src$2f$did$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@ipld/dag-ucan/src/did.js [app-route] (ecmascript)");
;
;
;
;
;
async function GET(request, { params }) {
    const { did } = await params;
    const principal = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ucanto$2f$principal$2f$src$2f$ed25519$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Signer"].parse(("TURBOPACK compile-time value", "MgCYAaYElvLJf/tF+Ind+KcybTfn+IGPMXLodyoeggts7Lu0BPuXYVKx34VwLAhEffd62npA+GCpgbqSWt0M1H0dRK2E=") || '');
    const store = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$access$2f$dist$2f$stores$2f$store$2d$memory$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["StoreMemory"]();
    const client = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$index$2e$node$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["create"]({
        principal,
        store
    });
    const proof = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$storacha$2f$client$2f$dist$2f$proof$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["parse"](("TURBOPACK compile-time value", "mAYIEAO8NEaJlcm9vdHOAZ3ZlcnNpb24BygIBcRIgSjdT8auPKutIaAuYHZ+zBDX4CdHclGUhmdA0ftXhi5OoYXNYRO2hA0DVHf/0UXsqCY9G7KSdbjy5bSko7mV/cJ5e6E2Fmrj2oWsJemjXNCAZyklKL5A6zhxo1O3vXy+WZtS5z2bOYNsJYXZlMC45LjFjYXR0gaJjY2FuYSpkd2l0aHg4ZGlkOmtleTp6Nk1rZmFnbWVnN3k2QnB3bXJyVGlIdFNkc2Z1QXZpNGR5dlJ4VUI2blVrNEVtQktjYXVkWCSdGm1haWx0bzppZGVhbGFicy5uZXR3b3JrOmRyaWVtd29ya3NjZXhw9mNmY3SBoWVzcGFjZaJkbmFtZWdGQU5HT1JOZmFjY2Vzc6FkdHlwZWZwdWJsaWNjaXNzWCLtARDCtZwsF7t5ZBPXX4SdBuiB7avNAVB7GsKVI/zWj2/eY3ByZoDHAgFxEiBBQQEU6OQzZIayD+NUQIKStaA5X9KOVgeSjBQN0cH4gKhhc0SAoAMAYXZlMC45LjFjYXR0gaJjY2FuYSpkd2l0aGZ1Y2FuOipjYXVkWCLtAX5JuR2/p8mQ9rGY1msq0eL3hdkpNrJshKLlWeKGTOWcY2V4cPZjZmN0gaJuYWNjZXNzL2NvbmZpcm3YKlglAAFxEiBGPfHQw/K2f5WH1SxPi8AdQor9YTb1ggxBdPt7PTjbCG5hY2Nlc3MvcmVxdWVzdNgqWCUAAXESINLPI3rmFXh5U0YR97BQdl5EPrV7pQfJmZ/JnZ3rTut9Y2lzc1gknRptYWlsdG86aWRlYWxhYnMubmV0d29yazpkcmllbXdvcmtzY3ByZoHYKlglAAFxEiBKN1Pxq48q60hoC5gdn7MENfgJ0dyUZSGZ0DR+1eGLk6cDAXESIOspTy8nMI8lUkV2VcIzeH7vsM/zAAmjaHhZygzshORpqGFzWETtoQNAtNpPnJ1gMSAsOBqeTI2SrQ0cVGGQyeBruUr7n9/Znz7iTRogkD2sVEgWVPfZWHJ6nQG7U0mZEt+Hpz7sVlKPBGF2ZTAuOS4xY2F0dIGjYm5ioWVwcm9vZtgqWCUAAXESIEFBARTo5DNkhrIP41RAgpK1oDlf0o5WB5KMFA3RwfiAY2Nhbmt1Y2FuL2F0dGVzdGR3aXRoeBtkaWQ6d2ViOnVwLnN0b3JhY2hhLm5ldHdvcmtjYXVkWCLtAX5JuR2/p8mQ9rGY1msq0eL3hdkpNrJshKLlWeKGTOWcY2V4cPZjZmN0gaJuYWNjZXNzL2NvbmZpcm3YKlglAAFxEiBGPfHQw/K2f5WH1SxPi8AdQor9YTb1ggxBdPt7PTjbCG5hY2Nlc3MvcmVxdWVzdNgqWCUAAXESINLPI3rmFXh5U0YR97BQdl5EPrV7pQfJmZ/JnZ3rTut9Y2lzc1gZnRp3ZWI6dXAuc3RvcmFjaGEubmV0d29ya2NwcmaAnQUBcRIgU01Wa6CIFMntf1C1qh9R8F7gSh6dhzb44H4AYqt6wvGoYXNYRO2hA0CKlKFq547xWg+Sf5zj3miowtepnYFJacd4s8j8190YPzoFNfhwhntHtg3wmQrWYxB/XdUdvfG4SsQTpq+zvigDYXZlMC45LjFjYXR0hKJjY2FubnNwYWNlL2Jsb2IvYWRkZHdpdGh4OGRpZDprZXk6ejZNa2ZhZ21lZzd5NkJwd21yclRpSHRTZHNmdUF2aTRkeXZSeFVCNm5VazRFbUJLomNjYW5vc3BhY2UvaW5kZXgvYWRkZHdpdGh4OGRpZDprZXk6ejZNa2ZhZ21lZzd5NkJwd21yclRpSHRTZHNmdUF2aTRkeXZSeFVCNm5VazRFbUJLomNjYW5uZmlsZWNvaW4vb2ZmZXJkd2l0aHg4ZGlkOmtleTp6Nk1rZmFnbWVnN3k2QnB3bXJyVGlIdFNkc2Z1QXZpNGR5dlJ4VUI2blVrNEVtQkuiY2Nhbmp1cGxvYWQvYWRkZHdpdGh4OGRpZDprZXk6ejZNa2ZhZ21lZzd5NkJwd21yclRpSHRTZHNmdUF2aTRkeXZSeFVCNm5VazRFbUJLY2F1ZFgi7QE+5dhUrHfhXAsCER993raekD4YKmBupJa3QzUfR1ErYWNleHD2Y2ZjdIGhZXNwYWNlomRuYW1lZ0ZBTkdPUk5mYWNjZXNzoWR0eXBlZnB1YmxpY2Npc3NYIu0Bfkm5Hb+nyZD2sZjWayrR4veF2Sk2smyEouVZ4oZM5ZxjcHJmgtgqWCUAAXESIEFBARTo5DNkhrIP41RAgpK1oDlf0o5WB5KMFA3RwfiA2CpYJQABcRIg6ylPLycwjyVSRXZVwjN4fu+wz/MACaNoeFnKDOyE5Gk") || '');
    const space = await client.addSpace(proof);
    await client.setCurrentSpace(space.did());
    // Delegate to the user's agent
    const audience = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$ipld$2f$dag$2d$ucan$2f$src$2f$did$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["parse"](did);
    const abilities = [
        'space/blob/add',
        'space/index/add',
        'filecoin/offer',
        'upload/add'
    ];
    const expiration = Math.floor(Date.now() / 1000) + 60 * 60 // 1 hour
    ;
    const delegation = await client.createDelegation(audience, abilities, {
        expiration
    });
    const archive = await delegation.archive();
    if (!archive.ok) {
        return new Response('Failed to create delegation', {
            status: 500
        });
    }
    return new Response(Buffer.from(archive.ok), {
        headers: {
            'Content-Type': 'application/octet-stream'
        }
    });
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__050e2afa._.js.map